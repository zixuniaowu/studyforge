import{c as U,j as e,P as I,r as y,u as k,C as F,g as _,_ as P,G,N as R}from"./index-C70cG7nT.js";import{u as C,k as X,a as E}from"./kidsProgressStore-DZV-rkyN.js";import{L as Y}from"./LottieAnimations-C9L049ef.js";import{L as z}from"./lock-CkTSr5hM.js";import{C as S}from"./circle-check-big-jIxCMg9x.js";import{S as $}from"./star-BDZsaxOB.js";import{C as Z}from"./chevron-left-CK1bqmyg.js";import{T as L}from"./trophy-Cv3_QBWU.js";import{H as W}from"./house-Bext_wvL.js";import{F as B}from"./flame-v0EoTIdQ.js";const H=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],q=U("list",H),K=({lesson:s,unitColor:a,position:i,onClick:t,isActive:g})=>{const{getLessonStatus:o,progress:r}=C(),n=o(s.id),m=r[s.id]?.starsEarned||0,c=(()=>{switch(n){case"locked":return{bg:"#9CA3AF",border:"#6B7280",shadow:"rgba(107, 114, 128, 0.3)",glow:!1};case"available":case"in-progress":return{bg:a,border:a,shadow:`${a}60`,glow:!0};case"completed":return{bg:"#10B981",border:"#059669",shadow:"rgba(16, 185, 129, 0.4)",glow:!1};default:return{bg:"#9CA3AF",border:"#6B7280",shadow:"rgba(107, 114, 128, 0.3)",glow:!1}}})(),u={video:"ğŸ¬",reading:"ğŸ“–",interactive:"ğŸ®",quiz:"ğŸ“",project:"ğŸ› ï¸"};return e.jsxs("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2",style:{left:i.x,top:i.y},children:[c.glow&&e.jsx("div",{className:"absolute inset-0 rounded-full animate-ping opacity-30",style:{backgroundColor:a,width:"80px",height:"80px",left:"-8px",top:"-8px"}}),e.jsxs("button",{onClick:t,disabled:n==="locked",className:`
          relative w-16 h-16 rounded-full flex items-center justify-center
          transition-all duration-300 transform
          ${n==="locked"?"cursor-not-allowed":"cursor-pointer hover:scale-110"}
          ${g?"scale-125 z-20":"z-10"}
        `,style:{backgroundColor:c.bg,border:`4px solid ${c.border}`,boxShadow:`0 4px 20px ${c.shadow}`},children:[n==="locked"?e.jsx(z,{className:"w-6 h-6 text-white"}):n==="completed"?e.jsx(S,{className:"w-8 h-8 text-white"}):e.jsx(I,{className:"w-8 h-8 text-white fill-white"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-7 h-7 rounded-full bg-white shadow-lg flex items-center justify-center text-sm font-bold",style:{color:c.bg},children:s.order})]}),e.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 text-xl",children:u[s.type]||"ğŸ“š"}),n==="completed"&&m>0&&e.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 flex items-center gap-0.5",children:[...Array(Math.min(3,Math.ceil(m/5)))].map((p,l)=>e.jsx($,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"},l))}),(n==="available"||n==="in-progress")&&e.jsx("div",{className:"absolute inset-0 rounded-full animate-pulse opacity-50",style:{backgroundColor:a,width:"64px",height:"64px"}})]})},O=({from:s,to:a,fromLessonId:i,toLessonId:t,unitColor:g})=>{const{getLessonStatus:o}=C(),r=o(i),n=o(t),m=r==="completed",h=m||n!=="locked",c=(s.x+a.x)/2,u=(s.y+a.y)/2,p=a.x-s.x,l=a.y-s.y,N=Math.min(Math.abs(p),Math.abs(l))*.3,b=c+(l>0?N:-N),w=u+(p>0?-N:N),j=`M ${s.x} ${s.y} Q ${b} ${w} ${a.x} ${a.y}`;return e.jsxs("g",{children:[e.jsx("path",{d:j,fill:"none",stroke:"#E5E7EB",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:h?"none":"12 8"}),m&&e.jsxs(e.Fragment,{children:[e.jsx("path",{d:j,fill:"none",stroke:g,strokeWidth:"6",strokeLinecap:"round",className:"transition-all duration-500"}),e.jsx("circle",{r:"4",fill:"white",className:"animate-path-travel",children:e.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:j})})]}),!h&&e.jsx(e.Fragment,{children:[.25,.5,.75].map((x,d)=>{const v=s.x+(a.x-s.x)*x,D=s.y+(a.y-s.y)*x;return e.jsx("circle",{cx:v,cy:D,r:"5",fill:"#D1D5DB",className:"animate-pulse",style:{animationDelay:`${d*.2}s`}},d)})})]})},Q={forest:{emojis:["ğŸŒ²","ğŸŒ³","ğŸŒ¿","ğŸ„","ğŸ¦‹","ğŸ¦","ğŸŒ¸","ğŸŒº"],bgGradient:"linear-gradient(180deg, #A8E6CF 0%, #88D8B0 50%, #6BC5A0 100%)",floating:["ğŸƒ","ğŸ¦‹","âœ¨"]},city:{emojis:["ğŸ™ï¸","ğŸ¢","ğŸ¬","ğŸš—","ğŸšŒ","ğŸš¦","ğŸª","ğŸ¡"],bgGradient:"linear-gradient(180deg, #87CEEB 0%, #B0E0E6 50%, #ADD8E6 100%)",floating:["â˜ï¸","ğŸˆ","ğŸ•Šï¸"]},ocean:{emojis:["ğŸŒŠ","ğŸ ","ğŸŸ","ğŸ™","ğŸ¦€","ğŸš","ğŸª¸","âš“"],bgGradient:"linear-gradient(180deg, #48D1CC 0%, #40E0D0 50%, #20B2AA 100%)",floating:["ğŸ«§","ğŸ ","âœ¨"]},space:{emojis:["ğŸš€","ğŸ›¸","ğŸŒŸ","â­","ğŸŒ™","ğŸª","â˜„ï¸","ğŸŒŒ"],bgGradient:"linear-gradient(180deg, #2D1B69 0%, #1A0A3A 50%, #0D0520 100%)",floating:["âœ¨","ğŸ’«","â­"]}},V=({theme:s,width:a,height:i})=>{const t=Q[s],o=(()=>{const r=[],n=[];for(let m=0;m<12;m++){let h,c,u=0;do h=Math.random()*(a-60)+30,c=Math.random()*(i-60)+30,u++;while(n.some(p=>Math.abs(p.x-h)<50&&Math.abs(p.y-c)<50)&&u<10);n.push({x:h,y:c}),r.push({emoji:t.emojis[m%t.emojis.length],x:h,y:c,delay:m*.3,scale:.8+Math.random()*.4,opacity:.3+Math.random()*.3})}return r})();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:t.bgGradient,opacity:.4}}),o.map((r,n)=>e.jsx("div",{className:"absolute pointer-events-none select-none animate-float",style:{left:r.x,top:r.y,fontSize:`${24*r.scale}px`,opacity:r.opacity,animationDelay:`${r.delay}s`,animationDuration:`${3+Math.random()*2}s`},children:r.emoji},`deco-${n}`)),[...Array(6)].map((r,n)=>e.jsx("div",{className:"absolute pointer-events-none select-none animate-float-slow",style:{left:`${10+n*15}%`,top:`${20+n%3*25}%`,fontSize:"20px",opacity:.5,animationDelay:`${n*.5}s`},children:t.floating[n%t.floating.length]},`float-${n}`)),s==="space"&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(20)].map((r,n)=>e.jsx("div",{className:"absolute rounded-full bg-white animate-twinkle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${1+Math.random()*2}px`,height:`${1+Math.random()*2}px`,opacity:.5+Math.random()*.5,animationDelay:`${Math.random()*2}s`}},`star-${n}`))}),s==="ocean"&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 pointer-events-none",children:e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-full animate-wave",style:{background:"linear-gradient(180deg, transparent 0%, rgba(32, 178, 170, 0.3) 100%)"}})})]})},J=({theme:s})=>{const i={forest:{emoji:"ğŸŒ²",label:"æ£®æ—ä¸–ç•Œ"},city:{emoji:"ğŸ™ï¸",label:"åŸå¸‚æ¢ç´¢"},ocean:{emoji:"ğŸŒŠ",label:"æµ·æ´‹å†’é™©"},space:{emoji:"ğŸš€",label:"å¤ªç©ºä¹‹æ—…"}}[s];return e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full shadow-lg",children:[e.jsx("span",{className:"text-2xl",children:i.emoji}),e.jsx("span",{className:"font-bold text-gray-700",children:i.label})]})},ee=["forest","city","ocean","space"],se=(s,a,i)=>{const t=[],r=a-80,n=i-100,m=Math.ceil(s.length/3);return s.forEach((h,c)=>{const u=Math.floor(c/3),p=c%3,N=40+(u%2===0?p:2-p)/2*r,b=50+(m>1?u/(m-1)*n*.85:n*.4),w=(Math.random()-.5)*20,j=(Math.random()-.5)*15;t.push({x:Math.max(40,Math.min(a-40,N+w)),y:Math.max(50,Math.min(i-50,b+j))})}),t},te=({units:s,onLessonClick:a})=>{const i=y.useRef(null),[t,g]=y.useState(0),[o,r]=y.useState({width:800,height:600}),{language:n}=k(),{progress:m}=C(),h=n==="zh";y.useEffect(()=>{const x=()=>{if(i.current){const d=i.current.getBoundingClientRect();r({width:d.width||window.innerWidth-48,height:Math.max(500,Math.min(700,window.innerHeight-300))})}};return setTimeout(x,100),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const c=s[t],u=ee[t]||"forest",p=c?.lessons||[],l=se(p,o.width,o.height),b=(x=>{const d=x.lessons.filter(v=>m[v.id]?.status==="completed").length;return{completed:d,total:x.lessons.length,percentage:Math.round(d/x.lessons.length*100)}})(c),w=()=>{t>0&&g(t-1)},j=()=>{t<s.length-1&&g(t+1)};return e.jsxs("div",{ref:i,className:"relative w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-4",children:[e.jsx("button",{onClick:w,disabled:t===0,className:`p-3 rounded-full transition-all ${t===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-white shadow-lg hover:shadow-xl text-gray-700 hover:scale-110"}`,children:e.jsx(Z,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(J,{theme:u}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:h?c.title.zh:c.title.ja}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:s.map((x,d)=>e.jsx("button",{onClick:()=>g(d),className:`w-3 h-3 rounded-full transition-all ${d===t?"bg-purple-500 w-8":d<t?"bg-green-400":"bg-gray-300"}`},d))}),e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-white/80 rounded-full text-sm",children:[e.jsx(L,{className:"w-4 h-4 text-yellow-500"}),e.jsxs("span",{className:"font-medium",children:[b.completed,"/",b.total]})]})]})]}),e.jsx("button",{onClick:j,disabled:t===s.length-1,className:`p-3 rounded-full transition-all ${t===s.length-1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-white shadow-lg hover:shadow-xl text-gray-700 hover:scale-110"}`,children:e.jsx(F,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"relative w-full rounded-3xl overflow-hidden shadow-xl border-4 border-white/50",style:{height:o.height},children:[e.jsx(V,{theme:u,width:o.width,height:o.height}),e.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:p.slice(0,-1).map((x,d)=>e.jsx(O,{from:l[d],to:l[d+1],fromLessonId:x.id,toLessonId:p[d+1].id,unitColor:c.color},`path-${x.id}`))}),p.map((x,d)=>e.jsx(K,{lesson:x,unitColor:c.color,position:l[d],onClick:()=>a(x)},x.id)),p.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute text-xl font-bold text-green-600 animate-bounce pointer-events-none whitespace-nowrap",style:{left:Math.max(5,l[0].x-50),top:l[0].y-30},children:h?"ğŸš€å‡ºå‘!":"ğŸš€ã‚¹ã‚¿ãƒ¼ãƒˆ!"}),e.jsx("div",{className:"absolute text-2xl animate-bounce pointer-events-none",style:{left:Math.min(l[l.length-1].x+30,o.width-40),top:l[l.length-1].y-10},children:"ğŸ†"})]}),b.percentage===100&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-3xl p-8 text-center shadow-2xl animate-bounceIn",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ğŸ‰"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:h?"å•å…ƒå®Œæˆ!":"ãƒ¦ãƒ‹ãƒƒãƒˆå®Œäº†!"}),e.jsx("p",{className:"text-gray-600",children:h?"å¤ªæ£’äº†ï¼ç»§ç»­ä¸‹ä¸€ä¸ªå†’é™©å§ï¼":"ç´ æ™´ã‚‰ã—ã„ï¼æ¬¡ã®å†’é™ºã¸ï¼"}),e.jsxs("button",{onClick:j,className:"mt-4 px-6 py-2 bg-purple-500 text-white rounded-full hover:bg-purple-600 transition-colors",children:[h?"ç»§ç»­":"ç¶šã‘ã‚‹"," â†’"]})]})})]})]})},A={primary:"#FF6B6B",green:"#10B981",bg:"#FFF8F0"},ae=()=>e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[[...Array(8)].map((s,a)=>e.jsx("div",{className:"absolute animate-float opacity-20",style:{left:`${5+a*12}%`,top:`${10+a%4*20}%`,animationDelay:`${a*.5}s`,animationDuration:`${4+a%3}s`},children:e.jsx("span",{className:"text-3xl",children:["â­","ğŸŒŸ","âœ¨","ğŸ’«","ğŸˆ","ğŸ€","ğŸŒˆ","ğŸ¦‹"][a]})},`star-${a}`)),[...Array(4)].map((s,a)=>e.jsx("div",{className:"absolute animate-float-slow opacity-15",style:{right:`${5+a*20}%`,top:`${15+a*20}%`,animationDelay:`${a*2}s`},children:e.jsx("span",{className:"text-6xl",children:"â˜ï¸"})},`cloud-${a}`))]}),le=({message:s,className:a=""})=>{const[i,t]=y.useState(""),[g,o]=y.useState(!0);return y.useEffect(()=>{t(""),o(!0);let r=0;const n=setInterval(()=>{r<s.length?(t(s.slice(0,r+1)),r++):(o(!1),clearInterval(n))},40);return()=>clearInterval(n)},[s]),e.jsxs("div",{className:`flex items-start gap-4 ${a}`,children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx(Y,{type:"robot",size:120}),e.jsx("span",{className:"absolute -top-1 -right-1 text-xl animate-spin-star",style:{animationDuration:"3s"},children:"âœ¨"})]}),e.jsxs("div",{className:"relative bg-white rounded-2xl rounded-tl-none p-5 shadow-lg border-2 border-purple-100 max-w-lg animate-slideIn",children:[e.jsx("div",{className:"absolute -left-3 top-6 w-4 h-4 bg-white border-l-2 border-b-2 border-purple-100 transform rotate-45"}),e.jsxs("p",{className:"text-lg font-medium text-gray-700 relative z-10 leading-relaxed",children:[i,g&&e.jsx("span",{className:"animate-blink ml-1",children:"|"})]}),!g&&e.jsxs("div",{className:"flex items-center gap-1 mt-3 text-purple-400",children:[e.jsx("span",{className:"animate-bounce",style:{animationDelay:"0s"},children:"ğŸ’œ"}),e.jsx("span",{className:"animate-bounce",style:{animationDelay:"0.1s"},children:"ğŸ’œ"}),e.jsx("span",{className:"animate-bounce",style:{animationDelay:"0.2s"},children:"ğŸ’œ"})]})]})]})},ne=({current:s,total:a,color:i=A.primary})=>{const t=Math.min(100,s/a*100);return e.jsxs("div",{className:"relative w-24 bg-gray-200 rounded-full h-4 overflow-hidden",children:[e.jsx("div",{className:"h-full rounded-full transition-all duration-500 ease-out relative overflow-hidden",style:{width:`${t}%`,backgroundColor:i},children:e.jsx("div",{className:"absolute inset-0 animate-shimmer",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent)"}})}),t>10&&e.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 text-xs",style:{left:`calc(${Math.min(t,95)}% - 6px)`},children:"â­"})]})},re=({unit:s,index:a,isUnlocked:i,completedCount:t,onLessonClick:g})=>{const{language:o}=k(),r=o==="zh",[n,m]=y.useState(a===0);return e.jsxs("div",{className:"bg-white rounded-3xl shadow-lg overflow-hidden transition-all duration-300",style:{borderLeft:`8px solid ${s.color}`},children:[e.jsxs("button",{onClick:()=>i&&m(!n),className:`w-full p-6 flex items-center justify-between ${i?"cursor-pointer hover:bg-gray-50":"cursor-not-allowed opacity-60"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center text-4xl",style:{backgroundColor:`${s.color}20`},children:i?s.icon:e.jsx(z,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:r?s.title.zh:s.title.ja}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[t,"/",s.lessons.length," ",r?"è¯¾å·²å®Œæˆ":"ãƒ¬ãƒƒã‚¹ãƒ³å®Œäº†"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ne,{current:t,total:s.lessons.length,color:s.color}),e.jsx(F,{className:`w-6 h-6 text-gray-400 transition-transform ${n?"rotate-90":""}`})]})]}),n&&i&&e.jsx("div",{className:"px-6 pb-6",children:e.jsx("div",{className:"space-y-3",children:s.lessons.map(h=>e.jsx(ie,{lesson:h,unitColor:s.color,onClick:()=>g(h)},h.id))})})]})},ie=({lesson:s,unitColor:a,onClick:i})=>{const{language:t}=k(),{getLessonStatus:g}=C(),o=t==="zh",r=g(s.id),n={locked:e.jsx(z,{className:"w-5 h-5 text-gray-400"}),available:e.jsx(I,{className:"w-5 h-5 text-white"}),"in-progress":e.jsx(I,{className:"w-5 h-5 text-white"}),completed:e.jsx(S,{className:"w-5 h-5 text-white"})},m={video:"ğŸ¬",reading:"ğŸ“–",interactive:"ğŸ®",quiz:"ğŸ“",project:"ğŸ› ï¸"};return e.jsxs("button",{onClick:i,disabled:r==="locked",className:`w-full flex items-center gap-4 p-4 rounded-2xl transition-all duration-200 ${r==="locked"?"bg-gray-100 cursor-not-allowed":"bg-gray-50 hover:bg-gray-100 hover:scale-[1.02] cursor-pointer"}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold shadow-md",style:{backgroundColor:r==="locked"?"#D1D5DB":r==="completed"?A.green:a},children:n[r]}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:m[s.type]}),e.jsx("h4",{className:"font-semibold text-gray-800",children:o?s.title.zh:s.title.ja})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s.duration," ",o?"åˆ†é’Ÿ":"åˆ†"," Â· ",s.starsReward,e.jsx($,{className:"w-4 h-4 inline ml-1 text-yellow-400 fill-yellow-400"})]})]}),r==="completed"&&e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-600 text-sm rounded-full font-medium",children:o?"å·²å®Œæˆ":"å®Œäº†"}),r==="in-progress"&&e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-600 text-sm rounded-full font-medium",children:o?"å­¦ä¹ ä¸­":"å­¦ç¿’ä¸­"})]})},oe=()=>{const{language:s}=k(),{dailyTasks:a}=C(),i=s==="zh";return a?e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(R,{className:"w-6 h-6 text-yellow-500"}),i?"ä»Šæ—¥ä»»åŠ¡":"ä»Šæ—¥ã®ã‚¿ã‚¹ã‚¯"]}),e.jsx("div",{className:"space-y-3",children:a.tasks.map(t=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl ${t.completed?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[t.completed?e.jsx(S,{className:"w-6 h-6 text-green-500"}):e.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full"}),e.jsx("span",{className:t.completed?"text-green-600 line-through":"text-gray-700",children:i?t.title.zh:t.title.ja})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[t.progress,"/",t.target]}),e.jsxs("span",{className:"flex items-center text-yellow-500",children:["+",t.stars,e.jsx($,{className:"w-4 h-4 ml-0.5 fill-yellow-400"})]})]})]},t.id))})]}):null};function fe(){const s=_(),{language:a}=k(),[i,t]=y.useState("map"),{initialize:g,isLoading:o,getTotalStars:r,getLevel:n,getLevelProgress:m,getCurrentStreak:h,getCompletedLessonsCount:c,getLessonStatus:u,progress:p}=C(),l=a==="zh";y.useEffect(()=>{g()},[g]);const N=f=>{u(f.id)!=="locked"&&s(`/kids-course/${f.id}`)},b=r(),w=n(),j=m(),x=h(),d=c(),v=X.find(f=>f.level===w),D=f=>f.lessons.filter(M=>p[M.id]?.status==="completed").length,T=f=>!0;return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:A.bg},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl animate-bounce mb-4",children:"ğŸ¤–"}),e.jsx("p",{className:"text-xl text-gray-600",children:l?"åŠ è½½ä¸­...":"èª­ã¿è¾¼ã¿ä¸­..."})]})}):e.jsxs("div",{className:"min-h-screen pb-20 relative",style:{backgroundColor:A.bg},children:[e.jsx(ae,{}),e.jsx("div",{className:"sticky top-0 z-10 bg-gradient-to-r from-purple-500 via-pink-500 to-orange-400 text-white shadow-lg",children:e.jsxs("div",{className:"w-full px-6 lg:px-12 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>s("/"),className:"bg-white/20 backdrop-blur-sm rounded-2xl px-4 py-3 flex items-center gap-2 hover:bg-white/30 transition-all",children:[e.jsx(W,{className:"w-6 h-6"}),e.jsx("span",{className:"font-medium hidden sm:inline",children:l?"ä¸»é¡µ":"ãƒ›ãƒ¼ãƒ "})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl px-5 py-3 flex items-center gap-3 hover:bg-white/30 transition-all cursor-default",children:[e.jsx(L,{className:"w-7 h-7 text-yellow-300 animate-pulse"}),e.jsxs("span",{className:"font-bold text-lg",children:["Lv.",w," ",l?v?.title.zh:v?.title.ja]})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl px-5 py-3 flex items-center gap-3 hover:bg-white/30 transition-all cursor-default",children:[e.jsx($,{className:"w-7 h-7 text-yellow-300 fill-yellow-300 animate-spin-star",style:{animationDuration:"5s"}}),e.jsx("span",{className:"font-bold text-lg",children:b})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl px-5 py-3 flex items-center gap-3 hover:bg-white/30 transition-all cursor-default",children:[e.jsx(B,{className:"w-7 h-7 text-orange-300 animate-heartbeat"}),e.jsxs("span",{className:"font-bold text-lg",children:[x," ",l?"å¤©":"æ—¥"]})]}),e.jsxs("div",{className:"flex items-center bg-white/20 backdrop-blur-sm rounded-2xl p-1",children:[e.jsxs("button",{onClick:()=>t("map"),className:`px-4 py-2 rounded-xl flex items-center gap-2 transition-all ${i==="map"?"bg-white text-purple-600 shadow-md":"text-white hover:bg-white/20"}`,children:[e.jsx(P,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium hidden sm:inline",children:l?"åœ°å›¾":"ãƒãƒƒãƒ—"})]}),e.jsxs("button",{onClick:()=>t("list"),className:`px-4 py-2 rounded-xl flex items-center gap-2 transition-all ${i==="list"?"bg-white text-purple-600 shadow-md":"text-white hover:bg-white/20"}`,children:[e.jsx(q,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium hidden sm:inline",children:l?"åˆ—è¡¨":"ãƒªã‚¹ãƒˆ"})]})]}),e.jsxs("button",{onClick:()=>k.getState().setLanguage(l?"ja":"zh"),className:"bg-white/20 backdrop-blur-sm rounded-2xl px-4 py-3 flex items-center gap-2 hover:bg-white/30 transition-all",children:[e.jsx(G,{className:"w-6 h-6"}),e.jsx("span",{className:"font-medium",children:l?"æ—¥æœ¬èª":"ä¸­æ–‡"})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"animate-bounce text-sm",children:"ğŸš€"}),l?"å‡çº§è¿›åº¦":"ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—é€²æ—"]}),e.jsxs("span",{children:[j.current,"/",j.next]})]}),e.jsxs("div",{className:"relative w-full bg-white/30 rounded-full h-5 overflow-hidden",children:[e.jsx("div",{className:"h-full bg-yellow-300 rounded-full transition-all duration-500 relative overflow-hidden",style:{width:`${j.progress}%`},children:e.jsx("div",{className:"absolute inset-0 animate-shimmer",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent)"}})}),j.progress>5&&e.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:`calc(${Math.min(j.progress,97)}% - 8px)`},children:e.jsx("span",{className:"text-sm",children:"ğŸš€"})})]})]})]})}),e.jsxs("div",{className:"w-full px-6 lg:px-12 py-8",children:[e.jsx(le,{message:l?`ä½ å¥½ï¼æ¬¢è¿æ¥åˆ°AIæ¢é™©ä¹‹æ—…ï¼å·²å®Œæˆ ${d} èŠ‚è¯¾ï¼Œç»§ç»­åŠ æ²¹ï¼`:`ã“ã‚“ã«ã¡ã¯ï¼AIå†’é™ºã¸ã‚ˆã†ã“ãï¼${d}ãƒ¬ãƒƒã‚¹ãƒ³å®Œäº†ã€é ‘å¼µã£ã¦ï¼`,className:"mb-8"}),i==="map"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center gap-3",children:["ğŸ—ºï¸ ",l?"å°å°AIæ¢é™©å®¶è¯¾ç¨‹":"å°ã•ãªAIå†’é™ºå®¶ã‚³ãƒ¼ã‚¹"]}),e.jsx(te,{units:E,onLessonClick:N}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-lg text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:d}),e.jsx("div",{className:"text-sm text-purple-500 mt-1",children:l?"å·²å®Œæˆ":"å®Œäº†"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-lg text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-yellow-600 flex items-center justify-center gap-1",children:[b,e.jsx($,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"})]}),e.jsx("div",{className:"text-sm text-yellow-500 mt-1",children:l?"æ˜Ÿæ˜Ÿ":"æ˜Ÿ"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-lg text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-orange-600 flex items-center justify-center gap-1",children:[x,e.jsx(B,{className:"w-5 h-5 text-orange-400"})]}),e.jsx("div",{className:"text-sm text-orange-500 mt-1",children:l?"è¿ç»­":"é€£ç¶š"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-lg text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600 flex items-center justify-center gap-1",children:["Lv.",w,e.jsx(L,{className:"w-5 h-5 text-green-400"})]}),e.jsx("div",{className:"text-sm text-green-500 mt-1",children:l?"ç­‰çº§":"ãƒ¬ãƒ™ãƒ«"})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:["ğŸ® ",l?"AIå°æ¸¸æˆ":"AIãƒŸãƒ‹ã‚²ãƒ¼ãƒ "]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>s("/kids-classify-game"),className:"bg-gradient-to-br from-orange-400 to-pink-500 rounded-3xl p-6 text-white text-left shadow-lg hover:shadow-xl transition-all hover:scale-105",children:[e.jsx("div",{className:"text-4xl mb-3",children:"ğŸ–¼ï¸"}),e.jsx("h4",{className:"text-xl font-bold mb-2",children:l?"å›¾ç‰‡åˆ†ç±»å¤§å¸ˆ":"ç”»åƒåˆ†é¡ãƒã‚¹ã‚¿ãƒ¼"}),e.jsx("p",{className:"text-white/80 text-sm",children:l?"åƒAIä¸€æ ·ç»™å›¾ç‰‡åˆ†ç±»ï¼":"AIã®ã‚ˆã†ã«ç”»åƒã‚’åˆ†é¡ã—ã‚ˆã†ï¼"}),e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded-full",children:["6 ",l?"å…³å¡":"ãƒ¬ãƒ™ãƒ«"]}),e.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full",children:"â­ 97"})]})]}),e.jsxs("button",{onClick:()=>s("/kids-ai-trainer"),className:"bg-gradient-to-br from-purple-400 to-blue-500 rounded-3xl p-6 text-white text-left shadow-lg hover:shadow-xl transition-all hover:scale-105",children:[e.jsx("div",{className:"text-4xl mb-3",children:"ğŸ§ "}),e.jsx("h4",{className:"text-xl font-bold mb-2",children:l?"è®­ç»ƒæˆ‘çš„AI":"ç§ã®AIã‚’è¨“ç·´"}),e.jsx("p",{className:"text-white/80 text-sm",children:l?"åˆ›å»ºä½ è‡ªå·±çš„AIæ¨¡å‹ï¼":"è‡ªåˆ†ã ã‘ã®AIãƒ¢ãƒ‡ãƒ«ã‚’ä½œã‚ã†ï¼"}),e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded-full",children:["3 ",l?"é¡¹ç›®":"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"]}),e.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full",children:"â­ 60"})]})]}),e.jsxs("button",{onClick:()=>s("/kids-story"),className:"bg-gradient-to-br from-green-400 to-teal-500 rounded-3xl p-6 text-white text-left shadow-lg hover:shadow-xl transition-all hover:scale-105",children:[e.jsx("div",{className:"text-4xl mb-3",children:"ğŸ“–"}),e.jsx("h4",{className:"text-xl font-bold mb-2",children:l?"å°AIçš„å†’é™©":"å°ã•ãªAIã®å†’é™º"}),e.jsx("p",{className:"text-white/80 text-sm",children:l?"è·Ÿéšå°AIä¸€èµ·å†’é™©ï¼":"å°ã•ãªAIã¨ä¸€ç·’ã«å†’é™ºã—ã‚ˆã†ï¼"}),e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded-full",children:["4 ",l?"ç« èŠ‚":"ãƒãƒ£ãƒ—ã‚¿ãƒ¼"]}),e.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full",children:"â­ NEW"})]})]})]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center gap-3",children:["ğŸ“š ",l?"å°å°AIæ¢é™©å®¶è¯¾ç¨‹":"å°ã•ãªAIå†’é™ºå®¶ã‚³ãƒ¼ã‚¹"]}),E.map((f,M)=>e.jsx(re,{unit:f,index:M,isUnlocked:T(),completedCount:D(f),onLessonClick:N},f.id))]}),e.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[e.jsx(oe,{}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:["ğŸ“Š ",l?"å­¦ä¹ ç»Ÿè®¡":"å­¦ç¿’çµ±è¨ˆ"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-purple-50 rounded-2xl p-5 text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-purple-600",children:d}),e.jsx("div",{className:"text-sm text-purple-500 mt-2",children:l?"å·²å®Œæˆè¯¾ç¨‹":"å®Œäº†ãƒ¬ãƒƒã‚¹ãƒ³"})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-2xl p-5 text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-yellow-600",children:b}),e.jsx("div",{className:"text-sm text-yellow-500 mt-2",children:l?"è·å¾—æ˜Ÿæ˜Ÿ":"ç²å¾—ã—ãŸæ˜Ÿ"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-2xl p-5 text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-orange-600",children:x}),e.jsx("div",{className:"text-sm text-orange-500 mt-2",children:l?"è¿ç»­å¤©æ•°":"é€£ç¶šæ—¥æ•°"})]}),e.jsxs("div",{className:"bg-green-50 rounded-2xl p-5 text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-green-600",children:w}),e.jsx("div",{className:"text-sm text-green-500 mt-2",children:l?"å½“å‰ç­‰çº§":"ç¾åœ¨ã®ãƒ¬ãƒ™ãƒ«"})]})]})]})]})]})]})]})}export{fe as default};
