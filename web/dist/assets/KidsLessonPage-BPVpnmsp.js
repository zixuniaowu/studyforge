import{e as U,g as J,u as B,r,j as e,A as T,N as R}from"./index-C70cG7nT.js";import{u as H,g as K,b as V}from"./kidsProgressStore-DZV-rkyN.js";import{T as G,L as E}from"./LottieAnimations-C9L049ef.js";import{S as D}from"./star-BDZsaxOB.js";import{T as F}from"./trophy-Cv3_QBWU.js";import{A as W}from"./arrow-right-BAcxUvNg.js";import{C as L}from"./circle-question-mark-C2FweH6a.js";import{C as X}from"./circle-check-big-jIxCMg9x.js";import{C as Y}from"./circle-x-BMByeuTj.js";const q={bg:"#FFF8F0"},Z=()=>e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[[...Array(6)].map((t,s)=>e.jsx("div",{className:"absolute animate-float opacity-20",style:{left:`${10+s*15}%`,top:`${15+s%3*25}%`,animationDelay:`${s*.7}s`,animationDuration:`${4+s%3}s`},children:e.jsx("span",{className:"text-3xl",children:["â­","ðŸŒŸ","âœ¨","ðŸ’«","ðŸŽˆ","ðŸŽ€"][s]})},`star-${s}`)),[...Array(3)].map((t,s)=>e.jsx("div",{className:"absolute animate-float-slow opacity-15",style:{right:`${10+s*25}%`,top:`${20+s*25}%`,animationDelay:`${s*2}s`},children:e.jsx("span",{className:"text-5xl",children:"â˜ï¸"})},`cloud-${s}`))]}),ee=({show:t})=>{if(!t)return null;const s=["ðŸŽŠ","âœ¨","â­","ðŸŒŸ","ðŸ’«","ðŸŽ‰","ðŸŽ€","ðŸ’"];return e.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(25)].map((h,n)=>e.jsx("div",{className:"absolute animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.8}s`,animationDuration:`${1.5+Math.random()}s`},children:e.jsx("span",{className:"text-2xl",children:s[Math.floor(Math.random()*s.length)]})},n))})},te=({stars:t,onComplete:s,isZh:h})=>{const[n]=r.useState(!0);return r.useEffect(()=>{const i=setTimeout(s,4e3);return()=>clearTimeout(i)},[s]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{show:n}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-fadeIn",children:e.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-3xl p-10 text-center transform animate-bounceIn max-w-md mx-4 shadow-2xl",children:[e.jsx("div",{className:"text-8xl mb-4 animate-bounce",children:"ðŸŽ‰"}),e.jsx("div",{className:"relative",children:[...Array(6)].map((i,m)=>e.jsx("span",{className:"absolute text-2xl animate-spin-star",style:{left:`${50+40*Math.cos(m*Math.PI/3)}%`,top:`${50+40*Math.sin(m*Math.PI/3)}%`,animationDelay:`${m*.2}s`},children:"â­"},m))}),e.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:h?"å¤ªæ£’äº†ï¼":"ã™ã”ã„ï¼"}),e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6 animate-heartbeat",children:[e.jsxs("span",{className:"text-5xl font-bold text-yellow-500",children:["+",t]}),e.jsx(D,{className:"w-14 h-14 text-yellow-400 fill-yellow-400"})]}),e.jsx("p",{className:"text-xl text-gray-600",children:h?"ç»§ç»­åŠ æ²¹ï¼ä½ æ˜¯æœ€æ£’çš„ï¼":"ã“ã®èª¿å­ã§é ‘å¼µã£ã¦ï¼"}),e.jsx("div",{className:"mt-6 flex justify-center gap-2",children:["ðŸŒˆ","ðŸ¦„","ðŸŽ¨","ðŸš€","ðŸŒŸ"].map((i,m)=>e.jsx("span",{className:"text-2xl animate-bounce",style:{animationDelay:`${m*.1}s`},children:i},m))})]})})]})},se=({section:t,isZh:s})=>{const h=s?t.content.zh:t.content.ja,[n,i]=r.useState(!1);return r.useEffect(()=>{i(!0)},[]),e.jsxs("div",{className:`bg-white rounded-3xl p-8 shadow-lg mb-6 transition-all duration-500 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[t.type==="intro"&&e.jsx(G,{message:h,characterType:"robot",position:"left",isZh:s}),t.type==="text"&&e.jsx("div",{className:"prose prose-lg max-w-none",children:h.split(`
`).map((m,l)=>e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-3 animate-slideIn",style:{animationDelay:`${l*.1}s`},children:m},l))}),t.type==="image"&&t.imageUrl&&e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:t.imageUrl,alt:"",className:"max-w-full h-auto rounded-2xl mx-auto mb-4 hover:scale-105 transition-transform duration-300"}),e.jsx("span",{className:"absolute -top-2 -left-2 text-2xl animate-bounce",children:"âœ¨"}),e.jsx("span",{className:"absolute -top-2 -right-2 text-2xl animate-bounce",style:{animationDelay:"0.2s"},children:"ðŸŒŸ"})]}),e.jsx("p",{className:"text-gray-600",children:h})]}),t.type==="code"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-3xl animate-bounce",children:"ðŸ’»"}),e.jsx("p",{className:"text-lg text-gray-700",children:h})]}),t.codeExample&&e.jsxs("div",{className:"relative",children:[e.jsx("pre",{className:"bg-gray-900 text-green-400 rounded-2xl p-6 overflow-x-auto text-lg font-mono animate-slideIn",children:t.codeExample}),e.jsx("div",{className:"absolute -top-3 -right-3 bg-yellow-400 text-black px-3 py-1 rounded-full text-sm font-bold animate-bounce",children:s?"ä»£ç ":"ã‚³ãƒ¼ãƒ‰"})]})]}),t.type==="video"&&t.videoUrl&&e.jsxs("div",{className:"aspect-video rounded-2xl overflow-hidden bg-gray-900 relative",children:[e.jsx("video",{src:t.videoUrl,controls:!0,className:"w-full h-full"}),e.jsxs("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),s?"è§†é¢‘":"ãƒ“ãƒ‡ã‚ª"]})]}),t.type==="interactive"&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 opacity-30",children:e.jsx(E,{type:"stars",size:100})}),e.jsxs("div",{className:"relative flex items-start gap-4",children:[e.jsx(E,{type:"robot",size:100}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(R,{className:"w-8 h-8 text-purple-500 animate-spin-star"}),e.jsx("span",{className:"text-xl font-bold text-purple-600 animate-rainbow",children:s?"äº’åŠ¨æ—¶é—´ï¼":"ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ã‚¤ãƒ ï¼"}),e.jsx("span",{className:"text-2xl animate-bounce",children:"ðŸŽ¯"})]}),e.jsx("p",{className:"text-lg text-gray-700",children:h})]})]})]})]})},I=({exercise:t,isZh:s,onComplete:h})=>{const[n,i]=r.useState([]),[m,l]=r.useState(""),[p,k]=r.useState(!1),[y,z]=r.useState(!1),[f,g]=r.useState(!1),[S,b]=r.useState(!1),c=r.useRef(t.id),j=r.useRef(null),d=r.useRef(!0);r.useEffect(()=>{c.current=t.id,i([]),l(""),k(!1),z(!1),g(!1),b(!1),j.current&&(clearTimeout(j.current),j.current=null)},[t.id]),r.useEffect(()=>(d.current=!0,()=>{d.current=!1,j.current&&clearTimeout(j.current)}),[]);const w=a=>{if(!(p||S))if(t.type==="multiple-choice")i([a]);else if(t.type==="code-blocks")if(n.includes(a)){const o=n.indexOf(a);i(n.slice(0,o))}else i([...n,a]);else(t.type==="drag-drop"||t.type==="match")&&(n.includes(a)?i(n.filter(o=>o!==a)):i([...n,a]))},C=()=>{if(p||S)return;let a=!1;const o=Array.isArray(t.correctAnswer)?t.correctAnswer:[t.correctAnswer];t.type==="multiple-choice"?a=n[0]===o[0]:t.type==="code-blocks"?a=JSON.stringify(n)===JSON.stringify(o):t.type==="fill-blank"?a=m.trim().toLowerCase()===t.correctAnswer.toLowerCase():a=JSON.stringify(n.sort())===JSON.stringify(o.sort()),z(a),k(!0),b(!0);const v=t.id;j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{d.current&&c.current===v&&h(a)},2e3)},N=t.type==="fill-blank"?m.trim().length>0:n.length>0;return e.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-lg mb-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:s?t.question.zh:t.question.ja}),t.hint&&!p&&e.jsxs("button",{onClick:()=>g(!f),className:"flex items-center gap-2 text-blue-500 hover:text-blue-600 mt-2",children:[e.jsx(L,{className:"w-5 h-5"}),s?"éœ€è¦æç¤ºï¼Ÿ":"ãƒ’ãƒ³ãƒˆãŒå¿…è¦ï¼Ÿ"]}),f&&t.hint&&e.jsxs("div",{className:"mt-3 p-4 bg-blue-50 rounded-xl text-blue-700",children:["ðŸ’¡ ",s?t.hint.zh:t.hint.ja]})]}),t.type==="code-blocks"&&n.length>0&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-900 rounded-2xl",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:s?"ä½ çš„ä»£ç ï¼š":"ã‚ãªãŸã®ã‚³ãƒ¼ãƒ‰ï¼š"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((a,o)=>{const v=t.options?.find($=>$.id===a);return e.jsx("span",{className:"px-3 py-2 bg-green-500 text-white rounded-lg font-mono text-lg",children:v?s?v.text.zh:v.text.ja:a},o)})})]}),t.type==="fill-blank"&&e.jsx("div",{className:"mb-6",children:e.jsx("input",{type:"text",value:m,onChange:a=>l(a.target.value),disabled:p,placeholder:s?"åœ¨è¿™é‡Œè¾“å…¥ç­”æ¡ˆ...":"ã“ã“ã«ç­”ãˆã‚’å…¥åŠ›...",className:"w-full p-4 text-xl border-2 border-gray-200 rounded-2xl focus:border-purple-400 focus:outline-none"})}),t.type!=="fill-blank"&&e.jsx("div",{className:`gap-4 mb-6 ${t.type==="code-blocks"?"flex flex-wrap":"grid"}`,children:t.options?.map(a=>{const o=n.includes(a.id),v=n.indexOf(a.id),$=Array.isArray(t.correctAnswer)?t.correctAnswer.includes(a.id):t.correctAnswer===a.id;let A="bg-gray-50 hover:bg-gray-100 border-2 border-gray-200";return o&&!p&&(A="bg-purple-100 border-2 border-purple-400"),p&&($?A="bg-green-100 border-2 border-green-400":o&&!$&&(A="bg-red-100 border-2 border-red-400")),t.type==="code-blocks"?e.jsx("button",{onClick:()=>w(a.id),disabled:p,className:`px-6 py-4 rounded-2xl text-lg font-mono font-medium transition-all ${A} ${o?"opacity-50":""}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[o&&e.jsx("span",{className:"w-6 h-6 bg-purple-500 text-white text-sm rounded-full flex items-center justify-center",children:v+1}),e.jsx("span",{children:s?a.text.zh:a.text.ja})]})},a.id):e.jsx("button",{onClick:()=>w(a.id),disabled:p,className:`p-5 rounded-2xl text-left text-lg font-medium transition-all ${A}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ${o?"bg-purple-500":"bg-gray-300"}`,children:a.id.toUpperCase()}),e.jsx("span",{children:s?a.text.zh:a.text.ja}),p&&$&&e.jsx(X,{className:"w-6 h-6 text-green-500 ml-auto"}),p&&o&&!$&&e.jsx(Y,{className:"w-6 h-6 text-red-500 ml-auto"})]})},a.id)})}),p&&e.jsxs("div",{className:`relative p-6 rounded-2xl mb-6 overflow-hidden ${y?"bg-gradient-to-r from-green-50 to-emerald-50":"bg-gradient-to-r from-orange-50 to-amber-50"} ${y?"animate-bounceIn":""}`,children:[y&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(8)].map((a,o)=>e.jsx("div",{className:"absolute animate-star-burst",style:{left:"50%",top:"50%","--rotation":`${o*45}deg`},children:e.jsx("span",{className:"text-2xl",children:"â­"})},o))}),e.jsx("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-heartbeat",children:e.jsx("span",{className:"text-5xl",children:"ðŸŽ‰"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-2xl font-bold text-green-600 animate-rainbow block",children:s?t.encouragement.zh:t.encouragement.ja}),e.jsxs("span",{className:"text-green-500 text-sm flex items-center gap-1 mt-1",children:[e.jsx(D,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),"+10 ",s?"ç§¯åˆ†":"ãƒã‚¤ãƒ³ãƒˆ"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-wiggle",children:e.jsx("span",{className:"text-5xl",children:"ðŸ’ª"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xl font-bold text-orange-600",children:s?"æ²¡å…³ç³»ï¼Œå†è¯•ä¸€æ¬¡ï¼":"å¤§ä¸ˆå¤«ã€ã‚‚ã†ä¸€å›žï¼"}),e.jsx("span",{className:"text-orange-500 text-sm block mt-1",children:s?"é”™è¯¯æ˜¯å­¦ä¹ çš„ä¸€éƒ¨åˆ†å“¦":"é–“é•ã„ã¯å­¦ã³ã®ä¸€éƒ¨ã ã‚ˆ"})]})]})}),t.explanation&&e.jsx("div",{className:"bg-white/70 rounded-xl p-4 mt-4 animate-slideIn",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(L,{className:"w-5 h-5 text-purple-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-gray-700",children:s?t.explanation.zh:t.explanation.ja})]})})]}),!p&&e.jsx("button",{onClick:C,disabled:!N,className:`w-full py-4 rounded-2xl text-xl font-bold text-white transition-all transform ${N?"bg-gradient-to-r from-purple-500 to-pink-500 hover:scale-[1.02] hover:shadow-lg active:scale-95":"bg-gray-300 cursor-not-allowed"}`,children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[N&&e.jsx(R,{className:"w-6 h-6 animate-pulse"}),s?"ç¡®è®¤ç­”æ¡ˆ":"å›žç­”ã‚’ç¢ºèª",N&&e.jsx(R,{className:"w-6 h-6 animate-pulse"})]})})]})},ae=({quiz:t,isZh:s,onComplete:h,onFinish:n})=>{const[i,m]=r.useState(0),[l,p]=r.useState(0),[k,y]=r.useState(!1),z=f=>{f&&p(l+1),i<t.questions.length-1?setTimeout(()=>{m(i+1)},500):(y(!0),h(l+(f?1:0),t.maxStars))};if(k){const f=l,g=f>=t.passingScore;return e.jsxs("div",{className:"relative bg-white rounded-3xl p-8 shadow-lg text-center overflow-hidden animate-bounceIn",children:[g&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:["ðŸŽŠ","âœ¨","â­","ðŸŒŸ","ðŸ’«","ðŸŽ‰"].map((S,b)=>e.jsx("div",{className:"absolute animate-confetti",style:{left:`${15+b*15}%`,animationDelay:`${b*.1}s`},children:e.jsx("span",{className:"text-3xl",children:S})},b))}),e.jsx("div",{className:`text-7xl mb-4 ${g?"animate-heartbeat":"animate-wiggle"}`,children:g?"ðŸ†":"ðŸ’ª"}),e.jsx("h2",{className:`text-3xl font-bold mb-4 ${g?"text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-orange-500 to-pink-500":"text-orange-600"}`,children:g?s?"æ­å–œé€šè¿‡ï¼":"ãŠã‚ã§ã¨ã†ï¼":s?"ç»§ç»­åŠªåŠ›ï¼":"ã‚‚ã£ã¨é ‘å¼µã‚ã†ï¼"}),e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-2xl py-4 px-6 mx-auto w-fit",children:[e.jsx("span",{className:"text-5xl font-bold text-gray-800",children:f}),e.jsx("span",{className:"text-3xl text-gray-400",children:"/"}),e.jsx("span",{className:"text-3xl text-gray-600",children:t.questions.length}),e.jsx("div",{className:"flex gap-1 ml-2",children:[...Array(t.questions.length)].map((S,b)=>e.jsx(D,{className:`w-6 h-6 transition-all ${b<f?"text-yellow-400 fill-yellow-400 animate-pop":"text-gray-300"}`,style:{animationDelay:`${b*.1}s`}},b))})]}),e.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:g?s?"å¤ªæ£’äº†ï¼ä½ å·²ç»æŽŒæ¡äº†è¿™äº›çŸ¥è¯†ï¼ðŸŒŸ":"ã™ã”ã„ï¼ã“ã‚Œã‚‰ã®çŸ¥è­˜ã‚’ãƒžã‚¹ã‚¿ãƒ¼ã—ãŸï¼ðŸŒŸ":s?"ä¸è¦ç°å¿ƒï¼Œå¤šå¤ä¹ ä¸€ä¸‹å†æ¥æŒ‘æˆ˜ï¼":"è½ã¡è¾¼ã¾ãªã„ã§ã€å¾©ç¿’ã—ã¦ã¾ãŸæŒ‘æˆ¦ã—ã‚ˆã†ï¼"}),e.jsx("button",{onClick:n,className:"px-10 py-4 bg-gradient-to-r from-purple-500 via-pink-500 to-orange-400 text-white text-xl font-bold rounded-2xl hover:scale-105 hover:shadow-xl active:scale-95 transition-all transform",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-6 h-6"}),s?"å®Œæˆè¯¾ç¨‹":"ãƒ¬ãƒƒã‚¹ãƒ³å®Œäº†",e.jsx("span",{className:"text-2xl",children:"ðŸŽ“"})]})})]})}return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("span",{className:"text-lg font-bold text-gray-600",children:s?`é—®é¢˜ ${i+1}/${t.questions.length}`:`è³ªå• ${i+1}/${t.questions.length}`}),e.jsx("div",{className:"flex gap-2",children:t.questions.map((f,g)=>e.jsx("div",{className:`w-4 h-4 rounded-full ${g<i?"bg-green-400":g===i?"bg-purple-400":"bg-gray-300"}`},g))})]}),e.jsx(I,{exercise:t.questions[i],isZh:s,onComplete:z},`quiz-q-${i}`)]})};function pe(){const{lessonId:t}=U(),s=J(),{language:h}=B(),{startLesson:n,completeLesson:i,updateDailyTaskProgress:m}=H(),[l,p]=r.useState(0),[k,y]=r.useState(0),[z,f]=r.useState(!1),[g,S]=r.useState(!1),b=r.useRef(Date.now()),c=h==="zh",j=r.useMemo(()=>t?K(t):null,[t]);if(r.useEffect(()=>{j&&(n(j.lesson),b.current=Date.now())},[t,n]),!j)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:q.bg},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ¤”"}),e.jsx("p",{className:"text-xl text-gray-600",children:c?"è¯¾ç¨‹æœªæ‰¾åˆ°":"ãƒ¬ãƒƒã‚¹ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"}),e.jsx("button",{onClick:()=>s("/kids-course"),className:"mt-4 px-6 py-3 bg-purple-500 text-white rounded-xl font-bold",children:c?"è¿”å›žè¯¾ç¨‹åˆ—è¡¨":"ã‚³ãƒ¼ã‚¹ä¸€è¦§ã«æˆ»ã‚‹"})]})});const{lesson:d,unit:w}=j,C=[...d.sections.map(u=>({type:"section",data:u})),...d.exercises.map(u=>({type:"exercise",data:u})),...d.quiz?[{type:"quiz",data:d.quiz}]:[]],N=C[l],a=l===C.length-1,o=(l+1)/C.length*100,v=()=>{a?M():p(l+1)},$=()=>{l>0&&p(l-1)},A=async u=>{u&&(y(x=>x+2),await m("exercise")),v()},_=async(u,x)=>{const O=Math.round(u/x*d.starsReward);y(Q=>Q+O),await m("quiz")},M=async()=>{const u=Math.round((Date.now()-b.current)/6e4),x=k+d.starsReward;await i(d.id,x,u),y(x),f(!0),S(!0)},P=()=>{f(!1);const u=V(d.id);s(u?`/kids-course/${u.lesson.id}`:"/kids-course")};return e.jsxs("div",{className:"min-h-screen pb-24",style:{backgroundColor:q.bg},children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm shadow-md",children:e.jsxs("div",{className:"w-full px-6 lg:px-12 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("button",{onClick:()=>s("/kids-course"),className:"flex items-center gap-2 text-gray-600 hover:text-purple-600 text-lg transition-colors group",children:[e.jsx(T,{className:"w-6 h-6 group-hover:-translate-x-1 transition-transform"}),c?"è¿”å›ž":"æˆ»ã‚‹"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl animate-float",style:{animationDuration:"3s"},children:w.icon}),e.jsx("span",{className:"text-xl font-bold",style:{color:w.color},children:c?w.title.zh:w.title.ja})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-yellow-50 to-orange-50 px-4 py-2 rounded-full",children:[e.jsx(D,{className:"w-6 h-6 fill-yellow-400 text-yellow-400 animate-pulse"}),e.jsx("span",{className:"font-bold text-yellow-600 text-lg",children:k})]})]}),e.jsxs("div",{className:"relative w-full bg-gray-200 rounded-full h-5 overflow-hidden",children:[e.jsx("div",{className:"h-full rounded-full transition-all duration-500 relative overflow-hidden",style:{width:`${o}%`,backgroundColor:w.color},children:e.jsx("div",{className:"absolute inset-0 animate-shimmer",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent)"}})}),o>5&&e.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 animate-bounce",style:{left:`calc(${Math.min(o,97)}% - 10px)`},children:e.jsx("span",{className:"text-base",children:"â­"})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xs font-bold text-white drop-shadow-md",children:[Math.round(o),"%"]})})]})]})}),e.jsx("div",{className:"w-full px-6 lg:px-12 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg sticky top-32 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-2xl animate-wave",children:"ðŸ‘‹"}),e.jsx("h3",{className:"text-lg font-bold text-gray-700",children:c?"è¯¾ç¨‹æ­¥éª¤":"ãƒ¬ãƒƒã‚¹ãƒ³ã‚¹ãƒ†ãƒƒãƒ—"})]}),e.jsx("div",{className:"space-y-2",children:C.map((u,x)=>e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl transition-all ${x===l?"bg-gradient-to-r from-purple-100 to-pink-100 border-2 border-purple-400 animate-pulse-soft":x<l?"bg-gradient-to-r from-green-50 to-emerald-50 text-green-600":"bg-gray-50 text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all ${x===l?"bg-gradient-to-r from-purple-500 to-pink-500 text-white scale-110":x<l?"bg-green-500 text-white":"bg-gray-300 text-white"}`,children:x<l?"âœ“":x+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("span",{className:"text-sm font-medium block truncate",children:[u.type==="section"&&(c?"å­¦ä¹ å†…å®¹":"å­¦ç¿’å†…å®¹"),u.type==="exercise"&&(c?"äº’åŠ¨ç»ƒä¹ ":"ç·´ç¿’å•é¡Œ"),u.type==="quiz"&&(c?"å°æµ‹éªŒ":"ã‚¯ã‚¤ã‚º")]}),x===l&&e.jsxs("span",{className:"text-xs text-purple-500 flex items-center gap-1 mt-0.5",children:[e.jsx("span",{className:"animate-blink",children:"â—"}),c?"è¿›è¡Œä¸­":"é€²è¡Œä¸­"]})]}),x<l&&e.jsx("span",{className:"text-lg",children:"â­"})]},x))}),e.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-2xl",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-xl animate-heartbeat",children:"ðŸ’–"}),e.jsx("span",{className:"text-gray-600",children:c?"ä½ åšå¾—å¾ˆæ£’ï¼":"ãŒã‚“ã°ã£ã¦ï¼"})]})})]})}),e.jsxs("div",{className:"lg:col-span-9",children:[e.jsxs("div",{className:"mb-8 animate-slideIn",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-4xl animate-bounce",style:{animationDuration:"2s"},children:d.type==="video"?"ðŸŽ¬":d.type==="interactive"?"ðŸŽ®":d.type==="quiz"?"ðŸ“":"ðŸ“–"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-600 rounded-full text-sm font-medium",children:c?`ç¬¬${d.order}è¯¾`:`ãƒ¬ãƒƒã‚¹ãƒ³${d.order}`}),e.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-600 rounded-full text-sm font-medium flex items-center gap-1",children:[e.jsx("span",{children:"â±ï¸"}),d.duration,c?"åˆ†é’Ÿ":"åˆ†"]})]})]}),e.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 via-pink-500 to-orange-500",children:c?d.title.zh:d.title.ja})]}),N?.type==="section"&&e.jsx(se,{section:N.data,isZh:c}),N?.type==="exercise"&&e.jsx(I,{exercise:N.data,isZh:c,onComplete:A},`exercise-${l}`),N?.type==="quiz"&&e.jsx(ae,{quiz:N.data,isZh:c,onComplete:_,onFinish:M},`quiz-${l}`)]})]})}),!g&&N?.type==="section"&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-t p-4 shadow-2xl",children:e.jsxs("div",{className:"w-full px-6 lg:px-12 flex items-center justify-between",children:[e.jsxs("button",{onClick:$,disabled:l===0,className:`flex items-center gap-2 px-6 py-3 rounded-2xl font-bold transition-all transform ${l===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:scale-105 active:scale-95"}`,children:[e.jsx(T,{className:`w-5 h-5 ${l>0?"group-hover:-translate-x-1":""} transition-transform`}),c?"ä¸Šä¸€æ­¥":"å‰ã¸"]}),e.jsx("div",{className:"flex items-center gap-2 bg-gray-100 px-4 py-2 rounded-full",children:C.map((u,x)=>e.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${x===l?"bg-purple-500 scale-125":x<l?"bg-green-400":"bg-gray-300"}`},x))}),e.jsx("button",{onClick:v,className:"flex items-center gap-2 px-8 py-3 rounded-2xl font-bold text-white transition-all transform hover:scale-105 hover:shadow-lg active:scale-95",style:{backgroundColor:w.color},children:a?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-5 h-5 animate-bounce"}),c?"å®Œæˆè¯¾ç¨‹":"ãƒ¬ãƒƒã‚¹ãƒ³å®Œäº†",e.jsx("span",{className:"text-xl",children:"ðŸŽ‰"})]}):e.jsxs(e.Fragment,{children:[c?"ä¸‹ä¸€æ­¥":"æ¬¡ã¸",e.jsx(W,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})}),e.jsx(Z,{}),z&&e.jsx(te,{stars:k,onComplete:P,isZh:c})]})}export{pe as default};
