{
  "exam": {
    "id": "aws-ans-c01-set3-ja",
    "name": "AWS ANS-C01 模擬試験 #3",
    "code": "ANS-C01",
    "provider": "AWS",
    "language": "ja",
    "description": "AWS高度なネットワーキング専門認定試験模擬問題 - 第3セット",
    "totalQuestions": 40,
    "passingScore": 75,
    "examTime": 170,
    "domains": [
      {"id": 1, "name": "ネットワーク設計", "weight": 30},
      {"id": 2, "name": "ネットワーク実装", "weight": 26},
      {"id": 3, "name": "ネットワーク管理と運用", "weight": 20},
      {"id": 4, "name": "ネットワークセキュリティ、コンプライアンス、ガバナンス", "weight": 24}
    ],
    "tags": ["AWS", "Networking", "ANS", "認定試験", "専門級"]
  },
  "questions": [
    {"id": "q1", "domain": 1, "question": "会社が複数の支店をAWSに接続する計画があります。各支店はVPCリソースへの低レイテンシアクセスが必要です。最もコスト効率の良いソリューションは何ですか？", "options": {"A": "各支店に専用のDirect Connectを使用", "B": "AWS Site-to-Site VPNとTransit Gatewayを使用", "C": "パブリックインターネットを使用", "D": "各支店にホステッドDirect Connectを使用"}, "answer": "B", "explanation": "Site-to-Site VPNは低コストで、Transit Gatewayは複数VPN管理を簡素化し、複数支店シナリオに適しています。"},
    {"id": "q2", "domain": 1, "question": "開発、テスト、本番環境をネットワークレベルで完全に分離するネットワークアーキテクチャを設計する必要があります。最適な方法は何ですか？", "options": {"A": "異なるセキュリティグループを使用", "B": "異なるVPCを使用し、Transit Gatewayで必要に応じて接続", "C": "異なるサブネットを使用", "D": "異なるアベイラビリティゾーンを使用"}, "answer": "B", "explanation": "異なるVPCは完全なネットワーク分離を提供し、Transit Gatewayは必要に応じて制御された接続を確立できます。"},
    {"id": "q3", "domain": 1, "question": "VPCで高可用性のNATソリューションをデプロイする必要があります。複数のNAT Gateway以外に必要な設定は何ですか？", "options": {"A": "単一のNAT Gatewayを使用", "B": "各アベイラビリティゾーンに1つのNAT Gateway、ルートテーブルは同じAZのNAT Gatewayを指す", "C": "NATインスタンスを使用", "D": "Internet Gatewayを使用"}, "answer": "B", "explanation": "各AZにNAT Gatewayをデプロイし、AZ固有のルートテーブルを設定することで、クロスAZ障害とトラフィック料金を回避します。"},
    {"id": "q4", "domain": 2, "question": "Accelerated Site-to-Site VPNを設定する前提条件は何ですか？", "options": {"A": "Transit Gatewayが必要", "B": "Virtual Private Gatewayが必要", "C": "Direct Connectが必要", "D": "同一リージョンである必要"}, "answer": "A", "explanation": "Accelerated VPNはGlobal Acceleratorを使用し、現在はTransit Gateway VPNアタッチメントでのみサポートされ、VGWではサポートされていません。"},
    {"id": "q5", "domain": 2, "question": "Direct Connect接続で物理層はUPですが、BGPセッションを確立できません。何を確認すべきですか？", "options": {"A": "請求を確認", "B": "VLAN ID、BGP ASN、BGPピアIP、MD5認証キーを確認", "C": "接続を再作成", "D": "AWSサポートに連絡"}, "answer": "B", "explanation": "BGPセッションの確立には正しいVLANタグ付け、一致するBGPパラメータ、および（設定されている場合）正しいMD5認証キーが必要です。"},
    {"id": "q6", "domain": 2, "question": "オンプレミスDHCPサーバーが割り当てるDNSサーバーをVPC内のインスタンスに渡す必要があります。どのように実現しますか？", "options": {"A": "この機能はサポートされていない", "B": "カスタムDNSサーバーを指定するDHCPオプションセットを作成", "C": "VPC DNS設定を変更", "D": "Route 53を使用"}, "answer": "B", "explanation": "DHCPオプションセットでカスタムDNSサーバー、ドメイン名、その他のDHCPオプションを指定でき、VPCに関連付けると新しく起動したインスタンスに適用されます。"},
    {"id": "q7", "domain": 3, "question": "Transit Gatewayルート伝播が期待通りに機能せず、VPC間で通信できません。どのように診断しますか？", "options": {"A": "セキュリティグループを確認", "B": "アタッチメントの関連付け、ルートテーブル伝播設定、ルートテーブルの内容を確認", "C": "Transit Gatewayを再起動", "D": "VPNを代替として使用"}, "answer": "B", "explanation": "アタッチメントが正しいルートテーブルに関連付けられていること、ルート伝播が有効であること、ルートテーブルに正しいルートエントリが存在することを確認します。"},
    {"id": "q8", "domain": 3, "question": "VPCのネットワークトポロジと接続を可視化・分析する最適なツールは何ですか？", "options": {"A": "CloudWatch Dashboard", "B": "Network Manager", "C": "VPCコンソール", "D": "AWS Config"}, "answer": "B", "explanation": "Network ManagerはTransit Gateway、VPN、Direct Connectを含むグローバルネットワークビューを提供し、トポロジとステータスを可視化します。"},
    {"id": "q9", "domain": 3, "question": "VPC Flow Logsにより多くのメタデータフィールドを含めて詳細な分析を行う必要があります。どのように実現しますか？", "options": {"A": "デフォルト形式を使用", "B": "追加フィールドを含むカスタムログ形式を設定", "C": "CloudTrailを使用", "D": "サードパーティツールを使用"}, "answer": "B", "explanation": "VPC Flow Logsはカスタム形式をサポートし、vpc-id、subnet-id、pkt-srcaddrなどの追加フィールドを含めることができます。"},
    {"id": "q10", "domain": 4, "question": "VPCでネットワークトラフィックの検査とフィルタリングを実装する必要があります。ステートフルなディープパケットインスペクションを提供するサービスは何ですか？", "options": {"A": "セキュリティグループ", "B": "AWS Network Firewall", "C": "ネットワークACL", "D": "WAF"}, "answer": "B", "explanation": "Network FirewallはステートフルなL3-L7トラフィック検査を提供し、侵入検知/防止、ドメイン名フィルタリング、カスタムルールをサポートします。"},
    {"id": "q11", "domain": 4, "question": "VPCからS3へのトラフィックがパブリックインターネットを経由しないようにしながら、特定のバケットへのアクセスのみを許可する必要があります。どのように実現しますか？", "options": {"A": "NAT Gatewayを使用", "B": "S3 Gatewayエンドポイントを使用し、エンドポイントポリシーでバケットアクセスを制限", "C": "PrivateLinkを使用", "D": "VPNを使用"}, "answer": "B", "explanation": "S3 Gatewayエンドポイントはプライベートルート経由でS3にアクセスし、エンドポイントポリシーは指定されたバケットへのアクセスのみを許可できます。"},
    {"id": "q12", "domain": 1, "question": "ハイブリッドクラウド環境のDNSアーキテクチャを設計する必要があります。オンプレミスとAWSリソースが互いのプライベートDNSを解決する必要があります。主要なコンポーネントは何ですか？", "options": {"A": "パブリックDNSのみ使用", "B": "Route 53 Resolverエンドポイントと転送ルール", "C": "オンプレミスDNSサーバー", "D": "DNSではなくIPアドレスを使用"}, "answer": "B", "explanation": "インバウンドエンドポイントはオンプレミスからのDNSクエリを受け入れ、アウトバウンドエンドポイントはAWSからオンプレミスDNSにクエリを転送し、転送ルールはドメイン名とDNSサーバーのマッピングを定義します。"},
    {"id": "q13", "domain": 1, "question": "会社のVPC CIDRと買収した会社のオンプレミスネットワークCIDRが重複しています。移行期間中に接続を確立する必要があります。どのように解決しますか？", "options": {"A": "IPを再計画", "B": "PrivateLinkまたはNATを使用してIP重複を解決", "C": "接続できない", "D": "パブリックIPを使用"}, "answer": "B", "explanation": "PrivateLinkはIPルーティングの到達性を必要とせず、NATは接続ポイントでアドレスを変換でき、IP重複の問題を解決します。"},
    {"id": "q14", "domain": 2, "question": "Direct Connect高可用性アーキテクチャを設定し、単一接続障害時に自動切り替えを実現する必要があります。複数接続以外に必要な設定は何ですか？", "options": {"A": "手動切り替え", "B": "BGP ASパス前置またはMED調整でプライマリ/バックアップ優先順位を設定", "C": "同じBGP優先順位を使用", "D": "BGPを無効化"}, "answer": "B", "explanation": "ASパス前置またはMED値を使用してルート選択に影響を与え、プライマリ接続を優先させ、障害時にBGPが自動的にバックアップ接続に切り替えます。"},
    {"id": "q15", "domain": 2, "question": "Direct Connect接続のリアルタイムパフォーマンスメトリクスを監視する必要があります。どのように実現しますか？", "options": {"A": "pingを使用", "B": "CloudWatch Direct Connectメトリクスで接続状態、スループット、エラーを監視", "C": "手動確認", "D": "サードパーティツールを使用"}, "answer": "B", "explanation": "CloudWatchはConnectionState、ConnectionBpsEgress/Ingress、ConnectionErrorCountなどのDirect Connectメトリクスを提供します。"},
    {"id": "q16", "domain": 3, "question": "VPC内のLambda関数がインターネットにアクセスできません。どのように解決しますか？", "options": {"A": "LambdaはVPCをサポートしていない", "B": "Lambdaサブネットにnato Gatewayへのルートがあることを確認", "C": "パブリックサブネットを使用", "D": "Internet Gatewayルートを追加"}, "answer": "B", "explanation": "VPC Lambda関数はNAT Gateway経由でインターネットにアクセスする必要があり、サブネットルートテーブルに0.0.0.0/0からNAT Gatewayへのルートがあることを確認します。"},
    {"id": "q17", "domain": 3, "question": "VPC設定の変更を自動検出して通知する必要があります。どのように実現しますか？", "options": {"A": "手動監視", "B": "AWS ConfigルールとSNS通知を使用", "C": "CloudWatch Logsを使用", "D": "VPC Flow Logsを使用"}, "answer": "B", "explanation": "AWS Configはリソース設定の変更を記録し、ルールを設定して変更を検出し、SNS経由で通知を送信できます。"},
    {"id": "q18", "domain": 4, "question": "VPC内の東西トラフィック（インスタンス間トラフィック）を検査・フィルタリングする必要があります。どのように設計しますか？", "options": {"A": "セキュリティグループを使用", "B": "Gateway Load Balancerとセキュリティアプライアンスを使用", "C": "ネットワークACLを使用", "D": "WAFを使用"}, "answer": "B", "explanation": "Gateway Load Balancerはトラフィックをサードパーティセキュリティアプライアンスに透過的にルーティングして検査し、その後ターゲットに戻します。"},
    {"id": "q19", "domain": 1, "question": "グローバルに分散したマイクロサービス間の低レイテンシ通信を設計する必要があります。クロスリージョン通信を最適化する方法は？", "options": {"A": "パブリックインターネットを使用", "B": "Transit Gatewayクロスリージョンピアリングとawsグローバルネットワークを使用", "C": "VPNを使用", "D": "DNSラウンドロビンを使用"}, "answer": "B", "explanation": "Transit Gatewayクロスリージョンピアリングはawsバックボーンネットワークを使用し、予測可能な低レイテンシと高帯域幅を提供します。"},
    {"id": "q20", "domain": 2, "question": "カスタマーゲートウェイデバイスがBGPをサポートしていません。Site-to-Site VPNをどのように設定しますか？", "options": {"A": "非BGPデバイスはサポートされていない", "B": "静的VPNを設定してルートを手動で維持", "C": "デバイスを交換", "D": "Direct Connectを使用"}, "answer": "B", "explanation": "AWS Site-to-Site VPNは静的ルーティングをサポートし、両端でルートを手動で設定する必要がありますが、動的ルーティングの利点は失われます。"},
    {"id": "q21", "domain": 3, "question": "EC2インスタンスから特定の宛先へのネットワーク到達性をテストする必要があります。どのように行いますか？", "options": {"A": "pingのみ使用可能", "B": "VPC Reachability Analyzerで設定を分析", "C": "設定を手動確認", "D": "CloudTrailを使用"}, "answer": "B", "explanation": "Reachability AnalyzerはVPC設定（セキュリティグループ、NACL、ルートテーブルなど）を分析し、ネットワークパスの到達性を検証します。実際のトラフィックを送信する必要はありません。"},
    {"id": "q22", "domain": 4, "question": "ドメイン名ベースのトラフィックフィルタリングを実装し、特定の悪意のあるドメインへのアクセスをブロックする必要があります。どのように実現しますか？", "options": {"A": "セキュリティグループを使用", "B": "Route 53 Resolver DNS Firewallを使用", "C": "ネットワークACLを使用", "D": "WAFを使用"}, "answer": "B", "explanation": "DNS FirewallはVPCのDNSクエリをフィルタリングし、悪意のあるドメインへの解決リクエストをブロックできます。"},
    {"id": "q23", "domain": 1, "question": "共有サービスVPCアーキテクチャを設計し、共有リソース（AD、監視など）を複数のワークロードVPCに提供する必要があります。最適な接続方法は何ですか？", "options": {"A": "VPC Peering", "B": "Transit Gatewayとルート分離を組み合わせ", "C": "パブリックインターネット", "D": "Direct Connect"}, "answer": "B", "explanation": "Transit Gatewayは一元管理を可能にし、ルートテーブル分離によりワークロードVPC間の直接通信を防ぎ、共有サービスへのアクセスのみを許可します。"},
    {"id": "q24", "domain": 2, "question": "VPN接続作成時にトンネルオプション（IKEバージョン、暗号化アルゴリズムなど）を指定する必要があります。どのように実現しますか？", "options": {"A": "デフォルト設定を使用", "B": "VPN接続作成時にトンネルオプションを設定", "C": "作成後は変更不可", "D": "AWSサポートが必要"}, "answer": "B", "explanation": "VPN接続作成時にIKEバージョン、暗号化と整合性アルゴリズム、DPD設定などのトンネルオプションを指定できます。"},
    {"id": "q25", "domain": 3, "question": "ELBヘルスチェックは成功していますが、アプリケーションが応答しません。どのように診断しますか？", "options": {"A": "インスタンスを再起動", "B": "ヘルスチェック設定がアプリケーション状態を正確に反映しているか確認", "C": "インスタンスを増加", "D": "ロードバランサーを交換"}, "answer": "B", "explanation": "ヘルスチェックのポート、パス、プロトコルが正しく設定されていることを確認し、基本的な接続性だけでなくアプリケーション固有のエンドポイントを確認します。"},
    {"id": "q26", "domain": 4, "question": "IAMユーザーによるVPCリソースへのすべてのAPI呼び出しを記録・監査する必要があります。どのように実現しますか？", "options": {"A": "VPC Flow Logsを使用", "B": "CloudTrailを有効にして適切なログ保持ポリシーを設定", "C": "CloudWatch Logsを使用", "D": "AWS Configを使用"}, "answer": "B", "explanation": "CloudTrailはすべてのAPI呼び出しを記録し、呼び出し元ID、時刻、パラメータなどの詳細情報を含み、監査要件を満たします。"},
    {"id": "q27", "domain": 1, "question": "異なるAWSアカウントのVPC間で接続を確立する必要がありますが、アカウント外部には公開されません。最適な方法は何ですか？", "options": {"A": "パブリックインターネットを使用", "B": "クロスアカウントVPC Peeringまたは共有Transit Gatewayを使用", "C": "VPNを使用", "D": "Direct Connectを使用"}, "answer": "B", "explanation": "VPC PeeringとTransit Gatewayはどちらもクロスアカウント接続をサポートし、トラフィックはAWSネットワーク内に留まり、パブリックインターネットには公開されません。"},
    {"id": "q28", "domain": 2, "question": "Direct Connect障害検出を高速化するためにBFD（Bidirectional Forwarding Detection）を設定する必要があります。どのように有効にしますか？", "options": {"A": "デフォルトで有効", "B": "仮想インターフェースでBFDを有効にし、クライアントデバイスで設定", "C": "BFDはサポートされていない", "D": "専用ハードウェアが必要"}, "answer": "B", "explanation": "BFDはDirect Connect VIFで有効にでき、BGPと組み合わせることでミリ秒レベルのリンク障害検出が可能です。"},
    {"id": "q29", "domain": 3, "question": "セキュリティイベントを調査するために過去のVPC Flow Logsデータを分析する必要があります。ログはS3に保存されています。最適な分析方法は何ですか？", "options": {"A": "ダウンロードして手動分析", "B": "Amazon AthenaでSQLクエリを使用", "C": "Excelを使用", "D": "CloudWatch Logs Insightsを使用"}, "answer": "B", "explanation": "AthenaはS3内のFlow Logsを直接クエリでき、SQL構文を使用してフィルタリング、集計、分析を行い、履歴データ分析に適しています。"},
    {"id": "q30", "domain": 4, "question": "すべてのEC2インスタンスがIMDSv2を使用してセキュリティを強化することを確保する必要があります。どのように強制しますか？", "options": {"A": "手動設定", "B": "EC2起動テンプレートでHttpTokens=requiredを設定", "C": "セキュリティグループを使用", "D": "ネットワークACLを使用"}, "answer": "B", "explanation": "起動テンプレートでHttpTokens=requiredを設定すると、インスタンスはIMDSv2リクエストのみを受け入れ、SSRF攻撃を防止します。"},
    {"id": "q31", "domain": 1, "question": "コンテナ化アプリケーションのネットワークアーキテクチャを設計する必要があります。各コンテナが一意のIPアドレスを持つことを確保するには、EKSでどのように実現しますか？", "options": {"A": "NATを使用", "B": "AWS VPC CNIプラグインを使用してPodにVPC IPを割り当て", "C": "オーバーレイネットワークを使用", "D": "ノードIPを共有"}, "answer": "B", "explanation": "AWS VPC CNIは各PodにVPC ENIのIPアドレスを割り当て、ネイティブVPCネットワーク統合を実現します。"},
    {"id": "q32", "domain": 2, "question": "Direct Connect上で暗号化されたトラフィックを転送する必要があります。どのようなオプションがありますか？", "options": {"A": "Direct Connectはデフォルトで暗号化", "B": "Direct Connect上でSite-to-Site VPNを設定するか、MACsecを使用", "C": "TLSを使用", "D": "暗号化はサポートされていない"}, "answer": "B", "explanation": "Direct ConnectパブリックVIF上でVPNトンネルを確立するか、MACsecを使用してレイヤー2暗号化（10G/100G接続）を行えます。"},
    {"id": "q33", "domain": 3, "question": "Application Load Balancerで5XXエラーが増加しています。バックエンドの問題をどのように診断しますか？", "options": {"A": "ALBログを確認", "B": "ALBアクセスログ、ターゲットグループヘルスチェック、CloudWatchメトリクスを確認", "C": "ALBを再起動", "D": "ターゲットを増加"}, "answer": "B", "explanation": "ALBアクセスログは各リクエストの詳細情報を表示し、ヘルスチェックステータスとCloudWatchメトリクスと組み合わせてバックエンドの問題を特定できます。"},
    {"id": "q34", "domain": 4, "question": "特定のIAMロールが特定のVPC内でのみEC2インスタンスを起動できるように制限する必要があります。どのように実現しますか？", "options": {"A": "セキュリティグループを使用", "B": "IAMポリシーでec2:Vpc条件キーを使用", "C": "ネットワークACLを使用", "D": "SCPを使用"}, "answer": "B", "explanation": "IAMポリシーはec2:Vpc条件キーを使用して、RunInstances操作を指定されたVPCでのみ実行できるように制限できます。"},
    {"id": "q35", "domain": 1, "question": "IoTデバイスのネットワーク接続を設計する必要があります。デバイスはMQTTプロトコルを使用しています。どのように安全にAWSに接続しますか？", "options": {"A": "パブリックインターネットを使用", "B": "AWS IoT CoreとVPCエンドポイントを使用", "C": "VPNを使用", "D": "Direct Connectを使用"}, "answer": "B", "explanation": "AWS IoT CoreはMQTTをサポートし、VPCエンドポイントによりVPCリソースがプライベート接続でIoT Coreサービスにアクセスできます。"},
    {"id": "q36", "domain": 2, "question": "Network Load Balancerでクライアントソースipを保持する必要があります。どのように実現しますか？", "options": {"A": "NLBはデフォルトでソースIPを保持", "B": "ターゲットタイプがインスタンスまたはIP（Lambda以外）であることを確認し、クライアントIP保持を無効化しない", "C": "ALBを代わりに使用", "D": "Proxy Protocolを使用"}, "answer": "A", "explanation": "NLBはデフォルトでクライアントソースIPを保持します（ターゲットタイプがインスタンスの場合）。IPタイプターゲットを使用する場合はクライアントIP保持機能を無効にする必要があります。"},
    {"id": "q37", "domain": 3, "question": "複数のVPCからDNSクエリログを収集・分析する必要があります。どのように実現しますか？", "options": {"A": "VPC Flow Logsを使用", "B": "Route 53 ResolverクエリログをCloudWatch LogsまたはS3に送信するよう設定", "C": "CloudTrailを使用", "D": "DNSログは収集できない"}, "answer": "B", "explanation": "Route 53 ResolverクエリログはVPC内のDNSクエリを記録し、CloudWatch LogsまたはS3に送信して分析できます。"},
    {"id": "q38", "domain": 4, "question": "Network Firewallでドメイン名フィルタリングルールを設定する必要があります。どのように設定しますか？", "options": {"A": "IPアドレスを使用", "B": "ドメインリストルールグループを作成し、許可または拒否を設定", "C": "WAFを使用", "D": "セキュリティグループを使用"}, "answer": "B", "explanation": "Network Firewallはドメインルールグループをサポートし、ドメイン名に基づいてトラフィックを許可または拒否でき、ワイルドカードマッチングもサポートします。"},
    {"id": "q39", "domain": 1, "question": "ブルーグリーンデプロイメントをサポートするネットワークアーキテクチャを設計する必要があります。トラフィック切り替えをどのように実現しますか？", "options": {"A": "IPを手動更新", "B": "Route 53加重ルーティングまたはALBターゲットグループ切り替えを使用", "C": "NATを使用", "D": "VPNを使用"}, "answer": "B", "explanation": "Route 53加重ルーティングは段階的にトラフィックを切り替えでき、ALBはターゲットグループ間で切り替えて即時切り替えを実現できます。"},
    {"id": "q40", "domain": 4, "question": "すべてのアウトバウンドトラフィックがセキュリティ検査を通過することを確保する必要があります。出口アーキテクチャをどのように設計しますか？", "options": {"A": "NAT Gatewayを直接使用", "B": "集中型出口VPCとNetwork FirewallまたはGateway Load Balancerを使用", "C": "セキュリティグループで制限", "D": "プロキシサーバーを使用"}, "answer": "B", "explanation": "集中型出口VPCとNetwork FirewallまたはGWLBを組み合わせることで、すべてのアウトバウンドトラフィックを検査し、統一されたセキュリティポリシー実行ポイントを提供します。"}
  ]
}
