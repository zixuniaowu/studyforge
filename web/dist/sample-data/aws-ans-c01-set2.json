{
  "exam": {
    "id": "aws-ans-c01-set2",
    "name": "AWS ANS-C01 模拟考试 #2",
    "code": "ANS-C01",
    "provider": "AWS",
    "language": "zh-CN",
    "description": "AWS高级网络专业认证考试模拟题 - 第2套",
    "totalQuestions": 40,
    "passingScore": 75,
    "examTime": 170,
    "domains": [
      {"id": 1, "name": "Network Design", "weight": 30},
      {"id": 2, "name": "Network Implementation", "weight": 26},
      {"id": 3, "name": "Network Management and Operations", "weight": 20},
      {"id": 4, "name": "Network Security, Compliance, and Governance", "weight": 24}
    ],
    "tags": ["AWS", "Networking", "ANS", "认证考试", "专业级"]
  },
  "questions": [
    {"id": "q1", "domain": 1, "question": "公司需要将多个VPC连接到本地数据中心，并确保所有VPC之间也能互相通信。最佳解决方案是什么？", "options": {"A": "为每个VPC创建单独的VPN连接", "B": "使用Transit Gateway连接所有VPC和本地网络", "C": "使用VPC Peering连接所有VPC", "D": "使用Direct Connect连接每个VPC"}, "answer": "B", "explanation": "Transit Gateway是中心辐射型连接枢纽，可以连接多个VPC和本地网络，简化网络架构并支持传递路由。"},
    {"id": "q2", "domain": 1, "question": "需要设计一个网络架构，确保应用层和数据库层之间的流量只能通过特定端口。如何实现最细粒度的控制？", "options": {"A": "仅使用安全组", "B": "仅使用网络ACL", "C": "安全组用于实例级控制，网络ACL用于子网级控制", "D": "使用AWS WAF"}, "answer": "C", "explanation": "安全组提供有状态的实例级控制，网络ACL提供无状态的子网级控制，两者结合实现深度防御。"},
    {"id": "q3", "domain": 1, "question": "公司需要在多个AWS区域之间建立低延迟、高带宽的私有连接。最佳方案是什么？", "options": {"A": "使用公共互联网", "B": "使用VPN over Internet", "C": "使用AWS Global Accelerator", "D": "使用Inter-Region VPC Peering"}, "answer": "D", "explanation": "Inter-Region VPC Peering使用AWS骨干网络在区域间建立私有连接，提供低延迟和高带宽。"},
    {"id": "q4", "domain": 2, "question": "需要配置Direct Connect以支持从本地访问多个VPC中的私有资源。如何最有效地实现？", "options": {"A": "为每个VPC创建单独的私有VIF", "B": "使用Direct Connect Gateway关联多个VPC", "C": "使用公共VIF", "D": "使用VPN作为备份"}, "answer": "B", "explanation": "Direct Connect Gateway可以将单个Direct Connect连接与多个VPC（同一账户或不同账户）关联，简化管理。"},
    {"id": "q5", "domain": 2, "question": "VPN连接的隧道频繁断开。最可能的原因和解决方案是什么？", "options": {"A": "增加VPN带宽", "B": "检查并调整DPD（Dead Peer Detection）设置和保活配置", "C": "更换VPN设备", "D": "使用更大的实例类型"}, "answer": "B", "explanation": "隧道不稳定通常与DPD设置和保活配置有关，需要确保两端的超时设置兼容。"},
    {"id": "q6", "domain": 2, "question": "需要配置Route 53解析器以允许本地网络解析AWS私有托管区域中的DNS记录。需要什么组件？", "options": {"A": "Route 53公共托管区域", "B": "Route 53 Resolver入站端点", "C": "Route 53 Resolver出站端点", "D": "Route 53健康检查"}, "answer": "B", "explanation": "入站端点允许本地网络将DNS查询转发到Route 53 Resolver，解析VPC中的私有DNS记录。"},
    {"id": "q7", "domain": 3, "question": "需要监控VPC中所有网络接口的流量以进行安全分析。最佳方法是什么？", "options": {"A": "使用CloudWatch Logs", "B": "配置VPC Flow Logs发送到S3或CloudWatch Logs", "C": "使用AWS Config", "D": "使用CloudTrail"}, "answer": "B", "explanation": "VPC Flow Logs捕获进出网络接口的IP流量信息，可以发送到S3或CloudWatch Logs进行分析。"},
    {"id": "q8", "domain": 3, "question": "Transit Gateway路由表中有多条到同一目的地的路由。AWS如何选择路由？", "options": {"A": "随机选择", "B": "按路由添加顺序选择", "C": "选择最长前缀匹配，相同前缀时静态路由优先于传播路由", "D": "负载均衡"}, "answer": "C", "explanation": "Transit Gateway使用最长前缀匹配，相同前缀长度时静态路由优先于传播路由。"},
    {"id": "q9", "domain": 3, "question": "需要对VPC网络配置变更进行审计和合规检查。最佳服务是什么？", "options": {"A": "CloudWatch", "B": "AWS Config", "C": "VPC Flow Logs", "D": "CloudTrail"}, "answer": "B", "explanation": "AWS Config可以记录资源配置历史，评估配置是否符合所需配置，并在变更时发送通知。"},
    {"id": "q10", "domain": 4, "question": "需要在VPC中阻止来自特定IP地址范围的所有入站流量。最有效的方法是什么？", "options": {"A": "更新所有安全组", "B": "使用网络ACL拒绝规则", "C": "使用AWS WAF", "D": "使用Route 53"}, "answer": "B", "explanation": "网络ACL支持显式拒绝规则，可以在子网边界高效阻止特定IP范围的流量。"},
    {"id": "q11", "domain": 4, "question": "需要确保VPC端点只能被特定IAM用户或角色访问。如何实现？", "options": {"A": "使用安全组", "B": "使用网络ACL", "C": "使用VPC端点策略", "D": "使用S3存储桶策略"}, "answer": "C", "explanation": "VPC端点策略是IAM资源策略，可以控制哪些主体可以通过端点访问服务。"},
    {"id": "q12", "domain": 1, "question": "需要设计一个架构，使私有子网中的实例能够访问S3，同时不暴露到互联网。最佳方案是什么？", "options": {"A": "使用NAT Gateway", "B": "使用S3 Gateway端点", "C": "使用Internet Gateway", "D": "使用VPN"}, "answer": "B", "explanation": "S3 Gateway端点允许VPC内资源通过私有连接访问S3，流量不经过互联网，无需NAT Gateway。"},
    {"id": "q13", "domain": 1, "question": "公司有多个AWS账户，需要集中管理跨账户网络连接。最佳方案是什么？", "options": {"A": "使用VPC Peering", "B": "使用AWS RAM共享Transit Gateway", "C": "每个账户创建独立的网络", "D": "使用PrivateLink"}, "answer": "B", "explanation": "通过AWS Resource Access Manager共享Transit Gateway，可以集中管理多账户的网络连接。"},
    {"id": "q14", "domain": 2, "question": "需要配置Direct Connect实现主备高可用。最佳实践是什么？", "options": {"A": "使用单个连接的两个VIF", "B": "在不同位置配置两个独立的Direct Connect连接", "C": "使用Link Aggregation Group", "D": "仅使用VPN备份"}, "answer": "B", "explanation": "在不同Direct Connect位置配置连接可以避免单点故障，实现真正的高可用。"},
    {"id": "q15", "domain": 2, "question": "需要将本地BGP路由通告到多个VPC。使用Direct Connect时如何配置？", "options": {"A": "为每个VPC配置单独的BGP会话", "B": "使用Transit VIF连接Transit Gateway", "C": "使用公共VIF", "D": "禁用BGP"}, "answer": "B", "explanation": "Transit VIF连接到Transit Gateway，可以将BGP路由传播到所有关联的VPC。"},
    {"id": "q16", "domain": 3, "question": "CloudWatch显示NAT Gateway的ErrorPortAllocation指标升高。可能的原因是什么？", "options": {"A": "NAT Gateway带宽不足", "B": "目标IP/端口组合过多，端口耗尽", "C": "安全组配置错误", "D": "子网路由配置错误"}, "answer": "B", "explanation": "每个目标IP:端口组合限制55000个同时连接，过多连接导致端口耗尽。可以考虑使用多个NAT Gateway。"},
    {"id": "q17", "domain": 3, "question": "需要检测VPC中的网络异常，如端口扫描或可疑的出站连接。最佳服务是什么？", "options": {"A": "VPC Flow Logs", "B": "Amazon GuardDuty", "C": "AWS Config", "D": "CloudTrail"}, "answer": "B", "explanation": "GuardDuty使用机器学习分析VPC Flow Logs、DNS日志和CloudTrail，自动检测网络威胁和异常行为。"},
    {"id": "q18", "domain": 4, "question": "需要加密Transit Gateway上的所有流量。如何实现？", "options": {"A": "Transit Gateway默认加密", "B": "使用VPN附件代替VPC附件", "C": "使用PrivateLink", "D": "使用TLS"}, "answer": "B", "explanation": "Transit Gateway VPN附件提供IPsec加密，而VPC附件本身不加密流量。"},
    {"id": "q19", "domain": 1, "question": "需要设计一个混合DNS解决方案，本地服务器能解析AWS私有DNS，AWS资源也能解析本地DNS。需要什么组件？", "options": {"A": "仅Route 53公共托管区域", "B": "Route 53 Resolver入站和出站端点", "C": "仅Route 53 Resolver入站端点", "D": "仅Route 53 Resolver出站端点"}, "answer": "B", "explanation": "入站端点允许本地解析AWS DNS，出站端点允许AWS解析本地DNS，实现双向解析。"},
    {"id": "q20", "domain": 2, "question": "Site-to-Site VPN连接显示隧道状态为DOWN。首先应该检查什么？", "options": {"A": "AWS账单", "B": "客户网关设备的IKE和IPsec配置，以及防火墙规则", "C": "EC2实例状态", "D": "Route 53配置"}, "answer": "B", "explanation": "VPN隧道问题通常与IKE/IPsec参数不匹配或防火墙阻止UDP 500/4500端口有关。"},
    {"id": "q21", "domain": 3, "question": "需要为多个VPC配置集中的出口互联网访问。最佳架构是什么？", "options": {"A": "每个VPC配置NAT Gateway", "B": "使用Transit Gateway配合集中的出口VPC", "C": "使用VPC Peering", "D": "使用PrivateLink"}, "answer": "B", "explanation": "集中式出口VPC包含NAT Gateway/防火墙，其他VPC通过Transit Gateway路由出站流量，便于管理和成本优化。"},
    {"id": "q22", "domain": 4, "question": "需要确保只有来自特定VPC的请求才能访问某个AWS服务。如何实现？", "options": {"A": "使用安全组", "B": "使用服务的资源策略配合aws:SourceVpc条件", "C": "使用网络ACL", "D": "使用WAF"}, "answer": "B", "explanation": "支持VPC端点的服务可以在资源策略中使用aws:SourceVpc或aws:SourceVpce条件限制访问来源。"},
    {"id": "q23", "domain": 1, "question": "公司需要连接数百个VPC，并且需要跨区域通信。最可扩展的方案是什么？", "options": {"A": "VPC Peering网格", "B": "使用Transit Gateway并配置跨区域对等连接", "C": "使用VPN Hub", "D": "使用Direct Connect到每个VPC"}, "answer": "B", "explanation": "Transit Gateway支持数千个VPC连接，跨区域对等连接允许不同区域的Transit Gateway互连。"},
    {"id": "q24", "domain": 2, "question": "需要通过Direct Connect访问公共AWS服务（如S3的公共端点）。需要什么类型的VIF？", "options": {"A": "私有VIF", "B": "公共VIF", "C": "Transit VIF", "D": "托管VIF"}, "answer": "B", "explanation": "公共VIF允许通过Direct Connect访问所有AWS公共服务的公共端点。"},
    {"id": "q25", "domain": 3, "question": "需要自动化VPC Flow Logs的分析以检测安全事件。最佳方案是什么？", "options": {"A": "手动分析", "B": "使用Athena查询S3中的日志配合CloudWatch告警", "C": "仅使用CloudWatch Logs", "D": "使用AWS Config"}, "answer": "B", "explanation": "Flow Logs发送到S3，使用Athena进行SQL查询分析，CloudWatch告警可以基于查询结果触发通知。"},
    {"id": "q26", "domain": 4, "question": "需要在不同VPC之间安全地共享应用程序服务，但不允许IP地址范围重叠的VPC使用VPC Peering。最佳方案是什么？", "options": {"A": "重新规划IP地址", "B": "使用AWS PrivateLink", "C": "使用公共互联网", "D": "使用NAT"}, "answer": "B", "explanation": "PrivateLink通过网络负载均衡器暴露服务，消费者VPC通过接口端点访问，不需要IP地址不重叠。"},
    {"id": "q27", "domain": 1, "question": "需要设计一个架构，使EC2实例可以安全访问互联网，同时对入站流量完全封闭。如何设计子网？", "options": {"A": "所有实例放在公有子网", "B": "实例在私有子网，通过NAT Gateway访问互联网", "C": "实例在公有子网但移除公有IP", "D": "使用VPN"}, "answer": "B", "explanation": "私有子网中的实例没有公有IP，通过NAT Gateway可以发起出站连接，但无法接收来自互联网的入站连接。"},
    {"id": "q28", "domain": 2, "question": "需要配置多个VPN连接到同一个虚拟私有网关以增加带宽。如何实现？", "options": {"A": "不支持多个VPN到同一VGW", "B": "配置ECMP负载均衡", "C": "使用Link Aggregation", "D": "使用Transit Gateway配合多个VPN附件并启用ECMP"}, "answer": "D", "explanation": "Transit Gateway支持ECMP（等价多路径路由），可以在多个VPN连接间分配流量，增加带宽。"},
    {"id": "q29", "domain": 3, "question": "需要分析跨多个账户的VPC网络连接问题。最佳工具是什么？", "options": {"A": "VPC Flow Logs", "B": "VPC Reachability Analyzer", "C": "AWS Config", "D": "CloudTrail"}, "answer": "B", "explanation": "VPC Reachability Analyzer可以分析VPC配置，验证两个端点之间的网络连接可达性，包括跨账户场景。"},
    {"id": "q30", "domain": 4, "question": "需要对通过Network Load Balancer的流量进行TLS终止。NLB支持什么TLS功能？", "options": {"A": "NLB不支持TLS终止", "B": "NLB支持TLS终止，使用ACM证书", "C": "需要使用ALB", "D": "需要在目标上终止TLS"}, "answer": "B", "explanation": "NLB支持TLS监听器，可以使用ACM证书进行TLS终止，减轻后端实例的加密负担。"},
    {"id": "q31", "domain": 1, "question": "需要为全球用户提供最佳性能的应用程序访问。如何优化网络路径？", "options": {"A": "使用单区域部署", "B": "使用AWS Global Accelerator", "C": "增加实例大小", "D": "使用更多可用区"}, "answer": "B", "explanation": "Global Accelerator使用AWS全球网络和任播IP，将用户流量路由到最近的健康端点，降低延迟。"},
    {"id": "q32", "domain": 2, "question": "Direct Connect连接建立后，如何验证BGP会话是否正常工作？", "options": {"A": "检查AWS控制台的VIF状态", "B": "检查BGP状态和路由交换，以及CloudWatch BGP指标", "C": "ping测试", "D": "检查账单"}, "answer": "B", "explanation": "验证BGP会话需要检查两端的BGP邻居状态、接收和通告的路由前缀，CloudWatch提供BGP状态指标。"},
    {"id": "q33", "domain": 3, "question": "需要限制Transit Gateway附件只能与特定的路由表关联。如何实现？", "options": {"A": "使用安全组", "B": "使用IAM策略限制关联操作", "C": "使用网络ACL", "D": "不支持此功能"}, "answer": "B", "explanation": "IAM策略可以使用条件限制用户只能将附件关联到特定的Transit Gateway路由表。"},
    {"id": "q34", "domain": 4, "question": "需要防止DDoS攻击影响VPC中的应用程序。除了AWS Shield外，还应该配置什么？", "options": {"A": "增加实例", "B": "配置Auto Scaling、CloudFront和WAF", "C": "使用更大的实例类型", "D": "禁用公有IP"}, "answer": "B", "explanation": "Auto Scaling提供弹性，CloudFront吸收边缘流量，WAF过滤恶意请求，与Shield协同提供DDoS防护。"},
    {"id": "q35", "domain": 1, "question": "需要在多个AZ之间实现应用程序的高可用性，同时最小化跨AZ数据传输成本。如何设计？", "options": {"A": "所有实例放在一个AZ", "B": "使用应用程序级别的AZ亲和性，优先使用同AZ资源", "C": "使用单个大实例", "D": "禁用跨AZ通信"}, "answer": "B", "explanation": "应用程序可以设计为优先使用同AZ的资源（如数据库只读副本），减少跨AZ流量同时保持高可用。"},
    {"id": "q36", "domain": 2, "question": "需要将本地网络的多个VLAN映射到AWS。如何使用Direct Connect实现？", "options": {"A": "创建多个物理连接", "B": "在同一物理连接上创建多个VIF，每个VIF使用不同的VLAN ID", "C": "使用VPN", "D": "不支持VLAN映射"}, "answer": "B", "explanation": "单个Direct Connect连接可以创建多个VIF，每个VIF配置不同的VLAN ID和BGP对等。"},
    {"id": "q37", "domain": 3, "question": "VPC中的实例无法解析私有托管区域的DNS记录。可能的原因是什么？", "options": {"A": "实例没有公有IP", "B": "VPC未关联到私有托管区域，或enableDnsHostnames/enableDnsSupport未启用", "C": "安全组阻止", "D": "网络ACL阻止"}, "answer": "B", "explanation": "私有托管区域必须关联到VPC，VPC必须启用DNS支持和DNS主机名才能解析私有DNS。"},
    {"id": "q38", "domain": 4, "question": "需要确保所有到AWS服务的API调用都通过VPC端点进行。如何强制执行？", "options": {"A": "使用安全组", "B": "在服务资源策略中使用aws:SourceVpce条件拒绝非VPC端点的请求", "C": "使用网络ACL", "D": "使用IAM策略"}, "answer": "B", "explanation": "服务资源策略（如S3存储桶策略）可以使用条件拒绝不是从指定VPC端点发起的请求。"},
    {"id": "q39", "domain": 1, "question": "需要设计一个网络架构，支持工作负载在本地和AWS之间无缝迁移。关键考虑是什么？", "options": {"A": "使用公共IP", "B": "使用一致的IP地址规划、DNS和混合连接（Direct Connect/VPN）", "C": "使用NAT", "D": "重新设计应用程序"}, "answer": "B", "explanation": "一致的IP规划避免冲突，混合DNS确保服务发现，可靠的连接（Direct Connect优先）确保网络可达性。"},
    {"id": "q40", "domain": 4, "question": "需要监控和记录所有通过Network Firewall的流量以满足合规要求。如何配置？", "options": {"A": "使用VPC Flow Logs", "B": "配置Network Firewall的日志记录发送到S3、CloudWatch Logs或Kinesis", "C": "使用CloudTrail", "D": "手动审计"}, "answer": "B", "explanation": "AWS Network Firewall支持将告警日志和流日志发送到S3、CloudWatch Logs或Kinesis Data Firehose进行存储和分析。"}
  ]
}
