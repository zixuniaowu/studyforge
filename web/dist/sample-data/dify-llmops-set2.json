{
  "exam": {
    "id": "dify-llmops-set2",
    "name": "Dify LLMOps 模拟考试 #2",
    "code": "DIFY-OPS",
    "provider": "Dify",
    "language": "zh-CN",
    "description": "Dify LLMOps 运维认证 - 第2套",
    "totalQuestions": 50,
    "passingScore": 70,
    "examTime": 90,
    "domains": [
      { "id": 1, "name": "Enterprise Deployment", "weight": 25 },
      { "id": 2, "name": "Model Management", "weight": 20 },
      { "id": 3, "name": "Performance & Monitoring", "weight": 30 },
      { "id": 4, "name": "Security & API", "weight": 25 }
    ],
    "tags": ["Dify", "LLMOps", "DevOps", "认证考试"]
  },
  "questions": [
    {"id": "q1", "domain": 1, "question": "在 Kubernetes 中部署 Dify 时，推荐使用什么方式管理配置？", "options": {"A": "硬编码在镜像中", "B": "使用 ConfigMap 和 Secret", "C": "通过文件挂载", "D": "环境变量直接写入 Deployment"}, "answer": "B", "answerType": "single", "explanation": "Kubernetes 配置管理最佳实践：\n- ConfigMap 存储非敏感配置\n- Secret 存储敏感信息\n- 便于管理和更新\n- 支持配置热更新", "difficulty": "medium"},
    {"id": "q2", "domain": 1, "question": "Dify 的向量数据库默认使用什么？", "options": {"A": "Pinecone", "B": "Weaviate", "C": "内置的 Qdrant/Weaviate", "D": "Elasticsearch"}, "answer": "C", "answerType": "single", "explanation": "Dify 向量数据库支持：\n- 默认支持 Qdrant 和 Weaviate\n- 可以配置使用其他向量数据库\n- 存储文档的向量索引\n- 支持高效的语义检索", "difficulty": "easy"},
    {"id": "q3", "domain": 1, "question": "如何配置 Dify 使用外部的 PostgreSQL 数据库？", "options": {"A": "只能使用内置数据库", "B": "修改 .env 中的数据库连接配置", "C": "需要修改源代码", "D": "通过 Web 界面配置"}, "answer": "B", "answerType": "single", "explanation": "外部数据库配置：\n- 在 .env 文件中修改 DB_HOST、DB_PORT 等\n- 配置数据库用户名和密码\n- 确保网络连通性\n- 运行迁移脚本初始化表结构", "difficulty": "medium"},
    {"id": "q4", "domain": 1, "question": "Dify 生产环境推荐的部署方式是什么？", "options": {"A": "单机 Docker", "B": "Docker Compose 开发模式", "C": "Kubernetes 或多实例 Docker Compose", "D": "直接运行 Python"}, "answer": "C", "answerType": "single", "explanation": "生产环境部署推荐：\n- Kubernetes 部署实现高可用\n- 多实例 Docker Compose 可作为中等规模方案\n- 配合负载均衡\n- 数据库和缓存外部化", "difficulty": "medium"},
    {"id": "q5", "domain": 1, "question": "如何备份 Dify 的应用数据？", "options": {"A": "导出 JSON 文件", "B": "备份数据库、文件存储和向量数据库", "C": "使用快照功能", "D": "无法备份"}, "answer": "B", "answerType": "single", "explanation": "数据备份策略：\n- PostgreSQL 数据库定期备份\n- 文件存储（S3/本地）备份\n- 向量数据库备份\n- 配置文件备份", "difficulty": "medium"},
    {"id": "q6", "domain": 2, "question": "如何在 Dify 中配置模型的\"上下文窗口大小\"？", "options": {"A": "无法配置", "B": "在添加模型时设置 context_size 参数", "C": "由模型自动决定", "D": "在应用中配置"}, "answer": "B", "answerType": "single", "explanation": "上下文窗口配置：\n- 添加自定义模型时设置\n- 影响可以传入的最大 Token 数\n- 不同模型有不同的限制\n- 超出限制会报错", "difficulty": "medium"},
    {"id": "q7", "domain": 2, "question": "Dify 支持哪些类型的模型？", "options": {"A": "只支持文本生成", "B": "文本生成、Embedding、Rerank、语音等多种类型", "C": "只支持 OpenAI 模型", "D": "只支持开源模型"}, "answer": "B", "answerType": "single", "explanation": "支持的模型类型：\n- LLM（文本生成/对话）\n- Embedding（文本向量化）\n- Rerank（重排序）\n- 语音识别和合成\n- 图像理解", "difficulty": "easy"},
    {"id": "q8", "domain": 2, "question": "如何处理模型提供商的\"API 速率限制\"？", "options": {"A": "忽略限制", "B": "配置重试策略和负载均衡", "C": "减少使用", "D": "更换提供商"}, "answer": "B", "answerType": "single", "explanation": "速率限制处理：\n- 配置自动重试策略\n- 使用多个 API Key 负载均衡\n- 实现请求队列\n- 监控并告警速率限制", "difficulty": "medium"},
    {"id": "q9", "domain": 2, "question": "Dify 中如何配置\"模型代理\"？", "options": {"A": "不支持代理", "B": "配置 HTTP_PROXY 环境变量", "C": "在模型配置中设置代理", "D": "使用 VPN"}, "answer": "B", "answerType": "single", "explanation": "模型代理配置：\n- 设置 HTTP_PROXY 和 HTTPS_PROXY\n- 用于访问受限的 API 端点\n- 支持企业网络环境\n- 可以针对特定模型配置", "difficulty": "medium"},
    {"id": "q10", "domain": 2, "question": "如何在 Dify 中管理多个团队使用的模型配额？", "options": {"A": "无法按团队管理", "B": "通过工作空间隔离和配额设置", "C": "手动统计", "D": "所有团队共享配额"}, "answer": "B", "answerType": "single", "explanation": "团队配额管理：\n- 不同工作空间独立配额\n- 设置成员级别的使用限制\n- 监控各团队使用情况\n- 可以设置预算告警", "difficulty": "medium"},
    {"id": "q11", "domain": 3, "question": "Dify 中如何实现\"分布式追踪\"？", "options": {"A": "不支持追踪", "B": "集成 OpenTelemetry 或类似工具", "C": "使用日志追踪", "D": "手动记录"}, "answer": "B", "answerType": "single", "explanation": "分布式追踪实现：\n- 支持 OpenTelemetry 集成\n- 追踪请求的完整链路\n- 识别性能瓶颈\n- 可视化调用关系", "difficulty": "hard"},
    {"id": "q12", "domain": 3, "question": "如何优化 Dify 的\"数据集索引速度\"？", "options": {"A": "无法优化", "B": "增加 Worker 数量和并行处理", "C": "减少数据量", "D": "使用更强的模型"}, "answer": "B", "answerType": "single", "explanation": "索引速度优化：\n- 增加 Celery Worker 数量\n- 配置并行处理任务数\n- 优化 Embedding 模型选择\n- 合理设置批处理大小", "difficulty": "medium"},
    {"id": "q13", "domain": 3, "question": "Dify 的\"内存使用\"主要受什么因素影响？", "options": {"A": "用户数量", "B": "模型大小、并发请求数、缓存配置", "C": "数据库大小", "D": "磁盘空间"}, "answer": "B", "answerType": "single", "explanation": "内存使用影响因素：\n- 本地模型加载占用大量内存\n- 并发请求的上下文缓存\n- Redis 缓存配置\n- 向量检索缓存", "difficulty": "medium"},
    {"id": "q14", "domain": 3, "question": "如何设置 Dify 的\"健康检查\"端点？", "options": {"A": "没有健康检查", "B": "使用内置的 /health 端点", "C": "需要自己开发", "D": "通过日志判断"}, "answer": "B", "answerType": "single", "explanation": "健康检查配置：\n- 内置 /health 端点\n- 检查服务可用性\n- 用于负载均衡器探测\n- Kubernetes 的 liveness/readiness 探针", "difficulty": "easy"},
    {"id": "q15", "domain": 3, "question": "Dify 中如何实现\"请求日志审计\"？", "options": {"A": "不支持审计", "B": "启用日志记录并配置日志级别", "C": "只记录错误", "D": "需要第三方工具"}, "answer": "B", "answerType": "single", "explanation": "请求日志审计：\n- 配置适当的日志级别\n- 记录 API 调用详情\n- 可以输出到日志系统\n- 支持日志分析和搜索", "difficulty": "medium"},
    {"id": "q16", "domain": 4, "question": "Dify API 支持哪些认证方式？", "options": {"A": "只支持 API Key", "B": "API Key 和应用级别的访问令牌", "C": "用户名密码", "D": "无需认证"}, "answer": "B", "answerType": "single", "explanation": "API 认证方式：\n- API Key 用于后端调用\n- 应用 Token 用于前端嵌入\n- 不同权限级别\n- 支持令牌过期和刷新", "difficulty": "medium"},
    {"id": "q17", "domain": 4, "question": "如何保护 Dify 免受\"DDoS 攻击\"？", "options": {"A": "Dify 自带防护", "B": "使用云服务的 DDoS 防护和速率限制", "C": "增加服务器", "D": "无法防护"}, "answer": "B", "answerType": "single", "explanation": "DDoS 防护策略：\n- 使用云服务商的 DDoS 防护\n- 配置 WAF 规则\n- 实现速率限制\n- CDN 分发流量", "difficulty": "medium"},
    {"id": "q18", "domain": 4, "question": "Dify 如何处理\"用户数据删除请求\"？", "options": {"A": "不支持删除", "B": "提供数据导出和删除功能", "C": "自动删除", "D": "手动删除数据库"}, "answer": "B", "answerType": "single", "explanation": "用户数据删除：\n- 支持导出用户数据\n- 可以删除对话历史\n- 符合 GDPR 等法规要求\n- 管理员可以操作", "difficulty": "medium"},
    {"id": "q19", "domain": 4, "question": "如何配置 Dify 的\"API 访问日志\"？", "options": {"A": "默认不记录", "B": "配置日志级别和输出目标", "C": "只记录错误", "D": "无法配置"}, "answer": "B", "answerType": "single", "explanation": "API 访问日志配置：\n- 设置日志级别为 INFO 或 DEBUG\n- 配置日志输出（文件/stdout）\n- 可以集成 ELK 等日志系统\n- 记录请求详情", "difficulty": "medium"},
    {"id": "q20", "domain": 4, "question": "Dify 如何支持\"内容安全审核\"？", "options": {"A": "不支持内容审核", "B": "可以集成内容审核服务或配置敏感词", "C": "自动过滤", "D": "手动审核"}, "answer": "B", "answerType": "single", "explanation": "内容安全审核：\n- 可以配置敏感词过滤\n- 集成第三方内容审核 API\n- 在输入和输出阶段检查\n- 记录违规日志", "difficulty": "medium"},
    {"id": "q21", "domain": 1, "question": "Dify 的 Web 服务和 API 服务如何分离部署？", "options": {"A": "无法分离", "B": "分别部署 web 和 api 容器", "C": "只能一起部署", "D": "需要修改代码"}, "answer": "B", "answerType": "single", "explanation": "服务分离部署：\n- Web 前端独立部署\n- API 后端独立部署\n- 可以独立扩展\n- 通过配置连接", "difficulty": "medium"},
    {"id": "q22", "domain": 1, "question": "如何配置 Dify 的\"会话存储\"？", "options": {"A": "只能用内存", "B": "配置 Redis 作为会话存储", "C": "存储在数据库", "D": "文件存储"}, "answer": "B", "answerType": "single", "explanation": "会话存储配置：\n- 使用 Redis 存储会话\n- 支持分布式会话\n- 配置会话过期时间\n- 高可用 Redis 推荐", "difficulty": "medium"},
    {"id": "q23", "domain": 1, "question": "Dify 如何支持\"蓝绿部署\"？", "options": {"A": "不支持蓝绿部署", "B": "通过 Kubernetes 或负载均衡器实现", "C": "内置蓝绿部署", "D": "只能停机部署"}, "answer": "B", "answerType": "single", "explanation": "蓝绿部署实现：\n- 部署新版本到独立环境\n- 通过负载均衡切换流量\n- 验证后完全切换\n- 支持快速回滚", "difficulty": "hard"},
    {"id": "q24", "domain": 1, "question": "如何处理 Dify 升级时的\"数据库迁移失败\"？", "options": {"A": "重新安装", "B": "回滚到备份版本并排查原因", "C": "忽略错误", "D": "手动修改数据"}, "answer": "B", "answerType": "single", "explanation": "迁移失败处理：\n- 首先回滚到备份\n- 检查迁移日志找到原因\n- 可能是数据兼容性问题\n- 修复后重新迁移", "difficulty": "hard"},
    {"id": "q25", "domain": 1, "question": "Dify 的定时任务由什么组件处理？", "options": {"A": "API 服务", "B": "Celery Beat 调度器", "C": "独立的 Cron 服务", "D": "数据库触发器"}, "answer": "B", "answerType": "single", "explanation": "定时任务处理：\n- Celery Beat 负责调度\n- Worker 执行任务\n- 支持自定义定时任务\n- 任务执行情况可监控", "difficulty": "medium"},
    {"id": "q26", "domain": 2, "question": "如何监控模型的\"Token 消耗趋势\"？", "options": {"A": "无法监控", "B": "通过内置统计或导出数据分析", "C": "依赖模型提供商", "D": "手动计算"}, "answer": "B", "answerType": "single", "explanation": "Token 消耗监控：\n- 内置 Token 使用统计\n- 按时间查看趋势\n- 可以导出数据分析\n- 设置消耗告警", "difficulty": "medium"},
    {"id": "q27", "domain": 2, "question": "Dify 如何处理\"模型响应超时\"？", "options": {"A": "无限等待", "B": "配置超时时间并返回友好错误", "C": "重启服务", "D": "忽略超时"}, "answer": "B", "answerType": "single", "explanation": "响应超时处理：\n- 配置模型调用超时时间\n- 超时返回错误信息\n- 可以配置重试\n- 记录超时日志", "difficulty": "medium"},
    {"id": "q28", "domain": 2, "question": "如何在 Dify 中实现\"模型切换策略\"？", "options": {"A": "只能使用一个模型", "B": "配置多个模型并设置切换条件", "C": "手动切换", "D": "随机选择"}, "answer": "B", "answerType": "single", "explanation": "模型切换策略：\n- 配置主备模型\n- 设置故障切换条件\n- 可以基于负载切换\n- 支持 A/B 测试", "difficulty": "medium"},
    {"id": "q29", "domain": 2, "question": "Dify 中如何管理\"模型版本\"？", "options": {"A": "不支持版本管理", "B": "通过添加不同版本的模型配置", "C": "自动更新", "D": "手动记录"}, "answer": "B", "answerType": "single", "explanation": "模型版本管理：\n- 添加同一模型的不同版本\n- 在应用中指定使用版本\n- 支持版本比较测试\n- 逐步迁移到新版本", "difficulty": "medium"},
    {"id": "q30", "domain": 2, "question": "如何评估 Dify 中不同模型的\"性价比\"？", "options": {"A": "只看价格", "B": "综合考虑成本、响应时间、输出质量", "C": "只看速度", "D": "只看质量"}, "answer": "B", "answerType": "single", "explanation": "模型性价比评估：\n- 统计每个模型的成本\n- 测量响应时间\n- 评估输出质量\n- 根据场景选择最优", "difficulty": "medium"},
    {"id": "q31", "domain": 3, "question": "Dify 中如何实现\"自定义监控指标\"？", "options": {"A": "不支持自定义", "B": "通过 Prometheus 指标或自定义日志", "C": "只有内置指标", "D": "修改源代码"}, "answer": "B", "answerType": "single", "explanation": "自定义监控指标：\n- 暴露 Prometheus 格式指标\n- 自定义业务指标日志\n- 集成监控系统\n- 配置告警规则", "difficulty": "hard"},
    {"id": "q32", "domain": 3, "question": "如何诊断 Dify 的\"慢查询\"问题？", "options": {"A": "无法诊断", "B": "启用慢查询日志并分析", "C": "重启服务", "D": "增加资源"}, "answer": "B", "answerType": "single", "explanation": "慢查询诊断：\n- 启用数据库慢查询日志\n- 分析 API 响应时间\n- 检查索引使用情况\n- 优化查询语句", "difficulty": "hard"},
    {"id": "q33", "domain": 3, "question": "Dify 的\"缓存失效策略\"如何配置？", "options": {"A": "缓存永不失效", "B": "配置 TTL 和主动失效机制", "C": "手动清除", "D": "不使用缓存"}, "answer": "B", "answerType": "single", "explanation": "缓存失效策略：\n- 配置缓存 TTL（生存时间）\n- 数据更新时主动失效\n- Redis 内存策略配置\n- 支持手动清除", "difficulty": "medium"},
    {"id": "q34", "domain": 3, "question": "如何优化 Dify 的\"知识库查询延迟\"？", "options": {"A": "无法优化", "B": "优化向量索引和检索参数", "C": "减少数据", "D": "更换硬件"}, "answer": "B", "answerType": "single", "explanation": "查询延迟优化：\n- 优化向量数据库索引配置\n- 调整检索 TopK 数量\n- 使用近似检索算法\n- 启用查询缓存", "difficulty": "medium"},
    {"id": "q35", "domain": 3, "question": "Dify 中如何实现\"容量规划\"？", "options": {"A": "不需要规划", "B": "分析历史数据预测增长并提前扩容", "C": "随用随扩", "D": "固定配置"}, "answer": "B", "answerType": "single", "explanation": "容量规划方法：\n- 收集历史使用数据\n- 分析增长趋势\n- 预测未来需求\n- 提前准备资源", "difficulty": "hard"},
    {"id": "q36", "domain": 4, "question": "Dify 如何实现\"审计日志\"功能？", "options": {"A": "不支持审计", "B": "记录用户操作和系统事件", "C": "只记录错误", "D": "外部系统实现"}, "answer": "B", "answerType": "single", "explanation": "审计日志功能：\n- 记录用户登录和操作\n- 记录应用配置变更\n- 记录 API 调用\n- 可以导出分析", "difficulty": "medium"},
    {"id": "q37", "domain": 4, "question": "如何配置 Dify 的\"跨域资源共享(CORS)\"？", "options": {"A": "默认允许所有", "B": "在环境变量中配置允许的域名", "C": "不支持跨域", "D": "修改源代码"}, "answer": "B", "answerType": "single", "explanation": "CORS 配置：\n- 设置 CORS_ALLOWED_ORIGINS\n- 指定允许的域名列表\n- 配置允许的方法和头\n- 安全控制跨域访问", "difficulty": "medium"},
    {"id": "q38", "domain": 4, "question": "Dify API 的\"幂等性\"如何保证？", "options": {"A": "不保证幂等性", "B": "对于创建操作使用请求 ID 去重", "C": "自动去重", "D": "客户端保证"}, "answer": "B", "answerType": "single", "explanation": "API 幂等性：\n- 部分操作支持幂等 ID\n- 防止重复提交\n- 客户端发送唯一请求标识\n- 服务端去重处理", "difficulty": "hard"},
    {"id": "q39", "domain": 4, "question": "如何保护 Dify 中的\"对话历史\"不被泄露？", "options": {"A": "默认公开", "B": "加密存储并严格控制访问权限", "C": "不存储历史", "D": "用户自己保护"}, "answer": "B", "answerType": "single", "explanation": "对话历史保护：\n- 数据库加密存储\n- 按用户和工作空间隔离\n- API 访问需要认证\n- 可以配置自动清理", "difficulty": "medium"},
    {"id": "q40", "domain": 4, "question": "Dify 如何支持\"多因素认证(MFA)\"？", "options": {"A": "不支持 MFA", "B": "企业版支持 MFA 配置", "C": "默认启用", "D": "通过插件"}, "answer": "B", "answerType": "single", "explanation": "MFA 支持：\n- 企业版提供 MFA 功能\n- 支持 TOTP 等方式\n- 增强账户安全性\n- 可以强制要求 MFA", "difficulty": "medium"},
    {"id": "q41", "domain": 1, "question": "Dify 的\"Sandbox\"模式有什么作用？", "options": {"A": "测试环境", "B": "隔离运行用户代码保护系统安全", "C": "开发模式", "D": "演示模式"}, "answer": "B", "answerType": "single", "explanation": "Sandbox 模式作用：\n- 隔离执行用户提交的代码\n- 保护宿主系统安全\n- 限制资源使用\n- 防止恶意代码执行", "difficulty": "medium"},
    {"id": "q42", "domain": 1, "question": "如何配置 Dify 的\"多区域部署\"？", "options": {"A": "不支持多区域", "B": "在多个区域部署实例并配置数据同步", "C": "自动同步", "D": "只能单区域"}, "answer": "B", "answerType": "single", "explanation": "多区域部署：\n- 在不同地理区域部署实例\n- 配置数据库主从同步\n- 使用 CDN 加速\n- DNS 智能解析", "difficulty": "hard"},
    {"id": "q43", "domain": 2, "question": "Dify 中如何处理\"模型计费差异\"？", "options": {"A": "统一计费", "B": "为不同模型配置不同的价格参数", "C": "不关心计费", "D": "使用提供商的价格"}, "answer": "B", "answerType": "single", "explanation": "模型计费处理：\n- 配置每个模型的单价\n- 支持输入/输出不同价格\n- 统计实际成本\n- 可以设置成本预警", "difficulty": "medium"},
    {"id": "q44", "domain": 2, "question": "如何在 Dify 中配置\"语音模型\"？", "options": {"A": "不支持语音", "B": "添加语音识别和合成模型配置", "C": "自动集成", "D": "通过插件"}, "answer": "B", "answerType": "single", "explanation": "语音模型配置：\n- 支持语音识别（ASR）模型\n- 支持语音合成（TTS）模型\n- 配置 API 密钥和端点\n- 用于语音交互场景", "difficulty": "medium"},
    {"id": "q45", "domain": 3, "question": "Dify 中如何实现\"异常检测\"？", "options": {"A": "不支持异常检测", "B": "监控关键指标并配置异常告警", "C": "人工检查", "D": "只看日志"}, "answer": "B", "answerType": "single", "explanation": "异常检测实现：\n- 监控错误率和延迟\n- 设置告警阈值\n- 异常时自动通知\n- 结合日志分析根因", "difficulty": "medium"},
    {"id": "q46", "domain": 3, "question": "如何优化 Dify 的\"启动时间\"？", "options": {"A": "无法优化", "B": "使用镜像缓存和预热机制", "C": "更换硬件", "D": "减少功能"}, "answer": "B", "answerType": "single", "explanation": "启动时间优化：\n- Docker 镜像层缓存\n- 应用预热和健康检查\n- 延迟加载非必要组件\n- 优化初始化流程", "difficulty": "medium"},
    {"id": "q47", "domain": 4, "question": "Dify 如何处理\"API 版本兼容性\"？", "options": {"A": "不考虑兼容性", "B": "保持向后兼容并提供版本化端点", "C": "强制升级", "D": "客户端适配"}, "answer": "B", "answerType": "single", "explanation": "API 版本兼容性：\n- API 路径包含版本号\n- 保持旧版本接口可用\n- 新功能在新版本发布\n- 文档说明变更", "difficulty": "medium"},
    {"id": "q48", "domain": 4, "question": "如何实现 Dify 的\"API 限流降级\"？", "options": {"A": "不支持降级", "B": "超过限制时返回降级响应", "C": "直接拒绝", "D": "无限等待"}, "answer": "B", "answerType": "single", "explanation": "限流降级策略：\n- 超过限制时返回特定错误\n- 可以返回缓存结果\n- 记录限流日志\n- 合理设置限制阈值", "difficulty": "medium"},
    {"id": "q49", "domain": 1, "question": "Dify 如何支持\"灰度发布\"？", "options": {"A": "不支持灰度", "B": "通过流量分配逐步切换到新版本", "C": "手动切换", "D": "A/B 测试替代"}, "answer": "B", "answerType": "single", "explanation": "灰度发布支持：\n- 负载均衡器配置流量比例\n- 逐步增加新版本流量\n- 监控新版本表现\n- 问题时快速回滚", "difficulty": "hard"},
    {"id": "q50", "domain": 3, "question": "如何分析 Dify 的\"用户留存率\"？", "options": {"A": "无法分析", "B": "统计用户活跃度和回访数据", "C": "外部工具分析", "D": "只看访问量"}, "answer": "B", "answerType": "single", "explanation": "用户留存分析：\n- 记录用户活跃时间\n- 计算不同周期的留存率\n- 分析用户行为模式\n- 优化产品提升留存", "difficulty": "medium"}
  ]
}
