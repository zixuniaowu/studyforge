{
  "exam": {
    "id": "aws-sap-c02-set3-ja",
    "name": "AWS SAP-C02 模擬試験 #3",
    "code": "SAP-C02",
    "provider": "AWS",
    "language": "ja",
    "description": "AWS Solutions Architect Professional (SAP-C02) 認定模擬試験第3セット。ハイブリッドクラウドアーキテクチャ、データレイクと分析、機械学習統合、高可用性設計、パフォーマンス最適化、セキュリティベストプラクティスをカバーしています。",
    "totalQuestions": 40,
    "passingScore": 75,
    "examTime": 180,
    "domains": [
      {"id": 1, "name": "複雑な組織向けソリューション設計", "weight": 26},
      {"id": 2, "name": "新規ソリューション設計", "weight": 29},
      {"id": 3, "name": "既存ソリューションの継続的改善", "weight": 25},
      {"id": 4, "name": "ワークロード移行とモダナイゼーションの加速", "weight": 20}
    ],
    "tags": ["AWS", "SAP-C02", "Professional", "Architecture"]
  },
  "questions": [
    {
      "id": 1,
      "domain": 1,
      "question": "企業がハイブリッドクラウドアーキテクチャを構築しており、オンプレミスデータセンターを複数のAWSリージョンに接続する必要があります。プライマリ接続が失敗した場合に自動フェイルオーバーできる高可用性接続が必要です。最適なソリューションは何ですか？",
      "options": {
        "A": "各リージョンに独立したSite-to-Site VPN接続を設定する",
        "B": "複数の仮想インターフェースを持つDirect Connectゲートウェイを使用し、VPNをバックアップとして構成する",
        "C": "Transit GatewayをDirect ConnectとVPNと統合し、BGPルーティングで自動フェイルオーバーを構成する",
        "D": "各リージョンにVPNソフトウェアを実行するEC2インスタンスをデプロイする"
      },
      "answer": "C",
      "answerType": "single",
      "explanation": "Transit Gatewayは複数のVPCとオンプレミスネットワークを接続でき、Direct ConnectとVPNのデュアルパスで冗長性を提供します。BGP動的ルーティングはリンク障害を検出し、自動的にトラフィックを切り替えることができます。これは高可用性ハイブリッドクラウド接続を実現するための最適なアーキテクチャです。",
      "difficulty": "hard"
    },
    {
      "id": 2,
      "domain": 1,
      "question": "企業がAWSマルチアカウント環境向けに集中型セキュリティモニタリングを実装する必要があります。セキュリティチームはリアルタイムで脅威を検出し、セキュリティイベントを分析し、セキュリティ問題に自動対応できる必要があります。最適なソリューションは何ですか？",
      "options": {
        "A": "各アカウントでCloudTrailを有効にし、ログを手動で分析する",
        "B": "Amazon GuardDutyとSecurity Hubを使用して検出結果を集約し、EventBridgeでLambdaをトリガーして自動修復を実行する",
        "C": "サードパーティのSIEMソリューションをデプロイする",
        "D": "CloudWatch Logs Insightsでセキュリティログを分析する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "GuardDutyはインテリジェントな脅威検出を提供し、Security Hubは複数のAWSサービスからのセキュリティ検出結果を集約して統一ビューを提供します。EventBridgeは特定の脅威が検出されたときにLambda関数をトリガーして自動修復アクションを実行できます。これはAWSネイティブのセキュリティオペレーションセンター（SOC）ソリューションです。",
      "difficulty": "medium"
    },
    {
      "id": 3,
      "domain": 2,
      "question": "小売企業が販売システム、在庫管理、顧客行動からのデータを保存するデータレイクを構築する必要があります。データはリアルタイム分析と機械学習モデルのトレーニングをサポートする必要があります。最適なアーキテクチャは何ですか？",
      "options": {
        "A": "RDSですべてのデータを保存し、分析用にリードレプリカを構成する",
        "B": "S3をデータレイクストレージとして使用し、AWS GlueでETL、Lake Formationで権限管理、Athena/Redshift Spectrumでクエリを実行する",
        "C": "すべてのデータをDynamoDBに保存する",
        "D": "ElastiCacheですべてのデータをキャッシュして分析する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "S3はデータレイク構築に最適なストレージ選択肢で、高い耐久性と低コストストレージを提供します。AWS GlueはサーバーレスETLとデータカタログを提供します。Lake Formationはデータレイクのセキュリティと権限管理を簡素化します。AthenaとRedshift SpectrumはS3上で直接SQLクエリを実行でき、分析とMLワークロードをサポートします。",
      "difficulty": "medium"
    },
    {
      "id": 4,
      "domain": 2,
      "question": "企業が複数のマイクロサービスからのイベントを処理するイベント駆動アーキテクチャを実装する必要があります。システムはイベントリプレイ、イベントフィルタリングをサポートし、イベントを順序通りに処理する必要があります。最適なソリューションは何ですか？",
      "options": {
        "A": "すべてのイベント処理にSQS FIFOキューを使用する",
        "B": "Amazon EventBridgeとイベントアーカイブおよびリプレイ機能を使用する",
        "C": "SNSでパブリッシュ/サブスクライブを使用する",
        "D": "Kinesis Data StreamsとLambdaコンシューマーを使用する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "EventBridgeはAWSの最新のイベントバスサービスで、高度なイベントフィルタリングルール、イベントアーカイブ、リプレイ機能をサポートします。100以上のAWSサービスとサードパーティSaaSアプリケーションと統合できます。イベントアーカイブによりイベントを保存し、必要に応じてリプレイでき、イベントソーシングアーキテクチャに最適です。",
      "difficulty": "medium"
    },
    {
      "id": 5,
      "domain": 3,
      "question": "EKSで実行されているアプリケーションがトラフィックの変化に対応して動的にスケーリングする必要があります。現在Cluster Autoscalerを使用していますが、ノードスケーリングが遅すぎてバーストトラフィックにタイムリーに対応できません。どのように最適化しますか？",
      "options": {
        "A": "Cluster Autoscalerのスキャン間隔を増やす",
        "B": "Cluster AutoscalerをKarpenterに置き換えて、より高速なノードプロビジョニングを実現する",
        "C": "ピークに対応するために事前に多くのノードを作成する",
        "D": "ECS Fargateに移行する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "KarpenterはAWSのオープンソースKubernetesノード自動プロビジョナーで、Cluster Autoscalerよりもはるかに速く、数秒で新しいノードを起動できます。Podの要件に基づいて最適なインスタンスタイプを直接選択し、ノードグループを設定する必要がありません。これはバーストトラフィックの処理に特に効果的です。",
      "difficulty": "hard"
    },
    {
      "id": 6,
      "domain": 4,
      "question": "企業がオンプレミスの仮想マシンで実行されているレガシーの3層Webアプリケーションを持ち、MySQLデータベースを使用しています。AWSへの移行と移行プロセス中のモダナイゼーションを計画しています。最適な移行戦略は何ですか？",
      "options": {
        "A": "Lift-and-ShiftですべてのコンポーネントをEC2に直接移行する",
        "B": "段階的に移行：まずWeb層をコンテナ化してECSにデプロイし、データベースをAurora MySQL Serverlessに移行し、その後ビジネスロジック層を段階的にリファクタリングする",
        "C": "アプリケーションをサーバーレスアーキテクチャとして完全に書き直す",
        "D": "AWS上にオンプレミスと全く同じ環境を作成する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "段階的移行が最適な戦略です。まずWeb層をコンテナ化することで、より良いポータビリティとスケーラビリティを得られます。Aurora MySQL Serverlessを使用して自己管理MySQLを置き換えることで、運用負担を軽減し、自動スケーリング機能を得られます。段階的なリファクタリングはリスクを軽減し、継続的に価値を提供できます。",
      "difficulty": "hard"
    },
    {
      "id": 7,
      "domain": 1,
      "question": "企業がAWS上でGPUアクセラレーションを必要とする機械学習推論ワークロードをデプロイする必要があります。ワークロードには明確なピークとオフピークのパターンがあり、ピーク時には大量のGPUリソースが必要です。最もコスト効率の良いソリューションをどのように設計しますか？",
      "options": {
        "A": "GPU EC2インスタンスを使用しAuto Scalingを構成する",
        "B": "SageMakerマルチモデルエンドポイントとGPUインスタンスおよびAuto Scalingポリシーを使用する",
        "C": "ピーク需要を満たすために十分なGPUリザーブドインスタンスを購入する",
        "D": "AWS BatchとSpotインスタンスを使用する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "SageMakerマルチモデルエンドポイントは、単一のエンドポイントで複数のモデルをホストでき、GPUリソースを効率的に利用できます。Auto Scalingポリシーと組み合わせることで、負荷に応じてインスタンス数を自動調整できます。これは各モデルに個別のエンドポイントをデプロイするよりもコスト効率が高く、ピークとオフピークのパターンを持つワークロードに特に適しています。",
      "difficulty": "hard"
    },
    {
      "id": 8,
      "domain": 2,
      "question": "企業がリアルタイム詐欺検出システムを構築する必要があります。システムは100ミリ秒以内にトランザクションを分析してリスクスコアを返す必要があります。毎秒10,000件以上のトランザクションを処理します。最適なアーキテクチャは何ですか？",
      "options": {
        "A": "API Gateway -> Lambda -> DynamoDB履歴パターンクエリ",
        "B": "Kinesis Data Streams -> Lambda（SageMakerエンドポイントを呼び出す） -> DynamoDB/ElastiCache",
        "C": "SQS -> EC2バッチ処理",
        "D": "SageMakerバッチ変換を直接呼び出す"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Kinesis Data Streamsは高スループットのリアルタイムデータストリームを処理できます。Lambdaは各トランザクションに対してSageMakerリアルタイム推論エンドポイントを呼び出して詐欺検出を実行できます。ElastiCacheを使用してユーザーの履歴行動パターンをキャッシュすることで検出を高速化できます。DynamoDBはトランザクションレコードと検出結果を保存します。このアーキテクチャは低レイテンシーと高スループットの要件を満たすことができます。",
      "difficulty": "hard"
    },
    {
      "id": 9,
      "domain": 3,
      "question": "アプリケーションがセッション管理にElastiCache Redisクラスターを使用しています。最近キャッシュヒット率が低下し、レイテンシーが増加しています。クラスターのCPU使用率は約70%、メモリ使用率は約85%です。どのように診断して解決しますか？（2つ選択）",
      "options": {
        "A": "Redisスローログを有効にして時間のかかる操作を分析する",
        "B": "すぐに大きなインスタンスタイプにスケールアップする",
        "C": "ホットキーと大きなキーを分析し、データ構造またはシャーディング戦略を最適化する",
        "D": "DynamoDBに移行する"
      },
      "answer": ["A", "C"],
      "answerType": "multiple",
      "explanation": "まず問題の根本原因を分析する必要があります：Redisスローログは時間のかかる操作を特定でき、ホットキー分析はアクセスの偏りがあるかどうかを発見できます。メモリ使用率85%はキーのエビクションを引き起こしている可能性があります。最適化には、ホットキーの分布の再設計、大きなキーの分割、TTLポリシーの調整、または水平シャーディングの検討が含まれる場合があります。盲目的にスケールアップしても根本的な問題は解決しない可能性があります。",
      "difficulty": "hard"
    },
    {
      "id": 10,
      "domain": 4,
      "question": "企業がSAP HANAワークロードをAWSに移行しています。SAP HANAは大量のメモリと高いI/Oパフォーマンスを必要とします。推奨されるソリューションは何ですか？",
      "options": {
        "A": "汎用EC2インスタンスとGP3 EBSボリュームを使用する",
        "B": "SAP認定の高メモリEC2インスタンス（X2idnなど）とインスタンスストレージまたはio2 Block Expressを使用する",
        "C": "AWS Outpostsを使用してオンプレミスで実行する",
        "D": "AuroraでSAP HANAを置き換える"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "SAP HANAはインメモリデータベースで、大量のRAMと高性能ストレージが必要です。X2idnなどの高メモリインスタンスはSAP認定のインスタンスタイプで、SAP HANAワークロード向けに最適化されています。インスタンスストレージは最低レイテンシーを提供し、io2 Block Expressは高いIOPSとスループットを提供します。AWSはSAP HANAのリファレンスアーキテクチャとAWS Launch Wizard for SAPを提供してデプロイを簡素化します。",
      "difficulty": "medium"
    },
    {
      "id": 11,
      "domain": 1,
      "question": "多国籍企業が機密データが特定のAWSリージョンから離れないようにする必要があります（データ主権要件）。マルチアカウント環境でこれをどのように強制しますか？",
      "options": {
        "A": "従業員に許可されたリージョンでのみリソースを作成するようトレーニングする",
        "B": "SCPを使用して特定のリージョン外でのAPI操作を制限する",
        "C": "IAMポリシーを使用して各ユーザーが使用できるリージョンを制限する",
        "D": "AWS Configを使用してリージョンコンプライアンスを検出する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Service Control Policies (SCPs)はAWS Organizationsレベルで許可されるAWSリージョンを制限できます。aws:RequestedRegion条件キーを使用して、許可されていないリージョンでのリソース作成をブロックできます。これはデータ主権要件を強制するための最も効果的な方法です。APIレベルで非準拠操作をブロックするからです。",
      "difficulty": "medium"
    },
    {
      "id": 12,
      "domain": 2,
      "question": "企業がPDFと画像からテキスト、テーブル、フォームデータを自動的に抽出するドキュメント処理パイプラインを構築する必要があります。最適なアーキテクチャは何ですか？",
      "options": {
        "A": "EC2でOCRソフトウェアを実行する",
        "B": "S3イベントでLambdaをトリガーし、LambdaがAmazon Textractを呼び出してドキュメント分析を行い、結果をS3/DynamoDBに保存する",
        "C": "Amazon ComprehendでPDFを直接処理する",
        "D": "PDFをテキストに変換してからAthenaで分析する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Amazon Textractはドキュメントからテキスト、テーブル、フォームデータを抽出するために特別に設計されており、PDFと画像をサポートしています。機械学習を使用してドキュメント構造を自動的に認識します。S3イベントでLambdaをトリガーすることで自動処理パイプラインを実現します。処理結果はS3またはDynamoDBに保存して後続使用できます。これは完全マネージドのサーバーレスソリューションです。",
      "difficulty": "medium"
    },
    {
      "id": 13,
      "domain": 3,
      "question": "CloudFrontで配信されている静的ウェブサイトの読み込み速度が最近遅くなりました。分析の結果、多くのリクエストがキャッシュにヒットしていない（キャッシュヒット率が低い）ことがわかりました。どのように最適化しますか？（2つ選択）",
      "options": {
        "A": "CloudFrontエッジロケーションの数を減らす",
        "B": "キャッシュTTLを増やし、適切なキャッシュキーポリシーを構成する",
        "C": "CloudFront Origin Shieldを使用してオリジンへのリクエストを減らす",
        "D": "CloudFront圧縮を無効にする"
      },
      "answer": ["B", "C"],
      "answerType": "multiple",
      "explanation": "TTLを増やすとコンテンツがエッジでより長くキャッシュされます。キャッシュキーポリシーを最適化する（必要なクエリ文字列/ヘッダーのみを含める）ことで、不要なキャッシュの断片化を回避できます。Origin Shieldは追加のキャッシュ層として機能し、オリジンへのリクエストを減らすことができ、複数のエッジロケーションがあるシナリオに特に適しています。これらの対策によりキャッシュヒット率を大幅に向上できます。",
      "difficulty": "medium"
    },
    {
      "id": 14,
      "domain": 4,
      "question": "企業がOracleデータウェアハウスから50TBの履歴データをAmazon Redshiftに移行する計画です。データは移行プロセス中に変換とクレンジングが必要です。最適な移行戦略は何ですか？",
      "options": {
        "A": "Oracleエクスポートツールでデータをエクスポートし、手動でRedshiftにインポートする",
        "B": "AWS DMSとAWS SCTを使用してスキーマ変換を行い、DMSでRedshiftへの継続的なデータレプリケーションを行う",
        "C": "すべてのデータをまずS3にインポートしてから、COPYコマンドでRedshiftにロードする",
        "D": "Snowball Edgeを使用してデータを転送する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "AWS Schema Conversion Tool (SCT)はOracleスキーマをRedshiftスキーマに変換でき、ストアドプロシージャの変換も含まれます。DMSはOracleからRedshiftへの継続的なデータレプリケーションをサポートし、移行プロセス中にデータ変換を実行できます。この方法はほぼゼロダウンタイムの移行をサポートし、データの一貫性を検証できます。",
      "difficulty": "medium"
    },
    {
      "id": 15,
      "domain": 1,
      "question": "企業が複数のAWSアカウントにわたるVPCネットワークセグメンテーションとセキュリティ制御を実装する必要があります。セキュリティルールを集中管理しながら、各ビジネス部門が独自のリソースを管理できるようにする必要があります。最適なソリューションは何ですか？",
      "options": {
        "A": "各アカウントでセキュリティグループを独立して管理する",
        "B": "AWS Firewall Managerを使用してセキュリティグループとWAFルールを集中管理し、VPCセグメンテーションと組み合わせる",
        "C": "すべてのアカウント間でVPCピアリングを確立する",
        "D": "Network ACLですべてのセキュリティ制御を行う"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "AWS Firewall ManagerはAWS Organizations内でセキュリティグループ、WAFルール、Shield Advanced、ネットワークファイアウォールルールを集中的に構成および管理できます。セキュリティポリシーを新しいアカウントとリソースに自動的に適用でき、ビジネス部門がベースラインルールの上に独自のルールを追加することも可能です。これにより集中ガバナンスと分散管理のバランスが実現されます。",
      "difficulty": "hard"
    },
    {
      "id": 16,
      "domain": 2,
      "question": "企業がSaaSアプリケーション向けにAPIバージョン管理とトラフィックグレーリリース機能を実装する必要があります。最適なソリューションは何ですか？",
      "options": {
        "A": "各APIバージョンに個別のAPI Gatewayを作成する",
        "B": "API Gatewayのステージ変数とLambdaエイリアスおよび加重ルーティングを使用する",
        "C": "アプリケーションコードでバージョンルーティングロジックを実装する",
        "D": "CloudFrontでトラフィック分散を行う"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "API Gatewayステージ変数は異なるLambdaエイリアスを指すことができます。Lambdaエイリアスは加重ルーティングをサポートし、一定の割合のトラフィックを新しいバージョンにルーティングしてカナリアリリースを行うことができます。この方法は段階的なリリース、迅速なロールバックをサポートし、APIエンドポイントやクライアントコードを変更する必要がありません。",
      "difficulty": "medium"
    },
    {
      "id": 17,
      "domain": 3,
      "question": "バッチ処理システムがAWS BatchでETLジョブを実行しています。最近ジョブの実行時間が50%増加しました。CloudWatchメトリクスはEC2インスタンスのCPU使用率は正常ですが、ディスクI/O待機時間が増加していることを示しています。どのように最適化しますか？",
      "options": {
        "A": "EC2インスタンスのCPUコア数を増やす",
        "B": "EBSボリュームをGP2からGP3またはio2にアップグレードし、プロビジョンドIOPSを増やす",
        "C": "AWS Batchコンピューティング環境の最大vCPUを増やす",
        "D": "Spotインスタンスを使用してコストを削減する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "高いディスクI/O待機時間はストレージがボトルネックであることを示しています。GP3はGP2よりも柔軟で、IOPSとスループットを独立して構成できます。io2は最大64,000のより高いIOPSを提供します。一時的なデータ処理の場合は、より低いレイテンシーを得るためにインスタンスストレージ（NVMe SSD）の使用も検討できます。CPUやコンピューティング環境のスケールを増やしても、ストレージのボトルネックは解決しません。",
      "difficulty": "medium"
    },
    {
      "id": 18,
      "domain": 4,
      "question": "企業がマイクロサービスをKubernetes（自己管理）からAWSに移行しています。チームはクラスター管理のオーバーヘッドを減らしながら、既存のツールとプロセスとの互換性を維持したいと考えています。推奨されるソリューションは何ですか？",
      "options": {
        "A": "すべてのマイクロサービスをLambdaに移行する",
        "B": "Amazon EKSとマネージドノードグループまたはFargateを使用する",
        "C": "EC2で自己管理Kubernetesを引き続き実行する",
        "D": "AWS App Runnerですべてのサービスを実行する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Amazon EKSはマネージドKubernetesコントロールプレーンを提供し、クラスター管理のオーバーヘッドを削減します。マネージドノードグループはノードのプロビジョニングと更新を自動的に処理します。EKS Fargateはノード管理をさらに排除します。EKSはKubernetesと完全に互換性があり、既存のkubectlコマンド、Helm charts、CI/CDパイプラインを引き続き使用できます。",
      "difficulty": "medium"
    },
    {
      "id": 19,
      "domain": 1,
      "question": "企業がAWSワークロード向けに災害復旧戦略を実装する必要があります。RPO = 4時間、RTO = 1時間が要件です。ワークロードにはWebアプリケーションとRDSデータベースが含まれます。最もコスト効率の良いDR戦略は何ですか？",
      "options": {
        "A": "マルチサイトアクティブ-アクティブデプロイメント",
        "B": "ホットスタンバイ - スタンバイリージョンで完全なレプリカを実行する",
        "C": "ウォームスタンバイ - スタンバイリージョンで最小スケールのレプリカを実行し、RDSクロスリージョンリードレプリカと組み合わせる",
        "D": "コールドスタンバイ - AMIとデータベーススナップショットのみを保存する"
      },
      "answer": "C",
      "answerType": "single",
      "explanation": "ウォームスタンバイ戦略はスタンバイリージョンで最小スケールの機能的なシステムを実行します。RDSクロスリージョンリードレプリカはほぼリアルタイムのデータレプリケーションを提供します（4時間RPOを満たす）。災害発生時、スタンバイシステムを迅速にスケールアップし、リードレプリカをプライマリデータベースに昇格できます（1時間RTOを満たす）。これはホットスタンバイよりもコストが低く、コールドスタンバイよりも復旧が速いです。",
      "difficulty": "hard"
    },
    {
      "id": 20,
      "domain": 2,
      "question": "企業がログ分析プラットフォームを構築する必要があります。毎日10TBのログデータを取り込み、ほぼリアルタイムの検索と7年間のデータ保持をサポートする必要があります。最適なアーキテクチャは何ですか？",
      "options": {
        "A": "CloudWatch LogsとLogs Insights",
        "B": "Kinesis Data Firehose -> OpenSearch Service（最近のデータ）+ S3（アーカイブ）+ Athena（履歴クエリ）",
        "C": "すべてのログをRDSに保存する",
        "D": "DynamoDBを使用してログを保存する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Kinesis Data Firehoseはログデータを複数の宛先にストリーミングできます。OpenSearch Serviceはほぼリアルタイムの検索と可視化機能を提供し、最近のホットデータに適しています。S3は長期アーカイブ用で、コストが低く、ライフサイクルポリシーで古いデータをGlacierに移行できます。Athenaは S3上で直接履歴データをクエリできます。この階層化アーキテクチャはパフォーマンスとコストのバランスを取ります。",
      "difficulty": "hard"
    },
    {
      "id": 21,
      "domain": 3,
      "question": "Lambda関数がSQSキューからメッセージを消費して処理しています。最近多くのメッセージがデッドレターキューに送信されていることがわかりました。CloudWatchログはLambda関数が正常に処理していることを示していますが、メッセージはまだ重複処理されています。考えられる原因は何ですか？",
      "options": {
        "A": "Lambda関数の処理時間がSQSの可視性タイムアウトを超えている",
        "B": "SQSキューのメッセージ保持期間が短すぎる",
        "C": "Lambda同時実行制限が低すぎる",
        "D": "デッドレターキューの設定が間違っている"
      },
      "answer": "A",
      "answerType": "single",
      "explanation": "Lambda処理時間がSQSの可視性タイムアウトを超えると、メッセージは再び可視状態になり、別のLambdaインスタンスによって再度受信されます。メッセージの受信回数が最大受信回数を超えると、デッドレターキューに送信されます。解決策は可視性タイムアウトを増やすこと（少なくともLambdaタイムアウトの6倍）またはLambda処理時間を最適化することです。",
      "difficulty": "hard"
    },
    {
      "id": 22,
      "domain": 4,
      "question": "企業がWebLogicで実行されているJava EEアプリケーションをAWSに移行する必要があります。アプリケーションはEJB、JMS、複雑なJDBC接続プールを使用しています。最適な移行戦略は何ですか？",
      "options": {
        "A": "App2Containerを使用してアプリケーションをコンテナ化し、ECSにデプロイする",
        "B": "EC2にWebLogicをインストールして直接移行する",
        "C": "アプリケーションをSpring Bootマイクロサービスとして書き直す",
        "D": "AWS LambdaでJavaアプリケーションを実行する"
      },
      "answer": "A",
      "answerType": "single",
      "explanation": "AWS App2Containerは既存のJavaアプリケーションを分析し、コンテナイメージ、ECS/EKSタスク定義、CI/CDパイプラインを自動生成できます。WebLogicなどのアプリケーションサーバーを使用する従来のJava EEアプリケーションの場合、コンテナ化は既存のコード投資を保持しながら、クラウドネイティブのスケーラビリティと管理の簡便さを得ることができます。完全な書き直しはリスクが高く、時間がかかります。",
      "difficulty": "hard"
    },
    {
      "id": 23,
      "domain": 1,
      "question": "企業がS3バケット内の機密データの自動発見と分類を実装する必要があります。PII（個人識別情報）を識別し、コンプライアンスを確保する必要があります。最適なソリューションは何ですか？",
      "options": {
        "A": "Lambda関数を使用してS3オブジェクトの内容を定期的にスキャンする",
        "B": "Amazon Macieを使用して機密データを自動的に発見および分類する",
        "C": "S3オブジェクトタグを使用して手動でデータを分類する",
        "D": "AWS Configルールを使用してS3バケット構成を確認する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Amazon Macieは機械学習とパターンマッチングを使用して、S3内のPII、財務情報、認証情報を含む機密データを自動的に発見します。詳細な発見レポートを生成し、EventBridgeと統合して自動応答を行うことができます。MacieはS3バケットのセキュリティとアクセス制御構成も評価できます。これはデータセキュリティとコンプライアンスの最適な選択肢です。",
      "difficulty": "medium"
    },
    {
      "id": 24,
      "domain": 2,
      "question": "企業がIoTプラットフォーム向けにデバイスシャドウ機能を実装する必要があります。アプリケーションがオフラインデバイスと通信できるようにする必要があります。デバイスがオンラインになったら、最新の状態を同期する必要があります。最適なソリューションは何ですか？",
      "options": {
        "A": "DynamoDBを使用してデバイス状態を保存する",
        "B": "AWS IoT Coreデバイスシャドウサービスを使用する",
        "C": "SQSキューを使用して同期待ちメッセージを保存する",
        "D": "ElastiCacheを使用してデバイス状態をキャッシュする"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "AWS IoT Coreデバイスシャドウは、デバイスの現在の状態と期待される状態を保存するJSONドキュメントです。デバイスがオフラインでも、アプリケーションは期待される状態を更新できます。デバイスが再接続すると、IoT Coreは自動的に期待される状態をデバイスに同期します。これはIoTシナリオでのデバイス状態管理のベストプラクティスです。",
      "difficulty": "medium"
    },
    {
      "id": 25,
      "domain": 3,
      "question": "Aurora MySQLデータベースの書き込みパフォーマンスが低下しています。分析の結果、プライマリインスタンスのCPU使用率は正常ですが、書き込みレイテンシーが増加しています。Performance Insightsは待機イベントが主に'io/aurora_redo_log_flush'であることを示しています。どのように最適化しますか？",
      "options": {
        "A": "より多くのリードレプリカを追加する",
        "B": "より大きなインスタンスタイプにアップグレードしてより多くのメモリを取得する",
        "C": "データベースをAurora I/O-Optimized構成にアップグレードして、より良い書き込みパフォーマンスを取得する",
        "D": "Aurora並列クエリを有効にする"
      },
      "answer": "C",
      "answerType": "single",
      "explanation": "'aurora_redo_log_flush'待機イベントはストレージI/Oがボトルネックであることを示しています。Aurora I/O-Optimized構成は書き込み集約型ワークロード向けに設計されており、より高いI/Oスループットとより低いレイテンシーを提供します。I/Oコストはインスタンス料金に含まれますが（追加のI/O料金なし）、高I/Oワークロードではよりコスト効率が良い場合があります。リードレプリカは書き込みパフォーマンスには役立ちません。",
      "difficulty": "hard"
    },
    {
      "id": 26,
      "domain": 4,
      "question": "企業がメインフレームCOBOLアプリケーションをAWSに移行しています。アプリケーションには数百万行のコードと複雑なバッチジョブがあります。推奨される移行方法は何ですか？",
      "options": {
        "A": "Javaマイクロサービスとして直接書き直す",
        "B": "AWS Mainframe Modernizationサービスの自動リファクタリングまたはリプラットフォームオプションを使用する",
        "C": "EC2でメインフレームエミュレーターを実行する",
        "D": "メインフレームを維持し、API Gatewayで統合する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "AWS Mainframe Modernizationは2つの移行モードを提供します：1) リプラットフォーム - Micro FocusまたはBlu Ageを使用してAWS上でCOBOLアプリケーションを実行；2) 自動リファクタリング - Blu Ageを使用してCOBOLをJavaに自動変換。これらの方法はどちらも完全な手動書き直しよりも速く、リスクが低く、ビジネスロジックを保持します。",
      "difficulty": "hard"
    },
    {
      "id": 27,
      "domain": 1,
      "question": "企業が複数のAWSアカウントにわたるEC2インスタンスが承認されたAMIを使用していることを確認する必要があります。どのように強制しますか？",
      "options": {
        "A": "IAMポリシーを使用してec2:RunInstances操作を特定のAMI IDのみに制限する",
        "B": "AWS Configルールを使用して非準拠インスタンスを検出しアラートを送信する",
        "C": "EC2 Image Builderを使用して標準AMIを作成する",
        "D": "AWS License Managerホストリソースグループを使用する"
      },
      "answer": "A",
      "answerType": "single",
      "explanation": "IAMポリシーの条件キーec2:ImageIdを使用して、ユーザーが特定の承認されたAMIのみでインスタンスを起動するよう制限できます。これはインスタンス起動時に非準拠操作をブロックする予防的制御です。SCPまたはIAMポリシーで実装できます。AWS Configは非準拠リソースの作成を検出するだけで、ブロックはできません。",
      "difficulty": "medium"
    },
    {
      "id": 28,
      "domain": 2,
      "question": "企業がマルチリージョン、アクティブ-アクティブのWebアプリケーションアーキテクチャを実装する必要があります。アプリケーションはDynamoDBをデータベースとして使用しています。一貫性と可用性を確保するためにデータ層をどのように設計しますか？",
      "options": {
        "A": "各リージョンに独立したDynamoDBテーブルをデプロイし、アプリケーション層で同期を処理する",
        "B": "DynamoDBグローバルテーブルを使用してマルチリージョンレプリケーションを実現し、Route 53レイテンシーベースルーティングと組み合わせる",
        "C": "単一リージョンのDynamoDBとGlobal Acceleratorを使用する",
        "D": "Aurora Global DatabaseでDynamoDBを置き換える"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "DynamoDBグローバルテーブルはリージョン間の自動レプリケーションを提供し、データ更新は数秒以内にすべてのリージョンに同期されます。Route 53レイテンシーベースルーティングと組み合わせることで、ユーザーリクエストは最も近いリージョンにルーティングされ、最低レイテンシーを得られます。グローバルテーブルは最後の書き込み者が優先の競合解決戦略を使用し、ほとんどのユースケースに適しています。これはアクティブ-アクティブアーキテクチャを実現するための最適な選択肢です。",
      "difficulty": "hard"
    },
    {
      "id": 29,
      "domain": 3,
      "question": "Step Functionsでオーケストレーションされているワークフローが、ダウンストリームサービスのタイムアウトにより頻繁に失敗しています。ワークフローの回復力をどのように向上させますか？（2つ選択）",
      "options": {
        "A": "各タスクに適切なリトライポリシー（指数バックオフ）を構成する",
        "B": "Step Functions Expressワークフローを使用して標準ワークフローを置き換える",
        "C": "Catchブロックを使用してエラー処理とフォールバックパスを実装する",
        "D": "ダウンストリームサービスのインスタンス数を増やす"
      },
      "answer": ["A", "C"],
      "answerType": "multiple",
      "explanation": "Step Functionsの組み込みリトライポリシーは指数バックオフ、最大リトライ回数、ジッターをサポートし、一時的な障害を優雅に処理できます。Catchブロックは特定のエラーが発生したときにフォールバックパスを実行でき、例えば通知を送信したりDLQに書き込んだりできます。これら2つのメカニズムを組み合わせることで、完全なフォールトトレランス機能が提供されます。Expressワークフローは高スループットの短時間タスクに適しており、回復力向上のためではありません。",
      "difficulty": "medium"
    },
    {
      "id": 30,
      "domain": 4,
      "question": "企業がHadoopクラスターからAWSへの分析ワークロードの移行を評価しています。ワークロードにはSparkジョブ、Hiveクエリ、機械学習トレーニングが含まれます。推奨されるターゲットアーキテクチャは何ですか？",
      "options": {
        "A": "EC2で自己管理Hadoopクラスターをデプロイする",
        "B": "Amazon EMRとS3データレイクを使用し、EMR ServerlessでSparkジョブを実行する",
        "C": "すべてのワークロードをRedshiftに移行する",
        "D": "AWS Batchですべての分析ジョブを実行する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Amazon EMRはHadoopエコシステム（Spark、Hive、Prestoなど）と完全に互換性があります。S3をストレージとして使用することで、コンピュートとストレージの分離を実現し、柔軟性とコスト効率を向上させます。EMR ServerlessはSparkとHiveジョブを自動スケーリングでき、クラスター管理は不要です。このアーキテクチャは既存のワークロードとの互換性を維持しながら、クラウドネイティブの弾力性と効率を得られます。",
      "difficulty": "medium"
    },
    {
      "id": 31,
      "domain": 1,
      "question": "企業がAWSとオンプレミスデータセンター間で大量のデータを転送する必要があります。転送の暗号化と予測可能な帯域幅が必要です。データ転送は毎日約500GBです。最適なソリューションは何ですか？",
      "options": {
        "A": "Site-to-Site VPNを使用する",
        "B": "AWS Direct ConnectとMACsec暗号化を使用する",
        "C": "パブリックインターネットとアプリケーション層暗号化を使用する",
        "D": "AWS DataSyncをインターネット経由で使用する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Direct Connectは専用ネットワーク接続を提供し、帯域幅は安定して予測可能で、パブリックインターネットの輻輳の影響を受けません。MACsec（MACセキュリティ）はレイヤー2で高速暗号化を提供し、データ転送セキュリティを保護します。毎日500GBの継続的なデータ転送には、Direct ConnectはVPNよりも信頼性が高く、コストも予測しやすいです。",
      "difficulty": "medium"
    },
    {
      "id": 32,
      "domain": 2,
      "question": "企業がユーザーにリアルタイムでパーソナライズされたレコメンデーションを提供するレコメンデーションシステムを構築する必要があります。システムはユーザーのクリックストリームデータを処理し、レコメンデーションモデルを更新する必要があります。最適なアーキテクチャは何ですか？",
      "options": {
        "A": "ユーザーデータを定期的にバッチ処理し、毎日レコメンデーションを更新する",
        "B": "Kinesis Data Streamsでクリックストリームを収集 -> Lambda処理 -> Amazon Personalizeリアルタイムレコメンデーション",
        "C": "ElastiCacheを使用して静的レコメンデーションをキャッシュする",
        "D": "DynamoDBでユーザー設定を保存し、アプリケーション層でルールベースのレコメンデーションを実装する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Amazon PersonalizeはマネージドML レコメンデーションサービスで、リアルタイムレコメンデーションと増分モデル更新をサポートします。Kinesis Data Streamsはユーザーインタラクションデータをリアルタイムでキャプチャできます。Lambdaはイベントを処理し、Personalize APIを呼び出してユーザーインタラクションを記録し、レコメンデーションモデルが継続的に学習および改善できるようにします。これはリアルタイムパーソナライズレコメンデーションを実現するための最適なアーキテクチャです。",
      "difficulty": "hard"
    },
    {
      "id": 33,
      "domain": 3,
      "question": "企業のAPI Gateway REST APIが高トラフィック期間中に429（Too Many Requests）エラーを発生させています。APIバックエンドはLambda関数です。どのように解決しますか？（2つ選択）",
      "options": {
        "A": "API Gatewayのスロットリング制限とバースト容量を増やす",
        "B": "Lambda関数の予約済み同時実行を増やす",
        "C": "REST APIをHTTP APIに移行する",
        "D": "API Gatewayキャッシングを有効にしてバックエンド呼び出しを減らす"
      },
      "answer": ["A", "D"],
      "answerType": "multiple",
      "explanation": "API Gatewayにはデフォルトで10,000 RPSのアカウントレベル制限があり、増加をリクエストできます。APIキャッシングを有効にすると、GETリクエストのレスポンスをキャッシュでき、Lambdaへの呼び出しを減らせます。重複する同一リクエストの場合、キャッシュは直接レスポンスを返し、スロットリング制限にカウントされません。これら2つの方法を組み合わせることで、高トラフィックを効果的に処理できます。",
      "difficulty": "medium"
    },
    {
      "id": 34,
      "domain": 4,
      "question": "企業がオンプレミスのWindowsファイルサーバーをAWSに移行しています。既存のActive Directoryとの統合を維持し、数百の同時ユーザーアクセスをサポートする必要があります。推奨されるソリューションは何ですか？",
      "options": {
        "A": "EC2でWindowsファイルサーバーを設定する",
        "B": "Amazon FSx for Windows File ServerとAWS Directory Serviceを使用する",
        "C": "Amazon EFSを使用する",
        "D": "S3とStorage Gatewayファイルゲートウェイを使用する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Amazon FSx for Windows File Serverは完全マネージドのWindowsファイルストレージを提供し、SMBプロトコルとNTFSをネイティブにサポートします。既存のオンプレミスADまたはAWS Managed Microsoft ADと統合でき、DFS名前空間、シャドウコピーなどのWindowsファイルサーバー機能をサポートします。完全なWindowsファイルサーバー機能が必要なシナリオでは、これが最適な選択です。",
      "difficulty": "easy"
    },
    {
      "id": 35,
      "domain": 1,
      "question": "企業がAWSアカウント内の特権操作に対して追加のセキュリティ制御を実装する必要があります。機密操作（RDSインスタンスの削除など）を実行する際に複数人の承認が必要です。どのように実装しますか？",
      "options": {
        "A": "IAMポリシーでMFA条件を使用する",
        "B": "AWS Systems Manager Change Managerと変更テンプレートおよび承認ワークフローを使用する",
        "C": "SCPですべての削除操作をブロックする",
        "D": "CloudTrailでモニタリングし手動でレビューする"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "AWS Systems Manager Change Managerは変更管理フレームワークを提供し、変更テンプレート、承認ワークフロー、自動化の実行を定義できます。機密操作については、複数の承認者が承認した後にのみ実行できるように構成できます。これにより職務分離と変更管理が実現され、コンプライアンス要件を満たします。変更実行はSSM Automationドキュメントを通じて行われ、一貫性と監査可能性が確保されます。",
      "difficulty": "hard"
    },
    {
      "id": 36,
      "domain": 2,
      "question": "企業がアップロードされた動画を複数のフォーマットと解像度に変換するビデオトランスコーディングパイプラインを構築する必要があります。自動スケーリングと従量課金をサポートする必要があります。最適なソリューションは何ですか？",
      "options": {
        "A": "EC2インスタンスでFFmpegを実行し、Auto Scalingを構成する",
        "B": "S3イベントでLambdaをトリガーし、LambdaがAWS Elemental MediaConvertにジョブを送信する",
        "C": "AWS Batchでトランスコーディングコンテナを実行する",
        "D": "Elastic Transcoderを使用する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "AWS Elemental MediaConvertは完全マネージドのビデオトランスコーディングサービスで、ブロードキャスト品質の出力をサポートします。処理した分数に基づいて課金され、任意のワークロードを処理するために自動スケールします。S3イベントはLambdaを自動的にトリガーでき、LambdaはMediaConvert APIを呼び出してトランスコーディングジョブを作成します。これはサーバーレスで高度にスケーラブルなビデオ処理パイプラインです。",
      "difficulty": "medium"
    },
    {
      "id": 37,
      "domain": 3,
      "question": "Aurora PostgreSQLを使用しているアプリケーションが時々データベース接続タイムアウトに遭遇しています。アプリケーションは複数のECSタスクで実行されており、各タスクはデータベースに直接接続しています。接続数がAuroraの最大接続数制限に近づいていることがよくあります。どのように最適化しますか？",
      "options": {
        "A": "より大きなAuroraインスタンスタイプにアップグレードする",
        "B": "RDS Proxyを使用して接続プールを管理する",
        "C": "ECSタスク数を減らす",
        "D": "アプリケーションコードで接続タイムアウトを増やす"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "RDS Proxyはアプリケーションとデータベースの間に配置され、接続プールとマルチプレキシングを提供します。数千のアプリケーション接続を少数のデータベース接続にマルチプレックスでき、データベース接続の負担を大幅に軽減します。RDS Proxyは自動フェイルオーバーとIAM認証もサポートします。これはアプリケーションコードを変更せずに接続数の問題を解決するための最適なソリューションです。",
      "difficulty": "medium"
    },
    {
      "id": 38,
      "domain": 4,
      "question": "企業が従来のETLジョブをオンプレミスのInformaticaからAWSに移行しています。ジョブは構造化データと半構造化データを処理します。推奨される移行戦略は何ですか？",
      "options": {
        "A": "EC2にInformaticaをインストールする",
        "B": "AWS GlueサーバーレスETLでジョブを書き直し、Glue Studioで視覚的に設計する",
        "C": "Lambda関数ですべてのデータ変換を処理する",
        "D": "Amazon EMRでカスタムSparkジョブを実行する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "AWS Glueは完全マネージドのサーバーレスETLサービスで、構造化データと半構造化データをサポートします。Glue StudioはETLジョブを設計するためのビジュアルインターフェースを提供し、移行の複雑さを軽減します。Glueデータカタログは集中メタデータ管理を提供します。Informaticaからの移行では、Glueは同様の機能セットを提供しながら、インフラ管理の負担を排除します。",
      "difficulty": "medium"
    },
    {
      "id": 39,
      "domain": 1,
      "question": "企業の開発チームがローカル開発環境でAWSサービスにアクセスする必要があります。開発者の一時的な認証情報を安全に管理し、長期認証情報の漏洩リスクを回避する必要があります。ベストプラクティスは何ですか？",
      "options": {
        "A": "各開発者にIAMユーザーを作成し、アクセスキーを配布する",
        "B": "AWS IAM Identity CenterとAWS CLI v2のSSOログイン機能を使用する",
        "C": "開発マシンにルートアカウント認証情報を保存する",
        "D": "共有IAMユーザー認証情報を使用する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "IAM Identity Center（旧AWS SSO）は集中ID管理と一時的な認証情報を提供します。AWS CLI v2は'aws sso login'コマンドをサポートし、開発者はブラウザで認証を完了した後、短期認証情報を取得します。認証情報は自動的に更新され、アクセスキーを手動で管理する必要がありません。これにより長期認証情報の漏洩リスクが排除され、より良いユーザーエクスペリエンスと監査機能が提供されます。",
      "difficulty": "medium"
    },
    {
      "id": 40,
      "domain": 2,
      "question": "企業がGraphQL API向けに認証と認可を実装する必要があります。APIはAWS AppSyncを使用しており、複数の認証方式（APIキー、Cognito、IAM）をサポートする必要があります。どのように設計しますか？",
      "options": {
        "A": "認証にAPIキーのみを使用する",
        "B": "AppSyncマルチ認証モードを構成し、リゾルバーで$ctx.identityを使用してきめ細かな認可を行う",
        "C": "Lambdaリゾルバーでカスタム認証を実装する",
        "D": "AppSyncをAPI Gatewayの背後に配置して認証を行う"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "AppSyncはマルチ認証モードをサポートし、デフォルトモードと追加の認証プロバイダーを同時に構成できます。GraphQLスキーマでは@authディレクティブを使用するか、リゾルバーで$ctx.identityオブジェクトを使用してフィールドレベルのきめ細かな認可を実装できます。この方法は柔軟で、AppSyncとネイティブに統合されており、追加のインフラやカスタムコードは必要ありません。",
      "difficulty": "hard"
    }
  ]
}
