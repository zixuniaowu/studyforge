{
  "exam": {
    "id": "aws-dop-c02-set2-ja",
    "name": "AWS DOP-C02 模擬試験 #2",
    "code": "DOP-C02",
    "provider": "AWS",
    "language": "ja",
    "description": "AWS DevOpsエンジニアプロフェッショナル認定試験模擬問題 - 第2セット",
    "totalQuestions": 40,
    "passingScore": 75,
    "examTime": 180,
    "domains": [
      {"id": 1, "name": "SDLCの自動化", "weight": 22},
      {"id": 2, "name": "構成管理とIaC", "weight": 17},
      {"id": 3, "name": "回復力のあるクラウドソリューション", "weight": 15},
      {"id": 4, "name": "モニタリングとロギング", "weight": 15},
      {"id": 5, "name": "インシデントとイベント対応", "weight": 14},
      {"id": 6, "name": "セキュリティとコンプライアンス", "weight": 17}
    ],
    "tags": ["AWS", "DevOps", "DOP", "認定試験", "プロフェッショナル"]
  },
  "questions": [
    {"id": "q1", "domain": 1, "question": "チームがGitFlowワークフローを実装する必要があり、メインブランチへのマージにはすべてのテストに合格する必要があります。AWSサービスでどのように実現しますか？", "options": {"A": "テストを手動実行", "B": "CodeCommit + CodeBuildでブランチ保護とPRビルドを設定", "C": "Jenkinsを使用", "D": "Lambdaでテストをトリガー"}, "answer": "B", "explanation": "CodeCommitは承認ルールテンプレートの作成をサポートし、CodeBuildはPRトリガービルドを設定でき、マージにはビルド成功が必要で、自動化されたコード品質ゲートを実現します。"},
    {"id": "q2", "domain": 1, "question": "複数のAWSリージョンに同時にアプリケーションをデプロイする必要があります。CodePipelineでどのように実現しますか？", "options": {"A": "複数の独立したパイプラインを作成", "B": "クロスリージョン操作を使用して複数リージョンにデプロイ", "C": "各リージョンに手動デプロイ", "D": "Lambdaで同期"}, "answer": "B", "explanation": "CodePipelineはクロスリージョン操作をサポートし、単一パイプラインで他のリージョンにアーティファクトをコピーしてデプロイ操作を実行するように設定できます。"},
    {"id": "q3", "domain": 1, "question": "CodeDeployのEC2へのデプロイが失敗し、ログにAppSpecファイルの構文エラーが表示されています。AppSpecを検証するにはどうすればよいですか？", "options": {"A": "直接デプロイしてテスト", "B": "CodeDeployローカルエージェントまたはYAML検証ツールを使用して検証", "C": "CloudWatch Logsを確認", "D": "AWSサポートに連絡"}, "answer": "B", "explanation": "CodeDeployローカルエージェントを使用してローカルでAppSpecファイルとデプロイスクリプトを検証でき、本番環境にデプロイしてから問題が発見されることを回避できます。"},
    {"id": "q4", "domain": 2, "question": "CloudFormationスタックの作成がタイムアウトし、リソースがCREATE_IN_PROGRESS状態でスタックしています。考えられる原因は？", "options": {"A": "テンプレート構文エラー", "B": "EC2インスタンスのcfn-signalが成功シグナルを送信していない", "C": "IAM権限不足", "D": "リージョン容量不足"}, "answer": "B", "explanation": "CreationPolicyを使用してシグナルを待機しているが、インスタンスがcfn-signalを送信できない場合（ユーザーデータスクリプトの失敗など）、スタックはタイムアウトまで待機します。"},
    {"id": "q5", "domain": 2, "question": "異なる環境で異なるインスタンスタイプと数量を使用する必要があります。CloudFormationでどのように実現しますか？", "options": {"A": "複数のテンプレートを作成", "B": "MappingsとConditionsを使用して環境パラメータに基づいて設定を選択", "C": "パラメータを手動で変更", "D": "ネストスタックを使用"}, "answer": "B", "explanation": "Mappingsは環境から設定へのマッピングを定義し、Conditionsはパラメータに基づいてリソース作成を制御し、単一テンプレートで複数環境に対応します。"},
    {"id": "q6", "domain": 2, "question": "Elastic Beanstalk環境でNginx設定をカスタマイズする必要があります。どのように実現しますか？", "options": {"A": "インスタンスにSSHして変更", "B": ".ebextensions設定ファイルを使用", "C": "カスタムAMIを使用", "D": "CodeDeployを使用"}, "answer": "B", "explanation": ".ebextensionsディレクトリの設定ファイルは、ソフトウェア設定、ファイル、コマンド、サービス設定など、環境をカスタマイズできます。"},
    {"id": "q7", "domain": 3, "question": "Auto Scalingグループ内のインスタンスが複数のAZに分散されるようにする必要があります。どのように設定しますか？", "options": {"A": "各AZでインスタンスを手動起動", "B": "ASG設定で複数のサブネット（各AZに1つ）を指定", "C": "Placement Groupsを使用", "D": "Spread戦略を使用"}, "answer": "B", "explanation": "ASGで複数サブネット（AZをまたぐ）を設定すると、利用可能なAZ間でインスタンス分布を自動的にバランスし、単一AZ障害がすべてのインスタンスに影響しません。"},
    {"id": "q8", "domain": 3, "question": "アプリケーションはゼロダウンタイムで更新する必要があります。Elastic Beanstalk使用時にどのデプロイ戦略を選択すべきですか？", "options": {"A": "All at once", "B": "Rolling with additional batchまたはImmutable", "C": "Rolling", "D": "手動デプロイ"}, "answer": "B", "explanation": "Immutableデプロイは新しいASGで新バージョンインスタンスを起動し、検証後にトラフィックを切り替えます。Rolling with additional batchは容量を維持します。両方ともゼロダウンタイムを実現します。"},
    {"id": "q9", "domain": 3, "question": "AWS Outpostsでクラウドと一貫性のあるCI/CDパイプラインを実装する必要があります。どのように設計しますか？", "options": {"A": "ローカルJenkinsを使用", "B": "CodePipelineとOutposts上のCodeBuildおよびCodeDeployエージェントを組み合わせ", "C": "手動デプロイ", "D": "S3同期を使用"}, "answer": "B", "explanation": "CodeBuildとCodeDeployエージェントはOutposts上で実行でき、CodePipelineがフロー全体をオーケストレーションし、クラウドエッジで一貫したCI/CD体験を実現します。"},
    {"id": "q10", "domain": 4, "question": "ECSサービスのコンテナレベルメトリクス（メモリ使用率など）を監視する必要があります。どのように実現しますか？", "options": {"A": "インスタンスメトリクスのみ監視可能", "B": "Container Insightsを使用", "C": "VPC Flow Logsを使用", "D": "CloudTrailを使用"}, "answer": "B", "explanation": "CloudWatch Container InsightsはECSにコンテナレベルのメトリクス収集を提供し、CPU、メモリ、ネットワークなどを含み、タスクとサービスレベルの監視をサポートします。"},
    {"id": "q11", "domain": 4, "question": "CloudWatch Logsのエラーパターンを分析してレポートを生成する必要があります。最も効果的な方法は？", "options": {"A": "ログを手動検索", "B": "CloudWatch Logs Insightsクエリ言語を使用", "C": "Excelにエクスポート", "D": "grepを使用"}, "answer": "B", "explanation": "Logs Insightsは専用クエリ言語を提供し、フィルタリング、集計、統計、可視化をサポートし、大量のログデータを効率的に分析できます。"},
    {"id": "q12", "domain": 4, "question": "メトリクスの異常時にアプリケーション動作を自動調整する必要があります。どのように実現しますか？", "options": {"A": "アラームに手動対応", "B": "CloudWatch AlarmがSNSをトリガー、SNSがLambdaをトリガーして設定を調整", "C": "Auto Scalingを使用", "D": "インスタンスサイズを増加"}, "answer": "B", "explanation": "CloudWatch AlarmはSNSをトリガーでき、SNSはLambda関数をトリガーしてカスタムレスポンスロジック（アプリ設定の調整、通知送信など）を実行できます。"},
    {"id": "q13", "domain": 5, "question": "EC2インスタンスのシステムステータスチェックが失敗しました。AWS推奨の回復手順は？", "options": {"A": "SSHで修復", "B": "EC2自動回復を使用するか、手動でインスタンスを停止/起動（新しいハードウェアに移行）", "C": "インスタンスを再起動", "D": "インスタンスを終了"}, "answer": "B", "explanation": "システムステータスチェックの失敗は通常、基盤ハードウェアの問題です。停止/起動するとインスタンスは新しいハードウェアに移行します。EC2自動回復はこのプロセスを自動化できます。"},
    {"id": "q14", "domain": 5, "question": "DDoS攻撃を検出したときに自動的に緩和措置を開始する必要があります。どのように設定しますか？", "options": {"A": "手動対応", "B": "AWS Shield Advanced + WAF自動緩和", "C": "インスタンスを増加", "D": "NACLでIPをブロック"}, "answer": "B", "explanation": "Shield AdvancedはDDoS検出と対応チームサポートを提供し、WAFと統合して自動的にルールを適用して攻撃を緩和できます。"},
    {"id": "q15", "domain": 5, "question": "CloudFormationスタック更新が本番中断を引き起こしました。将来のリスクを最小化するにはどうすればよいですか？", "options": {"A": "更新を避ける", "B": "Change Setsで変更をプレビュー、スタックポリシーで重要リソースを保護", "C": "直接ロールバック", "D": "新しいスタックを使用"}, "answer": "B", "explanation": "Change Setsは更新による変更を表示し、実行前にレビューできます。スタックポリシーは重要リソースが誤って変更または削除されることを防止できます。"},
    {"id": "q16", "domain": 6, "question": "EC2インスタンスが特定のセキュリティグループのみを使用できるようにする必要があります。ポリシーでどのように強制しますか？", "options": {"A": "NACLを使用", "B": "SCPまたはIAMポリシーでRunInstances操作のセキュリティグループを制限", "C": "AWS Configを使用", "D": "VPC Endpointを使用"}, "answer": "B", "explanation": "IAMポリシーはConditionを使用してRunInstances操作が特定のセキュリティグループを使用する必要があるように制限でき、SCPは組織レベルで強制できます。"},
    {"id": "q17", "domain": 6, "question": "すべてのIAMポリシー変更を監査する必要があります。どのように設定しますか？", "options": {"A": "IAMを定期的にチェック", "B": "CloudTrailを有効にしてIAM管理イベントを監視", "C": "VPC Flow Logsを使用", "D": "AWS Configを使用"}, "answer": "B", "explanation": "CloudTrailはデフォルトでIAM管理イベントを記録し、すべてのポリシーの作成、変更、削除操作を追跡でき、コンプライアンス監査に使用されます。"},
    {"id": "q18", "domain": 6, "question": "クロスアカウントアクセスが最小権限の原則に従うようにする必要があります。どのように設計しますか？", "options": {"A": "IAMユーザー認証情報を共有", "B": "IAMロールとSTS AssumeRoleを使用し、ロール権限を制限", "C": "ルートアカウントを使用", "D": "完全にアクセスを開放"}, "answer": "B", "explanation": "クロスアカウントロール信頼関係は許可されるプリンシパルを明示的に指定し、ロール権限ポリシーは実行可能な操作を制限し、最小権限のクロスアカウントアクセスを実現します。"},
    {"id": "q19", "domain": 1, "question": "コードリポジトリで機密情報（APIキーなど）を検出する必要があります。AWSネイティブソリューションは？", "options": {"A": "手動コードレビュー", "B": "CodeGuru Reviewerまたはサードパーティスキャンツールを使用", "C": "CloudWatchを使用", "D": "AWS Configを使用"}, "answer": "B", "explanation": "CodeGuru Reviewerはコード内のセキュリティ問題とベストプラクティス違反を自動スキャンでき、ハードコードされた認証情報の検出を含みます。"},
    {"id": "q20", "domain": 1, "question": "Lambda関数のデプロイ前に統合テストを実行する必要があります。CodePipelineでどのように実現しますか？", "options": {"A": "デプロイ後に手動テスト", "B": "デプロイ前にテストを実行するCodeBuildステージを追加", "C": "Lambdaレイヤーを使用", "D": "CloudWatch Eventsを使用"}, "answer": "B", "explanation": "デプロイ操作前にCodeBuildテストステージを追加し、統合テストスクリプトを実行し、テストに合格した後にのみデプロイを続行します。"},
    {"id": "q21", "domain": 2, "question": "CloudFormationネストスタックとStackSetsの使用シナリオの違いは？", "options": {"A": "機能は同じ", "B": "ネストスタックは単一デプロイのモジュール化、StackSetsはクロスアカウント/リージョンデプロイ用", "C": "StackSetsはパフォーマンスが良い", "D": "ネストスタックは安い"}, "answer": "B", "explanation": "ネストスタックは複雑なテンプレートを単一アカウントでデプロイするための再利用可能なモジュールに分解するために使用されます。StackSetsは同じテンプレートを複数のアカウントとリージョンにデプロイするために使用されます。"},
    {"id": "q22", "domain": 2, "question": "CloudFormationテンプレートでカスタムリソース（AWSがネイティブでサポートしていない）を作成する必要があります。どのように実現しますか？", "options": {"A": "不可能", "B": "AWS::CloudFormation::CustomResourceを使用してLambdaを呼び出し", "C": "CLIスクリプトを使用", "D": "手動で作成"}, "answer": "B", "explanation": "Custom ResourceはLambda関数を呼び出してスタック操作中にカスタムロジックを実行でき、AWSがネイティブでサポートしていないリソースの作成や複雑な初期化の実行などができます。"},
    {"id": "q23", "domain": 3, "question": "RDSの自動フェイルオーバーを実装する必要があります。どのように設定しますか？", "options": {"A": "リードレプリカを使用", "B": "Multi-AZデプロイを設定", "C": "Route 53ヘルスチェックを使用", "D": "Lambdaで監視"}, "answer": "B", "explanation": "RDS Multi-AZは別のAZで同期スタンバイレプリカを維持し、プライマリインスタンス障害時に自動フェイルオーバーし、アプリケーションに対して透過的です。"},
    {"id": "q24", "domain": 3, "question": "ECS Fargateタスクがコンテナ失敗時に自動再起動するようにする必要があります。どのように設定しますか？", "options": {"A": "タスクを手動で再起動", "B": "ECSサービスを使用して最小ヘルス率を設定", "C": "CloudWatch Eventsを使用", "D": "Lambdaで監視"}, "answer": "B", "explanation": "ECSサービスは希望するタスク数を自動維持し、タスク失敗時に自動的に新しいタスクを起動して置き換え、自己修復を実現します。"},
    {"id": "q25", "domain": 4, "question": "CloudWatchアラームを受信する必要がありますが、アラームが多すぎて圧倒されたくありません。どのように最適化しますか？", "options": {"A": "監視を減らす", "B": "コンポジットアラームを使用して関連アラームを統合", "C": "アラームしきい値を上げる", "D": "アラームを無効化"}, "answer": "B", "explanation": "コンポジットアラームは複数のアラーム状態を組み合わせでき、特定の条件（複数のサービスが同時にアラームなど）が満たされた場合にのみ通知をトリガーし、アラーム疲労を軽減します。"},
    {"id": "q26", "domain": 4, "question": "過去のCloudWatchメトリクスの傾向を分析して将来の需要を予測する必要があります。どの機能を使用しますか？", "options": {"A": "CloudWatch Dashboards", "B": "CloudWatch Anomaly Detection", "C": "CloudWatch Insights", "D": "手動分析"}, "answer": "B", "explanation": "CloudWatch Anomaly Detectionは機械学習を使用して履歴データを分析し、ベースラインを作成して異常を検出し、メトリクスの動作を理解して予測するのに役立ちます。"},
    {"id": "q27", "domain": 5, "question": "Lambda関数が突然タイムアウトし始めました。どのように診断しますか？", "options": {"A": "タイムアウト時間を延長", "B": "CloudWatch LogsとX-Rayトレースを確認して実行時間を分析", "C": "関数を再デプロイ", "D": "メモリを増加"}, "answer": "B", "explanation": "CloudWatch Logsは関数ログを表示し、X-Rayトレースは各ステージの所要時間を表示し、コードの問題か外部依存関係の遅延がタイムアウトを引き起こしているかを特定できます。"},
    {"id": "q28", "domain": 5, "question": "意図せず終了したEC2 Spotインスタンス上の作業を自動回復する必要があります。どのように設計しますか？", "options": {"A": "Spotインスタンスを使用しない", "B": "Spot中断通知を使用して状態を保存し、SQS/Lambdaと組み合わせて回復", "C": "On-Demandインスタンスを使用", "D": "Spot価格を上げる"}, "answer": "B", "explanation": "EC2は2分間のSpot中断通知を提供し、アプリケーションは通知を監視して作業状態を保存でき、SQSキューと新しいインスタンスを使用して未完了の作業を回復できます。"},
    {"id": "q29", "domain": 6, "question": "S3に転送されるデータがTLS暗号化を使用することを確保する必要があります。どのように強制しますか？", "options": {"A": "VPC Endpointを使用", "B": "SecureTransportを要求するバケットポリシーを設定", "C": "クライアント側暗号化を使用", "D": "CloudFrontを使用"}, "answer": "B", "explanation": "バケットポリシーにaws:SecureTransportがtrueである条件を含めると、非TLSリクエストを拒否し、すべての転送がHTTPSを使用することを強制します。"},
    {"id": "q30", "domain": 6, "question": "VPC内のLambda関数が特定のリソースにのみアクセスできるように制限する必要があります。どのように設定しますか？", "options": {"A": "IAMポリシーを使用", "B": "Lambda VPCを設定し、セキュリティグループでアウトバウンドトラフィックを制限", "C": "NACLを使用", "D": "WAFを使用"}, "answer": "B", "explanation": "LambdaをVPCに設定した後、セキュリティグループでアウトバウンドトラフィックを制御し、特定のIP/ポートへのアクセスのみを許可して、関数のネットワークアクセス範囲を制限します。"},
    {"id": "q31", "domain": 1, "question": "CodeBuildでカスタムDockerイメージを使用する必要があります。どのように設定しますか？", "options": {"A": "AWSマネージドイメージのみ使用可能", "B": "プロジェクト設定でECRのカスタムイメージを指定", "C": "buildspecで指定", "D": "Docker Hubパブリックイメージを使用"}, "answer": "B", "explanation": "CodeBuildはECRのカスタムDockerイメージをビルド環境として使用することをサポートし、必要なツールと依存関係を事前インストールできます。"},
    {"id": "q32", "domain": 2, "question": "CloudFormationスタック削除時に一部のリソース（S3バケットなど）を保持する必要があります。どのように設定しますか？", "options": {"A": "他のリソースを手動で削除", "B": "リソースのDeletionPolicyをRetainに設定", "C": "UpdateReplacePolicyを使用", "D": "スタックポリシーを使用"}, "answer": "B", "explanation": "DeletionPolicy: Retainはスタック削除時にそのリソースを保持することを確保し、S3、RDSスナップショットなどデータを保持する必要があるストレージリソースによく使用されます。"},
    {"id": "q33", "domain": 3, "question": "ALB背後のEC2インスタンスのローリングアップデート中に接続が中断されないようにする必要があります。どのように設定しますか？", "options": {"A": "すべてのトラフィックを即座に切り替え", "B": "接続ドレイン（Connection Draining）とTarget Groupの遅延除外を使用", "C": "DNS切り替えを使用", "D": "CloudFrontを使用"}, "answer": "B", "explanation": "Target GroupのDeregistration Delayは既存の接続が完了するのを許可し、新しいリクエストは健全なインスタンスにルーティングされ、スムーズなローリングアップデートを実現します。"},
    {"id": "q34", "domain": 4, "question": "API Gatewayのリクエストレイテンシとエラー率を監視する必要があります。どのように実現しますか？", "options": {"A": "アクセスログを確認", "B": "CloudWatchメトリクスLatencyと5XXErrorを使用", "C": "VPC Flow Logsを使用", "D": "CloudTrailを使用"}, "answer": "B", "explanation": "API GatewayはメトリクスをCloudWatchに自動送信し、Latency、Count、4XXError、5XXErrorなどを含み、ダッシュボードとアラームを作成して監視できます。"},
    {"id": "q35", "domain": 5, "question": "複数のAWSサービス間で複雑な自動化ワークフローを調整する必要があります。最適なサービスは？", "options": {"A": "Lambda関数チェーン", "B": "AWS Step Functions", "C": "EventBridgeルール", "D": "SNS/SQS"}, "answer": "B", "explanation": "Step Functionsは視覚的なワークフローオーケストレーションを提供し、エラー処理、リトライ、並列実行、状態管理をサポートし、複雑なマルチサービスワークフローに適しています。"},
    {"id": "q36", "domain": 6, "question": "すべてのリソースにコスト配分用の適切なタグがあることを確保する必要があります。どのように強制しますか？", "options": {"A": "手動でチェック", "B": "AWS ConfigルールとSCPを使用してタグポリシーを強制", "C": "バジェットアラームを使用", "D": "Cost Explorerを使用"}, "answer": "B", "explanation": "SCPはリソース作成時に特定のタグを含むことを要求でき、AWS Configは非準拠リソースを検出でき、タグガバナンスを実現します。"},
    {"id": "q37", "domain": 1, "question": "カナリアデプロイを実装して新バージョンを段階的に検証する必要があります。AWS Lambdaでどのように実現しますか？", "options": {"A": "複数の関数を使用", "B": "Lambdaエイリアスと加重ルーティングを使用", "C": "API Gatewayで分流", "D": "手動切り替え"}, "answer": "B", "explanation": "Lambdaエイリアスは加重ルーティングをサポートし、10%のトラフィックを新バージョンに、90%を安定バージョンにルーティングでき、検証後に段階的に増加して完全に切り替えます。"},
    {"id": "q38", "domain": 2, "question": "CloudFormationテンプレートのセキュリティ問題（過度に寛容なセキュリティグループなど）を検出する必要があります。どのツールを使用しますか？", "options": {"A": "手動レビュー", "B": "cfn-lintまたはcfn-nagを使用して静的分析", "C": "デプロイ後にチェック", "D": "AWS Configを使用"}, "answer": "B", "explanation": "cfn-lintはテンプレート構文とベストプラクティスをチェックし、cfn-nagはセキュリティ問題を専門にチェックし、これらのツールをCI/CDパイプラインに統合すべきです。"},
    {"id": "q39", "domain": 3, "question": "アプリケーションがAZ障害に耐え、RTOが5分未満であることを確保する必要があります。どのように設計しますか？", "options": {"A": "単一AZデプロイとバックアップ", "B": "クロスAZ ASGとMulti-AZ RDS、自動ヘルスチェックを組み合わせ", "C": "手動フェイルオーバー", "D": "より大きなインスタンスを使用"}, "answer": "B", "explanation": "クロスAZ ASGはAZ障害時に他のAZで自動的にインスタンスを起動し、Multi-AZ RDSは自動フェイルオーバーし、ELBヘルスチェックは健全なインスタンスにのみトラフィックが行くことを確保します。"},
    {"id": "q40", "domain": 5, "question": "CloudWatchアラームがトリガーされたときに複雑な修復ワークフローを実行する必要があります。どのように実現しますか？", "options": {"A": "手動対応", "B": "CloudWatch Alarm→EventBridge→Step Functionsワークフロー", "C": "アラームしきい値を上げる", "D": "Auto Scalingを使用"}, "answer": "B", "explanation": "EventBridgeはCloudWatchアラーム状態変化を受信し、Step Functionsをトリガーして診断、修復、通知を含む複雑なマルチステップ修復ワークフローを実行できます。"}
  ]
}
