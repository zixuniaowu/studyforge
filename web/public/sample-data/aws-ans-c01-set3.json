{
  "exam": {
    "id": "aws-ans-c01-set3",
    "name": "AWS ANS-C01 模拟考试 #3",
    "code": "ANS-C01",
    "provider": "AWS",
    "language": "zh-CN",
    "description": "AWS高级网络专业认证考试模拟题 - 第3套",
    "totalQuestions": 40,
    "passingScore": 75,
    "examTime": 170,
    "domains": [
      {"id": 1, "name": "Network Design", "weight": 30},
      {"id": 2, "name": "Network Implementation", "weight": 26},
      {"id": 3, "name": "Network Management and Operations", "weight": 20},
      {"id": 4, "name": "Network Security, Compliance, and Governance", "weight": 24}
    ],
    "tags": ["AWS", "Networking", "ANS", "认证考试", "专业级"]
  },
  "questions": [
    {"id": "q1", "domain": 1, "question": "公司计划将多个分支办公室连接到AWS。每个分支需要低延迟访问VPC资源。最具成本效益的解决方案是什么？", "options": {"A": "每个分支使用专用Direct Connect", "B": "使用AWS Site-to-Site VPN配合Transit Gateway", "C": "使用公共互联网", "D": "每个分支使用托管Direct Connect"}, "answer": "B", "explanation": "Site-to-Site VPN成本较低，Transit Gateway简化多VPN管理，适合多分支场景。"},
    {"id": "q2", "domain": 1, "question": "需要设计一个网络架构，使开发、测试和生产环境在网络层完全隔离。最佳方案是什么？", "options": {"A": "使用不同的安全组", "B": "使用不同的VPC，通过Transit Gateway按需连接", "C": "使用不同的子网", "D": "使用不同的可用区"}, "answer": "B", "explanation": "不同VPC提供完全的网络隔离，Transit Gateway允许按需建立受控的连接。"},
    {"id": "q3", "domain": 1, "question": "需要在VPC中部署高可用的NAT解决方案。除了使用多个NAT Gateway外，还需要什么配置？", "options": {"A": "使用单个NAT Gateway", "B": "每个可用区一个NAT Gateway，路由表指向同AZ的NAT Gateway", "C": "使用NAT实例", "D": "使用Internet Gateway"}, "answer": "B", "explanation": "每个AZ部署NAT Gateway并配置AZ特定的路由表，避免跨AZ故障和流量费用。"},
    {"id": "q4", "domain": 2, "question": "需要配置Accelerated Site-to-Site VPN。这需要什么前提条件？", "options": {"A": "必须使用Transit Gateway", "B": "必须使用虚拟私有网关", "C": "必须有Direct Connect", "D": "必须在同一区域"}, "answer": "A", "explanation": "Accelerated VPN使用Global Accelerator，目前只支持Transit Gateway VPN附件，不支持VGW。"},
    {"id": "q5", "domain": 2, "question": "Direct Connect连接显示物理层UP但无法建立BGP会话。应该检查什么？", "options": {"A": "检查账单", "B": "检查VLAN ID、BGP ASN、BGP对等IP和MD5认证密钥", "C": "重新创建连接", "D": "联系AWS支持"}, "answer": "B", "explanation": "BGP会话建立需要正确的VLAN标记、匹配的BGP参数和（如配置）正确的MD5认证密钥。"},
    {"id": "q6", "domain": 2, "question": "需要将本地DHCP服务器分配的DNS服务器传递给VPC中的实例。如何实现？", "options": {"A": "不支持此功能", "B": "创建DHCP选项集指定自定义DNS服务器", "C": "修改VPC DNS设置", "D": "使用Route 53"}, "answer": "B", "explanation": "DHCP选项集可以指定自定义DNS服务器、域名和其他DHCP选项，关联到VPC后对新启动的实例生效。"},
    {"id": "q7", "domain": 3, "question": "Transit Gateway路由传播未按预期工作，VPC之间无法通信。如何诊断？", "options": {"A": "检查安全组", "B": "验证附件关联、路由表传播设置和路由表内容", "C": "重启Transit Gateway", "D": "使用VPN替代"}, "answer": "B", "explanation": "确认附件已关联到正确的路由表，路由传播已启用，路由表中存在正确的路由条目。"},
    {"id": "q8", "domain": 3, "question": "需要可视化和分析VPC的网络拓扑和连接。最佳工具是什么？", "options": {"A": "CloudWatch Dashboard", "B": "Network Manager", "C": "VPC Console", "D": "AWS Config"}, "answer": "B", "explanation": "Network Manager提供全局网络视图，可视化Transit Gateway、VPN、Direct Connect的拓扑和状态。"},
    {"id": "q9", "domain": 3, "question": "需要在VPC Flow Logs中包含更多元数据字段以进行详细分析。如何实现？", "options": {"A": "使用默认格式", "B": "配置自定义日志格式包含额外字段", "C": "使用CloudTrail", "D": "使用第三方工具"}, "answer": "B", "explanation": "VPC Flow Logs支持自定义格式，可以选择包含如vpc-id、subnet-id、pkt-srcaddr等额外字段。"},
    {"id": "q10", "domain": 4, "question": "需要在VPC中实现网络流量检查和过滤。哪种服务提供有状态的深度包检测？", "options": {"A": "安全组", "B": "AWS Network Firewall", "C": "网络ACL", "D": "WAF"}, "answer": "B", "explanation": "Network Firewall提供有状态的L3-L7流量检查，支持入侵检测/防御、域名过滤和自定义规则。"},
    {"id": "q11", "domain": 4, "question": "需要确保从VPC到S3的流量不经过公共互联网，同时限制只能访问特定存储桶。如何实现？", "options": {"A": "使用NAT Gateway", "B": "使用S3 Gateway端点配合端点策略限制存储桶访问", "C": "使用PrivateLink", "D": "使用VPN"}, "answer": "B", "explanation": "S3 Gateway端点通过私有路由访问S3，端点策略可以限制只能访问指定的存储桶。"},
    {"id": "q12", "domain": 1, "question": "需要为混合云环境设计DNS架构。本地和AWS资源需要互相解析对方的私有DNS。关键组件是什么？", "options": {"A": "仅使用公共DNS", "B": "Route 53 Resolver端点配合转发规则", "C": "本地DNS服务器", "D": "使用IP地址而非DNS"}, "answer": "B", "explanation": "入站端点接收本地DNS查询，出站端点转发AWS查询到本地，转发规则定义域名到DNS服务器的映射。"},
    {"id": "q13", "domain": 1, "question": "公司的VPC CIDR与收购公司的本地网络CIDR重叠。需要在过渡期间建立连接。如何解决？", "options": {"A": "重新规划IP", "B": "使用PrivateLink或NAT解决IP重叠", "C": "无法连接", "D": "使用公共IP"}, "answer": "B", "explanation": "PrivateLink不需要IP路由可达，NAT可以在连接点转换地址，解决IP重叠问题。"},
    {"id": "q14", "domain": 2, "question": "需要配置Direct Connect高可用架构，实现单连接故障时自动切换。除了多连接外，还需要什么配置？", "options": {"A": "手动切换", "B": "配置BGP AS路径预置或MED调整主备优先级", "C": "使用相同的BGP优先级", "D": "禁用BGP"}, "answer": "B", "explanation": "通过AS路径预置或MED值可以影响路由选择，使主连接优先，故障时BGP自动切换到备用连接。"},
    {"id": "q15", "domain": 2, "question": "需要监控Direct Connect连接的实时性能指标。如何实现？", "options": {"A": "使用ping", "B": "使用CloudWatch Direct Connect指标监控连接状态、吞吐量和错误", "C": "手动检查", "D": "使用第三方工具"}, "answer": "B", "explanation": "CloudWatch提供Direct Connect指标，包括ConnectionState、ConnectionBpsEgress/Ingress、ConnectionErrorCount等。"},
    {"id": "q16", "domain": 3, "question": "Lambda函数在VPC中运行但无法访问互联网。如何解决？", "options": {"A": "Lambda不支持VPC", "B": "确保Lambda子网有到NAT Gateway的路由", "C": "使用公有子网", "D": "添加Internet Gateway路由"}, "answer": "B", "explanation": "VPC Lambda函数需要通过NAT Gateway访问互联网，确保子网路由表有0.0.0.0/0到NAT Gateway的路由。"},
    {"id": "q17", "domain": 3, "question": "需要自动检测并通知VPC配置变更。如何实现？", "options": {"A": "手动监控", "B": "使用AWS Config规则配合SNS通知", "C": "使用CloudWatch Logs", "D": "使用VPC Flow Logs"}, "answer": "B", "explanation": "AWS Config记录资源配置变更，可以配置规则检测变更并通过SNS发送通知。"},
    {"id": "q18", "domain": 4, "question": "需要对VPC中的东西向流量（实例间流量）进行检查和过滤。如何设计？", "options": {"A": "使用安全组", "B": "使用Gateway Load Balancer和安全设备", "C": "使用网络ACL", "D": "使用WAF"}, "answer": "B", "explanation": "Gateway Load Balancer可以透明地将流量引导到第三方安全设备进行检查，然后返回目标。"},
    {"id": "q19", "domain": 1, "question": "需要为全球分布的微服务设计低延迟的服务间通信。跨区域通信如何优化？", "options": {"A": "使用公共互联网", "B": "使用Transit Gateway跨区域对等和AWS全球网络", "C": "使用VPN", "D": "使用DNS轮询"}, "answer": "B", "explanation": "Transit Gateway跨区域对等使用AWS骨干网络，提供可预测的低延迟和高带宽。"},
    {"id": "q20", "domain": 2, "question": "客户网关设备不支持BGP。如何配置Site-to-Site VPN？", "options": {"A": "不支持非BGP设备", "B": "配置静态VPN并手动维护路由", "C": "更换设备", "D": "使用Direct Connect"}, "answer": "B", "explanation": "AWS Site-to-Site VPN支持静态路由，需要在两端手动配置路由，但失去动态路由的优势。"},
    {"id": "q21", "domain": 3, "question": "需要测试从EC2实例到特定目标的网络可达性。如何进行？", "options": {"A": "只能使用ping", "B": "使用VPC Reachability Analyzer分析配置", "C": "手动检查配置", "D": "使用CloudTrail"}, "answer": "B", "explanation": "Reachability Analyzer分析VPC配置（安全组、NACL、路由表等）验证网络路径可达性，无需发送实际流量。"},
    {"id": "q22", "domain": 4, "question": "需要实现基于域名的流量过滤，阻止访问特定恶意域名。如何实现？", "options": {"A": "使用安全组", "B": "使用Route 53 Resolver DNS Firewall", "C": "使用网络ACL", "D": "使用WAF"}, "answer": "B", "explanation": "DNS Firewall可以过滤VPC的DNS查询，阻止对恶意域名的解析请求。"},
    {"id": "q23", "domain": 1, "question": "需要设计一个共享服务VPC架构，提供共享资源（如AD、监控）给多个工作负载VPC。最佳连接方式是什么？", "options": {"A": "VPC Peering", "B": "Transit Gateway配合路由隔离", "C": "公共互联网", "D": "Direct Connect"}, "answer": "B", "explanation": "Transit Gateway允许集中管理，路由表隔离确保工作负载VPC之间不能直接通信，只能访问共享服务。"},
    {"id": "q24", "domain": 2, "question": "需要在创建VPN连接时指定隧道选项（如IKE版本、加密算法）。如何实现？", "options": {"A": "使用默认设置", "B": "在创建VPN连接时配置隧道选项", "C": "创建后无法修改", "D": "需要AWS支持"}, "answer": "B", "explanation": "创建VPN连接时可以指定隧道选项，包括IKE版本、加密和完整性算法、DPD设置等。"},
    {"id": "q25", "domain": 3, "question": "ELB健康检查通过但应用程序无响应。如何诊断？", "options": {"A": "重启实例", "B": "检查健康检查配置是否准确反映应用程序状态", "C": "增加实例", "D": "更换负载均衡器"}, "answer": "B", "explanation": "确保健康检查端口、路径和协议正确配置，检查应用程序特定的端点而不仅仅是基本连通性。"},
    {"id": "q26", "domain": 4, "question": "需要记录和审计所有IAM用户对VPC资源的API调用。如何实现？", "options": {"A": "使用VPC Flow Logs", "B": "启用CloudTrail并配置适当的日志保留策略", "C": "使用CloudWatch Logs", "D": "使用AWS Config"}, "answer": "B", "explanation": "CloudTrail记录所有API调用，包括调用者身份、时间、参数等，满足审计需求。"},
    {"id": "q27", "domain": 1, "question": "需要在不同AWS账户的VPC之间建立连接，且不能暴露到账户外部。最佳方案是什么？", "options": {"A": "使用公共互联网", "B": "使用跨账户VPC Peering或共享Transit Gateway", "C": "使用VPN", "D": "使用Direct Connect"}, "answer": "B", "explanation": "VPC Peering和Transit Gateway都支持跨账户连接，流量保持在AWS网络内，不暴露到公共互联网。"},
    {"id": "q28", "domain": 2, "question": "需要配置双向转发检测（BFD）以加快Direct Connect故障检测。如何启用？", "options": {"A": "默认启用", "B": "在虚拟接口上启用BFD并在客户端设备配置", "C": "不支持BFD", "D": "需要专门的硬件"}, "answer": "B", "explanation": "BFD可以在Direct Connect VIF上启用，与BGP配合可以在毫秒级检测链路故障。"},
    {"id": "q29", "domain": 3, "question": "需要分析过去的VPC Flow Logs数据以调查安全事件。日志存储在S3中。最佳分析方法是什么？", "options": {"A": "下载后手动分析", "B": "使用Amazon Athena进行SQL查询", "C": "使用Excel", "D": "使用CloudWatch Logs Insights"}, "answer": "B", "explanation": "Athena可以直接查询S3中的Flow Logs，使用SQL语法进行过滤、聚合和分析，适合历史数据分析。"},
    {"id": "q30", "domain": 4, "question": "需要确保所有EC2实例都使用IMDSv2以增强安全性。如何强制执行？", "options": {"A": "手动配置", "B": "使用EC2启动模板配置HttpTokens=required", "C": "使用安全组", "D": "使用网络ACL"}, "answer": "B", "explanation": "在启动模板中配置HttpTokens=required强制实例只接受IMDSv2请求，防止SSRF攻击。"},
    {"id": "q31", "domain": 1, "question": "需要为容器化应用设计网络架构，确保每个容器都有唯一的IP地址。EKS中如何实现？", "options": {"A": "使用NAT", "B": "使用AWS VPC CNI插件分配VPC IP给Pod", "C": "使用overlay网络", "D": "共享节点IP"}, "answer": "B", "explanation": "AWS VPC CNI为每个Pod分配VPC ENI的IP地址，实现原生VPC网络集成。"},
    {"id": "q32", "domain": 2, "question": "需要在Direct Connect上传输加密流量。有什么选项？", "options": {"A": "Direct Connect默认加密", "B": "在Direct Connect上配置Site-to-Site VPN或使用MACsec", "C": "使用TLS", "D": "不支持加密"}, "answer": "B", "explanation": "可以在Direct Connect公共VIF上建立VPN隧道，或使用MACsec进行第2层加密（10G/100G连接）。"},
    {"id": "q33", "domain": 3, "question": "Application Load Balancer显示5XX错误增加。如何诊断后端问题？", "options": {"A": "检查ALB日志", "B": "检查ALB访问日志、目标组健康检查和CloudWatch指标", "C": "重启ALB", "D": "增加目标"}, "answer": "B", "explanation": "ALB访问日志显示每个请求的详细信息，结合健康检查状态和CloudWatch指标可以定位后端问题。"},
    {"id": "q34", "domain": 4, "question": "需要限制特定IAM角色只能在特定VPC中启动EC2实例。如何实现？", "options": {"A": "使用安全组", "B": "在IAM策略中使用ec2:Vpc条件键", "C": "使用网络ACL", "D": "使用SCP"}, "answer": "B", "explanation": "IAM策略可以使用ec2:Vpc条件键限制RunInstances操作只能在指定的VPC中执行。"},
    {"id": "q35", "domain": 1, "question": "需要为物联网设备设计网络连接，设备使用MQTT协议。如何安全连接到AWS？", "options": {"A": "使用公共互联网", "B": "使用AWS IoT Core配合VPC端点", "C": "使用VPN", "D": "使用Direct Connect"}, "answer": "B", "explanation": "AWS IoT Core支持MQTT，VPC端点允许VPC资源通过私有连接访问IoT Core服务。"},
    {"id": "q36", "domain": 2, "question": "需要配置Network Load Balancer以保留客户端源IP。如何实现？", "options": {"A": "NLB默认保留源IP", "B": "确保目标类型是实例或IP（非Lambda）且禁用客户端IP保留", "C": "使用ALB替代", "D": "使用Proxy Protocol"}, "answer": "A", "explanation": "NLB默认保留客户端源IP（目标类型为实例时），使用IP类型目标时需要禁用客户端IP保留功能。"},
    {"id": "q37", "domain": 3, "question": "需要收集和分析来自多个VPC的DNS查询日志。如何实现？", "options": {"A": "使用VPC Flow Logs", "B": "配置Route 53 Resolver查询日志发送到CloudWatch Logs或S3", "C": "使用CloudTrail", "D": "无法收集DNS日志"}, "answer": "B", "explanation": "Route 53 Resolver查询日志记录VPC中的DNS查询，可以发送到CloudWatch Logs或S3进行分析。"},
    {"id": "q38", "domain": 4, "question": "需要在Network Firewall中配置域名过滤规则。如何配置？", "options": {"A": "使用IP地址", "B": "创建域名列表规则组并配置允许或拒绝", "C": "使用WAF", "D": "使用安全组"}, "answer": "B", "explanation": "Network Firewall支持域名规则组，可以基于域名允许或拒绝流量，支持通配符匹配。"},
    {"id": "q39", "domain": 1, "question": "需要设计一个网络架构支持蓝绿部署。如何实现流量切换？", "options": {"A": "手动更新IP", "B": "使用Route 53加权路由或ALB目标组切换", "C": "使用NAT", "D": "使用VPN"}, "answer": "B", "explanation": "Route 53加权路由可以逐步切换流量，ALB可以在目标组之间切换实现即时切换。"},
    {"id": "q40", "domain": 4, "question": "需要确保所有出站流量都经过安全检查。如何设计出口架构？", "options": {"A": "直接使用NAT Gateway", "B": "使用集中出口VPC配合Network Firewall或Gateway Load Balancer", "C": "使用安全组限制", "D": "使用代理服务器"}, "answer": "B", "explanation": "集中出口VPC配合Network Firewall或GWLB可以检查所有出站流量，提供统一的安全策略执行点。"}
  ]
}
