{
  "exam": {
    "id": "aws-dop-c02-set3",
    "name": "AWS DOP-C02 模拟考试 #3",
    "code": "DOP-C02",
    "provider": "AWS",
    "language": "zh-CN",
    "description": "AWS DevOps工程师专业级认证考试模拟题 - 第3套",
    "totalQuestions": 40,
    "passingScore": 75,
    "examTime": 180,
    "domains": [
      {"id": 1, "name": "SDLC Automation", "weight": 22},
      {"id": 2, "name": "Configuration Management and IaC", "weight": 17},
      {"id": 3, "name": "Resilient Cloud Solutions", "weight": 15},
      {"id": 4, "name": "Monitoring and Logging", "weight": 15},
      {"id": 5, "name": "Incident and Event Response", "weight": 14},
      {"id": 6, "name": "Security and Compliance", "weight": 17}
    ],
    "tags": ["AWS", "DevOps", "DOP", "认证考试", "专业级"]
  },
  "questions": [
    {"id": "q1", "domain": 1, "question": "团队使用多个Git分支进行开发。如何确保只有通过测试的代码才能合并到主分支？", "options": {"A": "手动代码审查", "B": "配置CodeCommit审批规则要求CodeBuild构建成功", "C": "使用Lambda验证", "D": "使用CloudWatch监控"}, "answer": "B", "explanation": "CodeCommit审批规则可以要求拉取请求必须满足特定条件（如关联的构建成功）才能合并。"},
    {"id": "q2", "domain": 1, "question": "需要将第三方工件（如npm包）缓存以加速构建并避免外部依赖风险。如何实现？", "options": {"A": "每次构建下载", "B": "使用AWS CodeArtifact作为私有仓库", "C": "使用S3存储", "D": "使用EFS"}, "answer": "B", "explanation": "CodeArtifact是托管的工件仓库服务，可以缓存上游包（npm、Maven、PyPI等），减少外部依赖风险并加速构建。"},
    {"id": "q3", "domain": 1, "question": "ECS服务使用CodeDeploy蓝绿部署。如何配置在验证失败时自动回滚？", "options": {"A": "手动回滚", "B": "配置CloudWatch告警触发自动回滚", "C": "使用Lambda监控", "D": "增加健康检查间隔"}, "answer": "B", "explanation": "CodeDeploy支持配置CloudWatch告警作为回滚触发器，当告警进入ALARM状态时自动回滚到之前的版本。"},
    {"id": "q4", "domain": 2, "question": "需要在CloudFormation模板中定义可复用的资源组合。如何实现？", "options": {"A": "复制粘贴", "B": "使用AWS::CloudFormation::Stack嵌套栈", "C": "使用长模板", "D": "使用多个独立栈"}, "answer": "B", "explanation": "嵌套栈允许将可复用的资源组合封装为单独的模板，在主模板中引用，实现模块化和复用。"},
    {"id": "q5", "domain": 2, "question": "Systems Manager Automation文档与Lambda相比有什么优势？", "options": {"A": "执行速度更快", "B": "原生支持AWS API调用和多步骤编排，无需编写代码", "C": "成本更低", "D": "支持更多语言"}, "answer": "B", "explanation": "SSM Automation文档内置AWS API步骤和流程控制，可以轻松编排多步骤自动化任务，无需编写和维护Lambda代码。"},
    {"id": "q6", "domain": 2, "question": "需要在EC2实例配置变更时自动重新应用配置。如何使用Systems Manager实现？", "options": {"A": "手动运行命令", "B": "使用State Manager关联按计划应用配置", "C": "使用CloudWatch Events", "D": "使用Auto Scaling"}, "answer": "B", "explanation": "State Manager可以创建关联，按计划或在变更时自动在目标实例上应用配置文档，确保配置一致性。"},
    {"id": "q7", "domain": 3, "question": "需要在全球范围内提供低延迟的动态内容。如何设计？", "options": {"A": "单区域部署", "B": "使用CloudFront配合Lambda@Edge处理动态请求", "C": "增加实例大小", "D": "使用Route 53"}, "answer": "B", "explanation": "CloudFront边缘位置结合Lambda@Edge可以在靠近用户的位置处理动态请求，显著降低延迟。"},
    {"id": "q8", "domain": 3, "question": "需要确保应用程序在数据库维护期间仍可提供读取服务。如何设计？", "options": {"A": "接受停机", "B": "使用RDS只读副本，应用程序在主库不可用时切换到只读副本", "C": "使用更大实例", "D": "使用缓存"}, "answer": "B", "explanation": "只读副本在主库维护期间仍可用，应用程序可以将读请求路由到只读副本，写操作排队等待主库恢复。"},
    {"id": "q9", "domain": 3, "question": "需要设计能够承受整个区域故障的架构。关键组件是什么？", "options": {"A": "更大的实例", "B": "多区域部署、跨区域复制、Route 53健康检查和故障转移", "C": "更多AZ", "D": "Reserved Instances"}, "answer": "B", "explanation": "多区域部署提供区域级冗余，数据跨区域复制确保数据可用，Route 53健康检查自动故障转移到健康区域。"},
    {"id": "q10", "domain": 4, "question": "需要为微服务架构创建服务依赖关系图。使用什么工具？", "options": {"A": "CloudWatch Logs", "B": "AWS X-Ray服务地图", "C": "VPC Flow Logs", "D": "CloudTrail"}, "answer": "B", "explanation": "X-Ray服务地图自动发现和可视化服务间的依赖关系，显示请求流和延迟数据，帮助理解微服务架构。"},
    {"id": "q11", "domain": 4, "question": "需要收集自定义应用程序指标并最小化代码变更。如何实现？", "options": {"A": "修改应用程序代码", "B": "使用CloudWatch Agent的StatsD协议", "C": "使用VPC Flow Logs", "D": "使用CloudTrail"}, "answer": "B", "explanation": "CloudWatch Agent支持StatsD协议，应用程序只需发送UDP指标到本地端口，Agent自动转发到CloudWatch，最小化代码变更。"},
    {"id": "q12", "domain": 4, "question": "需要基于日志内容动态调整告警阈值。如何实现？", "options": {"A": "手动调整", "B": "使用CloudWatch Metric Filters从日志创建指标，配合Anomaly Detection", "C": "固定阈值", "D": "使用Lambda处理"}, "answer": "B", "explanation": "Metric Filters从日志提取数值作为指标，Anomaly Detection基于历史数据动态计算预期范围，实现智能告警。"},
    {"id": "q13", "domain": 5, "question": "需要在安全事件发生时自动隔离受影响的EC2实例。如何实现？", "options": {"A": "手动隔离", "B": "GuardDuty检测→EventBridge→Lambda修改安全组隔离实例", "C": "使用NACL", "D": "终止实例"}, "answer": "B", "explanation": "Lambda可以修改实例的安全组为隔离安全组（只允许取证访问），保留证据同时防止进一步损害。"},
    {"id": "q14", "domain": 5, "question": "需要自动扩展能够处理突发流量的队列消费者。如何设计？", "options": {"A": "固定消费者数量", "B": "基于SQS ApproximateNumberOfMessages指标的Target Tracking策略", "C": "手动扩展", "D": "使用更大实例"}, "answer": "B", "explanation": "ASG Target Tracking策略可以基于自定义指标（如每实例消息数）自动调整消费者数量，快速响应突发流量。"},
    {"id": "q15", "domain": 5, "question": "RDS自动备份失败。如何诊断和解决？", "options": {"A": "联系支持", "B": "检查RDS事件和CloudWatch指标，确保足够的备份存储空间", "C": "手动备份", "D": "禁用备份"}, "answer": "B", "explanation": "RDS事件订阅记录备份失败原因，常见原因包括存储空间不足、维护窗口冲突，可以相应调整配置。"},
    {"id": "q16", "domain": 6, "question": "需要确保所有API请求都经过身份验证。API Gateway如何配置？", "options": {"A": "使用公开API", "B": "配置API Gateway Authorizer（Lambda或Cognito）", "C": "使用VPC", "D": "使用WAF"}, "answer": "B", "explanation": "API Gateway支持Lambda Authorizer（自定义逻辑）和Cognito Authorizer（用户池集成），验证请求的身份令牌。"},
    {"id": "q17", "domain": 6, "question": "需要限制开发人员只能访问开发环境资源。如何使用标签实现？", "options": {"A": "使用不同账户", "B": "使用ABAC策略基于资源标签控制访问", "C": "使用安全组", "D": "使用VPC"}, "answer": "B", "explanation": "ABAC（基于属性的访问控制）策略可以使用条件检查资源标签，只允许访问Environment=Dev的资源。"},
    {"id": "q18", "domain": 6, "question": "需要在VPC中的资源访问AWS服务时不经过公共互联网。如何配置？", "options": {"A": "使用NAT Gateway", "B": "配置VPC Endpoints（Gateway或Interface类型）", "C": "使用Internet Gateway", "D": "使用VPN"}, "answer": "B", "explanation": "VPC Endpoints允许VPC内资源通过AWS私有网络访问服务，数据不经过公共互联网，提高安全性和性能。"},
    {"id": "q19", "domain": 1, "question": "需要在CodePipeline中实现A/B测试部署策略。如何设计？", "options": {"A": "同时部署两个版本", "B": "使用Lambda别名加权部署或ALB目标组权重分配", "C": "使用不同的管道", "D": "手动切换"}, "answer": "B", "explanation": "Lambda别名权重或ALB目标组权重可以将流量按比例分配到不同版本，实现A/B测试。"},
    {"id": "q20", "domain": 1, "question": "需要在部署失败时通知相关团队成员。如何在CodePipeline中实现？", "options": {"A": "手动检查", "B": "配置管道通知规则发送到SNS/Slack", "C": "使用CloudWatch Logs", "D": "使用邮件轮询"}, "answer": "B", "explanation": "CodePipeline支持通知规则，可以在管道状态变化（如失败）时发送通知到SNS主题，SNS可以集成Slack等通信工具。"},
    {"id": "q21", "domain": 2, "question": "需要在CloudFormation模板中实现资源的滚动更新。如何配置？", "options": {"A": "删除并重新创建", "B": "使用UpdatePolicy配置AutoScalingRollingUpdate", "C": "手动更新", "D": "使用嵌套栈"}, "answer": "B", "explanation": "ASG的UpdatePolicy可以配置AutoScalingRollingUpdate，指定批次大小和暂停时间，实现实例的滚动更新。"},
    {"id": "q22", "domain": 2, "question": "需要在CloudFormation失败时发送通知。如何配置？", "options": {"A": "手动监控", "B": "配置栈的NotificationARNs指向SNS主题", "C": "使用CloudWatch Logs", "D": "使用Lambda轮询"}, "answer": "B", "explanation": "CloudFormation栈可以配置SNS通知，在栈事件（创建、更新、删除、失败）发生时发送通知。"},
    {"id": "q23", "domain": 3, "question": "需要确保数据库删除保护防止意外删除。RDS如何配置？", "options": {"A": "使用IAM策略", "B": "启用RDS删除保护", "C": "使用安全组", "D": "使用备份"}, "answer": "B", "explanation": "RDS删除保护阻止通过控制台、CLI或API删除数据库实例，必须先禁用保护才能删除。"},
    {"id": "q24", "domain": 3, "question": "需要在容器终止时优雅地完成正在处理的请求。ECS如何配置？", "options": {"A": "立即终止", "B": "配置Task的stopTimeout和应用程序处理SIGTERM信号", "C": "使用更大实例", "D": "使用更多容器"}, "answer": "B", "explanation": "ECS发送SIGTERM信号通知容器终止，stopTimeout定义等待时间，应用程序应处理信号完成当前请求后退出。"},
    {"id": "q25", "domain": 4, "question": "需要在CloudWatch中创建复杂的多指标仪表板。如何高效管理？", "options": {"A": "手动创建", "B": "使用CloudWatch Dashboard JSON定义并用CloudFormation管理", "C": "使用CLI命令", "D": "每次手动更新"}, "answer": "B", "explanation": "Dashboard可以定义为JSON并通过CloudFormation管理，实现版本控制和环境间一致性。"},
    {"id": "q26", "domain": 4, "question": "需要在多个微服务间追踪单个用户请求。如何实现？", "options": {"A": "使用日志关联", "B": "使用X-Ray SDK传播追踪头", "C": "使用CloudTrail", "D": "手动关联"}, "answer": "B", "explanation": "X-Ray SDK在服务间传播追踪ID，将分布式请求关联为单个追踪，可视化完整的请求路径。"},
    {"id": "q27", "domain": 5, "question": "需要自动响应EC2状态检查失败。如何配置？", "options": {"A": "手动重启", "B": "配置EC2 Auto Recovery或CloudWatch告警操作", "C": "使用更大实例", "D": "使用ASG"}, "answer": "B", "explanation": "EC2 Auto Recovery在状态检查失败时自动在新硬件上恢复实例，或使用CloudWatch告警的EC2操作自动重启/终止。"},
    {"id": "q28", "domain": 5, "question": "需要在多个AWS账户中执行标准化的事件响应流程。如何实现？", "options": {"A": "每个账户独立处理", "B": "使用Systems Manager跨账户自动化", "C": "手动协调", "D": "使用邮件通知"}, "answer": "B", "explanation": "SSM支持跨账户自动化执行，可以从中央账户在多个目标账户执行标准化的事件响应文档。"},
    {"id": "q29", "domain": 6, "question": "需要检测IAM访问密钥是否被泄露或滥用。如何监控？", "options": {"A": "定期轮换", "B": "使用GuardDuty检测异常API调用模式", "C": "使用CloudWatch", "D": "手动审查"}, "answer": "B", "explanation": "GuardDuty分析CloudTrail日志检测异常行为，如从未知位置的API调用或可疑的API调用模式，表明凭证可能被泄露。"},
    {"id": "q30", "domain": 6, "question": "需要限制EC2实例元数据服务访问以防止SSRF攻击。如何配置？", "options": {"A": "禁用元数据服务", "B": "使用IMDSv2要求会话令牌", "C": "使用安全组", "D": "使用NACL"}, "answer": "B", "explanation": "IMDSv2需要先获取会话令牌才能查询元数据，增加了SSRF攻击的难度，应强制使用IMDSv2。"},
    {"id": "q31", "domain": 1, "question": "需要在每次代码变更时自动更新API文档。如何集成到CI/CD？", "options": {"A": "手动更新", "B": "在CodeBuild中从代码生成文档并发布到S3/API Gateway", "C": "使用第三方工具", "D": "不更新文档"}, "answer": "B", "explanation": "CodeBuild可以运行文档生成工具（如Swagger、OpenAPI），将生成的文档发布到S3静态网站或更新API Gateway的文档。"},
    {"id": "q32", "domain": 2, "question": "需要在CloudFormation更新时保留资源的物理名称。如何配置？", "options": {"A": "不指定名称", "B": "显式指定资源名称属性", "C": "使用导入功能", "D": "使用StackSets"}, "answer": "B", "explanation": "如果资源支持并显式指定名称属性（如BucketName），CloudFormation会保持该名称，但需注意某些更新可能需要替换资源。"},
    {"id": "q33", "domain": 3, "question": "需要设计能够处理任意数量并发请求的无服务器架构。关键考虑是什么？", "options": {"A": "使用固定容量", "B": "注意Lambda并发限制、下游服务容量和异步处理", "C": "使用更大内存", "D": "使用预留并发"}, "answer": "B", "explanation": "Lambda有账户级并发限制，下游服务（如RDS）可能成为瓶颈，应考虑预留并发、连接池和SQS缓冲等策略。"},
    {"id": "q34", "domain": 4, "question": "需要在CloudWatch仪表板中显示自定义业务指标。如何实现？", "options": {"A": "只能显示AWS指标", "B": "使用PutMetricData API发布自定义指标", "C": "使用日志", "D": "使用第三方工具"}, "answer": "B", "explanation": "应用程序可以使用PutMetricData API发布自定义业务指标到CloudWatch，然后在仪表板中可视化。"},
    {"id": "q35", "domain": 5, "question": "需要在Lambda函数执行时间突然增加时触发调查。如何自动化？", "options": {"A": "手动监控", "B": "CloudWatch告警监控Duration指标，触发SNS通知或Lambda进行调查", "C": "增加超时", "D": "使用X-Ray手动分析"}, "answer": "B", "explanation": "Lambda Duration指标显示执行时间，设置告警在超过基线时触发，可以自动启动X-Ray分析或收集诊断信息。"},
    {"id": "q36", "domain": 6, "question": "需要确保S3存储桶不会被设置为公开访问。如何强制执行？", "options": {"A": "手动检查", "B": "启用S3 Block Public Access并使用SCP防止禁用", "C": "使用存储桶策略", "D": "使用IAM策略"}, "answer": "B", "explanation": "Account-level Block Public Access阻止所有公开访问，SCP可以防止管理员禁用此设置，实现组织级防护。"},
    {"id": "q37", "domain": 1, "question": "需要在多个微服务同时部署时协调版本兼容性。如何在CodePipeline中实现？", "options": {"A": "独立部署", "B": "使用管道的并行操作同时部署，配合集成测试阶段验证", "C": "手动协调", "D": "使用邮件通知"}, "answer": "B", "explanation": "CodePipeline支持并行操作同时部署多个服务，在后续阶段运行集成测试验证服务间兼容性。"},
    {"id": "q38", "domain": 2, "question": "需要将现有资源导入CloudFormation管理。如何实现？", "options": {"A": "删除并重新创建", "B": "使用CloudFormation资源导入功能", "C": "手动同步", "D": "使用嵌套栈"}, "answer": "B", "explanation": "CloudFormation资源导入允许将现有AWS资源纳入栈管理，无需删除和重新创建，保持资源连续性。"},
    {"id": "q39", "domain": 3, "question": "需要在使用Spot实例时确保关键工作负载可用性。如何设计？", "options": {"A": "不使用Spot", "B": "混合使用On-Demand和Spot，配合Spot中断处理", "C": "增加Spot价格", "D": "使用更大实例"}, "answer": "B", "explanation": "混合容量策略使用On-Demand满足基线容量，Spot处理额外负载。配置中断处理确保工作可以迁移到其他实例。"},
    {"id": "q40", "domain": 5, "question": "需要在安全事件后进行根本原因分析。如何收集和保留证据？", "options": {"A": "依赖现有日志", "B": "使用CloudTrail日志、VPC Flow Logs和EBS快照保留证据", "C": "终止受影响实例", "D": "只保留最近日志"}, "answer": "B", "explanation": "启用不可变的S3存储CloudTrail日志，保留VPC Flow Logs，创建EBS快照用于取证分析，确保证据完整性。"}
  ]
}
