{
  "exam": {
    "id": "azure-az-400-set1",
    "name": "Azure AZ-400 DevOps工程师专家模拟考试 #1",
    "code": "AZ-400",
    "provider": "Azure",
    "language": "zh-CN",
    "description": "Microsoft Azure DevOps Engineer Expert认证考试模拟题，涵盖DevOps流程配置、源代码控制设计、构建发布管道、安全合规计划和监控策略等核心领域",
    "totalQuestions": 40,
    "passingScore": 70,
    "examTime": 150,
    "domains": [
      {"id": 1, "name": "配置流程和通信 (Configure processes and communications)", "weight": 13},
      {"id": 2, "name": "设计和实施源代码控制 (Design and implement source control)", "weight": 18},
      {"id": 3, "name": "设计和实施构建发布管道 (Design and implement build and release pipelines)", "weight": 42},
      {"id": 4, "name": "制定安全和合规计划 (Develop a security and compliance plan)", "weight": 13},
      {"id": 5, "name": "实施监控策略 (Implement an instrumentation strategy)", "weight": 14}
    ],
    "tags": ["Azure", "AZ-400", "DevOps", "认证考试", "CI/CD"]
  },
  "questions": [
    {"id": "q1", "domain": 1, "question": "一家公司希望在Azure DevOps中配置工作项跟踪，需要强制执行特定的工作流程规则，例如只有在代码审查完成后才能将工作项移动到完成状态。应该使用什么功能？", "options": {"A": "自定义工作项类型", "B": "工作项状态规则", "C": "流程模板自定义", "D": "看板列规则"}, "answer": "C", "answerType": "single", "explanation": "流程模板自定义允许定义工作流程规则、状态转换条件和字段验证。可以创建规则要求在状态更改前满足特定条件，如代码审查完成。这提供了灵活的工作流程控制。", "difficulty": "medium"},
    {"id": "q2", "domain": 1, "question": "团队需要在Azure DevOps中配置仪表板，显示冲刺燃尽图、构建状态和测试结果。应该使用什么功能？", "options": {"A": "Azure Monitor仪表板", "B": "Azure DevOps仪表板小组件", "C": "Power BI报告", "D": "Application Insights"}, "answer": "B", "answerType": "single", "explanation": "Azure DevOps仪表板支持多种小组件，包括燃尽图、构建状态、测试结果、查询结果等。团队可以自定义仪表板布局，添加所需的小组件来监控项目状态和DevOps指标。", "difficulty": "easy"},
    {"id": "q3", "domain": 1, "question": "为了跟踪团队的DevOps成熟度和效率，需要测量哪些DORA指标？（选择两项）", "options": {"A": "部署频率", "B": "代码行数", "C": "变更前置时间", "D": "团队规模"}, "answer": ["A", "C"], "answerType": "multiple", "explanation": "DORA（DevOps Research and Assessment）定义了四个关键指标：部署频率、变更前置时间、变更失败率和恢复服务时间。这些指标帮助评估DevOps实践的效果和团队的软件交付能力。", "difficulty": "medium"},
    {"id": "q4", "domain": 2, "question": "一家公司使用Git进行版本控制，需要保护main分支不被直接推送，并要求所有更改通过拉取请求。应该配置什么？", "options": {"A": "Git标签", "B": "分支策略", "C": "Git钩子", "D": "仓库权限"}, "answer": "B", "answerType": "single", "explanation": "分支策略允许定义规则来保护重要分支。可以要求最少审阅者数量、链接工作项、成功的构建验证、解决所有评论等。这确保了代码质量和合规性。", "difficulty": "easy"},
    {"id": "q5", "domain": 2, "question": "团队希望在合并拉取请求之前自动运行构建和测试。应该使用什么功能？", "options": {"A": "持续集成触发器", "B": "构建验证策略", "C": "手动构建", "D": "计划构建"}, "answer": "B", "answerType": "single", "explanation": "构建验证策略是分支策略的一部分，在拉取请求创建或更新时自动触发指定的构建管道。只有当构建成功时，才允许完成拉取请求，确保合并的代码不会破坏构建。", "difficulty": "medium"},
    {"id": "q6", "domain": 2, "question": "一个大型团队使用Git管理代码，需要采用分支策略来支持并行开发和定期发布。哪种分支策略最适合？", "options": {"A": "主干开发(Trunk-based)", "B": "Git Flow", "C": "GitHub Flow", "D": "Feature Branch"}, "answer": "B", "answerType": "single", "explanation": "Git Flow定义了明确的分支结构(main、develop、feature、release、hotfix)，适合有定期发布周期的大型团队。它支持并行特性开发、发布准备和紧急修复，提供了结构化的版本控制流程。", "difficulty": "medium"},
    {"id": "q7", "domain": 2, "question": "为了减少Git仓库的克隆时间，团队希望只获取最近的提交历史。应该使用什么Git功能？", "options": {"A": "Git LFS", "B": "浅克隆(Shallow clone)", "C": "稀疏检出(Sparse checkout)", "D": "子模块"}, "answer": "B", "answerType": "single", "explanation": "浅克隆使用--depth参数限制获取的提交历史深度。例如，git clone --depth 1只获取最新提交，大大减少克隆时间和存储空间。适用于CI/CD管道中只需要最新代码的场景。", "difficulty": "medium"},
    {"id": "q8", "domain": 3, "question": "在Azure Pipelines中，需要在多个阶段之间共享构建输出。应该使用什么机制？", "options": {"A": "管道变量", "B": "管道工件(Artifacts)", "C": "环境变量", "D": "缓存任务"}, "answer": "B", "answerType": "single", "explanation": "管道工件允许在作业和阶段之间发布和下载文件。使用PublishBuildArtifacts任务发布工件，使用DownloadBuildArtifacts任务在后续阶段获取。这是在管道中传递构建产物的标准方法。", "difficulty": "easy"},
    {"id": "q9", "domain": 3, "question": "需要配置Azure Pipelines在代码推送到特定分支时自动触发构建。应该在YAML中配置什么？", "options": {"A": "schedules", "B": "trigger", "C": "pr", "D": "resources"}, "answer": "B", "answerType": "single", "explanation": "trigger关键字配置持续集成触发器，指定哪些分支的更改应该触发管道。例如，trigger: - main - develop会在这两个分支有推送时自动运行管道。", "difficulty": "easy"},
    {"id": "q10", "domain": 3, "question": "一家公司需要为.NET应用程序配置CI管道，包括还原NuGet包、编译和运行单元测试。正确的任务顺序是什么？", "options": {"A": "Build -> Restore -> Test", "B": "Restore -> Build -> Test", "C": "Test -> Build -> Restore", "D": "Build -> Test -> Restore"}, "answer": "B", "answerType": "single", "explanation": "正确的顺序是：首先还原(Restore)依赖项(NuGet包)，然后构建(Build)项目，最后运行测试(Test)。这确保了编译时有所有必要的依赖项，测试在最新的构建上执行。", "difficulty": "easy"},
    {"id": "q11", "domain": 3, "question": "在Azure Pipelines的多阶段部署中，需要在部署到生产环境前获得审批。应该配置什么？", "options": {"A": "管道变量", "B": "环境审批和检查", "C": "分支策略", "D": "服务连接"}, "answer": "B", "answerType": "single", "explanation": "Azure DevOps环境支持审批和检查功能。可以为特定环境配置审批者、业务时间限制、独占锁等。部署到该环境的作业会等待所有检查通过后才执行。", "difficulty": "medium"},
    {"id": "q12", "domain": 3, "question": "团队希望实施蓝绿部署策略，以便快速回滚到上一个版本。在Azure App Service中应该使用什么功能？", "options": {"A": "自动缩放", "B": "部署槽", "C": "虚拟网络集成", "D": "应用程序设置"}, "answer": "B", "answerType": "single", "explanation": "部署槽允许创建应用程序的多个实例(如staging和production)。部署到staging槽，测试后与production槽交换。如果出现问题，可以快速交换回去。这实现了蓝绿部署和零停机部署。", "difficulty": "medium"},
    {"id": "q13", "domain": 3, "question": "需要在Azure Pipelines中使用自承载代理运行需要特定软件的构建任务。如何确保任务在正确的代理上运行？", "options": {"A": "使用代理池", "B": "使用能力(capabilities)和需求(demands)", "C": "使用变量", "D": "使用参数"}, "answer": "B", "answerType": "single", "explanation": "代理具有系统能力和用户定义能力。在管道中使用demands指定任务需要的能力，Azure DevOps会选择具有匹配能力的代理来运行作业。这确保任务在具有所需软件的代理上执行。", "difficulty": "medium"},
    {"id": "q14", "domain": 3, "question": "为了提高管道效率，需要缓存依赖项以避免每次构建都下载。在Azure Pipelines中应该使用什么？", "options": {"A": "工件", "B": "Cache任务", "C": "变量组", "D": "模板"}, "answer": "B", "answerType": "single", "explanation": "Cache任务可以在构建之间缓存依赖项(如npm modules、NuGet包)。使用key参数定义缓存键(通常基于锁文件的哈希)，path参数指定缓存路径。后续构建可以快速恢复缓存，减少构建时间。", "difficulty": "medium"},
    {"id": "q15", "domain": 3, "question": "团队需要将相同的部署逻辑应用到多个环境(开发、测试、生产)。如何最有效地实现？", "options": {"A": "为每个环境创建单独的管道", "B": "使用管道模板和参数", "C": "复制粘贴YAML代码", "D": "使用手动部署"}, "answer": "B", "answerType": "single", "explanation": "管道模板允许定义可重用的步骤、作业或阶段。使用参数传递环境特定的值。这实现了DRY原则，便于维护，确保所有环境使用一致的部署流程。", "difficulty": "medium"},
    {"id": "q16", "domain": 3, "question": "需要在发布管道中实现金丝雀部署，逐步将流量路由到新版本。哪个Azure服务最适合？", "options": {"A": "Azure Load Balancer", "B": "Azure Traffic Manager", "C": "Azure Front Door", "D": "Azure Application Gateway"}, "answer": "B", "answerType": "single", "explanation": "Azure Traffic Manager支持加权路由方法，可以配置流量按比例分配到不同端点。在金丝雀部署中，可以先将10%流量路由到新版本，验证后逐步增加比例，直到完全切换。", "difficulty": "hard"},
    {"id": "q17", "domain": 3, "question": "在Azure Pipelines YAML中，如何定义只在拉取请求时运行的触发器？", "options": {"A": "trigger: pr", "B": "pr: - main", "C": "schedule: - cron: '0 0 * * *'", "D": "resources: - pipeline"}, "answer": "B", "answerType": "single", "explanation": "pr关键字配置拉取请求触发器，指定目标分支。例如，pr: - main会在针对main分支的拉取请求创建或更新时触发管道。可以配置分支筛选、路径筛选和自动取消选项。", "difficulty": "easy"},
    {"id": "q18", "domain": 4, "question": "为了在CI/CD管道中实施安全扫描，需要检测代码中的安全漏洞。应该使用什么工具？", "options": {"A": "Azure Artifacts", "B": "Microsoft Defender for DevOps", "C": "Azure Monitor", "D": "Azure Policy"}, "answer": "B", "answerType": "single", "explanation": "Microsoft Defender for DevOps(包含GitHub Advanced Security)提供代码扫描、密钥扫描和依赖项扫描功能。它可以集成到Azure DevOps管道中，在构建时检测安全问题并阻止有漏洞的代码合并。", "difficulty": "medium"},
    {"id": "q19", "domain": 4, "question": "需要安全地存储和管理Azure DevOps管道中使用的密钥和凭据。应该使用什么服务？", "options": {"A": "Azure Key Vault", "B": "管道变量", "C": "服务连接", "D": "变量组"}, "answer": "A", "answerType": "single", "explanation": "Azure Key Vault是管理密钥、证书和机密的安全存储。管道可以通过Azure Key Vault任务或变量组链接来获取机密。Key Vault提供访问审计、密钥轮换和RBAC控制。", "difficulty": "easy"},
    {"id": "q20", "domain": 4, "question": "为了确保只有经过审批的镜像才能部署到生产环境，应该在容器管道中实施什么？", "options": {"A": "镜像扫描和签名验证", "B": "更大的容器实例", "C": "更多副本", "D": "私有网络"}, "answer": "A", "answerType": "single", "explanation": "容器镜像扫描检测漏洞和恶意软件，签名验证确保镜像未被篡改。可以使用Azure Container Registry的任务和策略，只允许已签名且通过扫描的镜像部署到生产环境。", "difficulty": "medium"},
    {"id": "q21", "domain": 4, "question": "一家公司需要确保代码库中不包含硬编码的密钥和凭据。应该实施什么？", "options": {"A": "代码审查", "B": "密钥扫描(Secret scanning)", "C": "性能测试", "D": "负载测试"}, "answer": "B", "answerType": "single", "explanation": "密钥扫描可以检测代码中意外提交的API密钥、密码和令牌。GitHub Advanced Security和Microsoft Defender for DevOps提供此功能，可以在推送时阻止包含密钥的提交，并在发现时发出警报。", "difficulty": "easy"},
    {"id": "q22", "domain": 4, "question": "为了满足合规要求，需要确保所有生产部署都有审计跟踪。Azure DevOps提供什么功能？", "options": {"A": "审计日志(Audit logs)", "B": "警报规则", "C": "服务钩子", "D": "扩展"}, "answer": "A", "answerType": "single", "explanation": "Azure DevOps审计日志记录组织中的所有事件，包括管道运行、权限更改、代码更改等。日志可以流式传输到Azure Monitor、Splunk等平台进行长期存储和分析，满足合规和审计要求。", "difficulty": "medium"},
    {"id": "q23", "domain": 5, "question": "需要在Azure中监控部署的应用程序性能和可用性。应该使用什么服务？", "options": {"A": "Azure Monitor", "B": "Azure DevOps", "C": "Azure Pipelines", "D": "Azure Repos"}, "answer": "A", "answerType": "single", "explanation": "Azure Monitor(包括Application Insights)提供全面的应用程序监控，包括性能指标、依赖项跟踪、异常监控、可用性测试等。可以设置警报并创建仪表板来可视化应用程序健康状况。", "difficulty": "easy"},
    {"id": "q24", "domain": 5, "question": "为了实现自动扩展和负载均衡，需要基于应用程序指标配置警报。应该使用什么？", "options": {"A": "Azure Monitor警报规则", "B": "Azure DevOps通知", "C": "电子邮件", "D": "短信"}, "answer": "A", "answerType": "single", "explanation": "Azure Monitor警报规则可以基于指标(如CPU、内存、请求数)或日志查询触发。警报可以调用Azure Automation Runbook或Webhook来执行自动化操作，如扩展实例或通知团队。", "difficulty": "medium"},
    {"id": "q25", "domain": 5, "question": "需要跟踪分布式应用程序中请求的端到端流程。应该使用什么Application Insights功能？", "options": {"A": "可用性测试", "B": "分布式跟踪", "C": "实时指标", "D": "用户流"}, "answer": "B", "answerType": "single", "explanation": "分布式跟踪使用相关ID跨服务跟踪请求。Application Insights自动收集依赖项调用，创建应用程序映射，显示服务之间的关系和性能瓶颈。这对微服务架构的问题诊断至关重要。", "difficulty": "medium"},
    {"id": "q26", "domain": 3, "question": "在Azure Pipelines中，需要根据不同的Git标签运行不同的部署逻辑。如何实现？", "options": {"A": "使用条件(condition)表达式", "B": "使用多个管道", "C": "使用手动触发", "D": "使用定时任务"}, "answer": "A", "answerType": "single", "explanation": "条件表达式允许基于变量、构建原因或其他条件控制步骤、作业或阶段的执行。例如，condition: startsWith(variables['Build.SourceBranch'], 'refs/tags/')可以检测标签触发。", "difficulty": "medium"},
    {"id": "q27", "domain": 3, "question": "需要在Azure Pipelines中并行运行多个测试作业以减少总执行时间。应该使用什么策略？", "options": {"A": "串行执行", "B": "并行作业(parallel jobs)", "C": "顺序阶段", "D": "单个代理"}, "answer": "B", "answerType": "single", "explanation": "Azure Pipelines支持并行作业执行。可以使用矩阵策略或手动定义多个作业，它们会同时在不同代理上运行。这可以显著减少测试套件的总执行时间。", "difficulty": "medium"},
    {"id": "q28", "domain": 2, "question": "团队需要在不影响主分支稳定性的情况下尝试新功能。应该使用什么Git技术？", "options": {"A": "Git stash", "B": "特性分支", "C": "Git cherry-pick", "D": "Git rebase"}, "answer": "B", "answerType": "single", "explanation": "特性分支是从主分支创建的独立分支，用于开发新功能。开发完成后通过拉取请求合并回主分支。这隔离了正在进行的工作，保持主分支稳定，支持代码审查流程。", "difficulty": "easy"},
    {"id": "q29", "domain": 3, "question": "在Kubernetes部署中，需要实现滚动更新以确保零停机时间。应该配置什么？", "options": {"A": "Deployment策略设置为RollingUpdate", "B": "StatefulSet", "C": "DaemonSet", "D": "Job"}, "answer": "A", "answerType": "single", "explanation": "Kubernetes Deployment的RollingUpdate策略逐步替换旧Pod为新Pod。可以配置maxSurge和maxUnavailable参数控制更新速度。这确保服务在更新期间始终可用，实现零停机部署。", "difficulty": "medium"},
    {"id": "q30", "domain": 3, "question": "需要在Azure DevOps中存储和分发NuGet包。应该使用什么功能？", "options": {"A": "Azure Repos", "B": "Azure Artifacts", "C": "Azure Pipelines", "D": "Azure Boards"}, "answer": "B", "answerType": "single", "explanation": "Azure Artifacts是包管理服务，支持NuGet、npm、Maven、Python和Universal Packages。可以创建Feed来存储和共享包，配置上游源，管理包版本和访问权限。与Azure Pipelines无缝集成。", "difficulty": "easy"},
    {"id": "q31", "domain": 4, "question": "为了实施DevSecOps，需要在CI管道中集成什么类型的测试？（选择两项）", "options": {"A": "静态应用安全测试(SAST)", "B": "性能测试", "C": "动态应用安全测试(DAST)", "D": "可用性测试"}, "answer": ["A", "C"], "answerType": "multiple", "explanation": "SAST在不运行代码的情况下分析源代码查找漏洞。DAST对运行的应用程序进行测试，模拟攻击。两者结合提供全面的安全测试覆盖，是DevSecOps的核心实践。", "difficulty": "medium"},
    {"id": "q32", "domain": 5, "question": "需要创建自定义指标来监控应用程序的业务KPI。应该使用什么Application Insights功能？", "options": {"A": "可用性测试", "B": "自定义事件和指标", "C": "实时指标流", "D": "用户流"}, "answer": "B", "answerType": "single", "explanation": "Application Insights SDK允许发送自定义事件和指标。可以跟踪业务指标(如订单数、收入)、功能使用情况和自定义性能指标。这些数据可以在Azure Portal中可视化和警报。", "difficulty": "medium"},
    {"id": "q33", "domain": 1, "question": "团队需要在Azure DevOps中配置通知，当构建失败时自动通知负责人。应该使用什么？", "options": {"A": "服务钩子(Service Hooks)", "B": "订阅通知", "C": "扩展", "D": "小组件"}, "answer": "B", "answerType": "single", "explanation": "Azure DevOps的订阅通知允许用户或团队订阅特定事件(如构建失败、拉取请求创建)的通知。可以配置电子邮件、短信或与其他服务集成来接收通知。", "difficulty": "easy"},
    {"id": "q34", "domain": 3, "question": "在Azure Pipelines中，需要在部署前运行集成测试，只有测试通过才继续部署。如何配置？", "options": {"A": "使用部署前门(Pre-deployment gates)", "B": "手动审批", "C": "跳过测试", "D": "并行执行"}, "answer": "A", "answerType": "single", "explanation": "部署前门可以配置自动化检查，如调用Azure Functions、REST API或Azure Monitor警报状态。只有当所有门检查通过时，部署才会继续。这确保了部署前的质量验证。", "difficulty": "hard"},
    {"id": "q35", "domain": 2, "question": "需要将大型二进制文件(如图像、视频)存储在Git仓库中而不影响性能。应该使用什么？", "options": {"A": "Git子模块", "B": "Git LFS", "C": "Git稀疏检出", "D": "Git浅克隆"}, "answer": "B", "answerType": "single", "explanation": "Git LFS(Large File Storage)用指针文件替换大文件，实际内容存储在单独的服务器上。克隆时只下载需要的文件版本，大大减少仓库大小和克隆时间。Azure Repos支持Git LFS。", "difficulty": "medium"},
    {"id": "q36", "domain": 3, "question": "需要在Azure Container Registry中扫描Docker镜像漏洞。应该启用什么功能？", "options": {"A": "内容信任", "B": "Microsoft Defender for Containers", "C": "仓库范围令牌", "D": "geo复制"}, "answer": "B", "answerType": "single", "explanation": "Microsoft Defender for Containers(以前称为Azure Defender)为容器注册表提供漏洞扫描。它会扫描推送的镜像，检测已知漏洞，并在安全中心提供建议和修复指导。", "difficulty": "medium"},
    {"id": "q37", "domain": 5, "question": "需要配置警报在应用程序错误率超过阈值时通知团队。应该在哪里配置？", "options": {"A": "Azure DevOps", "B": "Azure Monitor/Application Insights", "C": "Azure Repos", "D": "Azure Artifacts"}, "answer": "B", "answerType": "single", "explanation": "Azure Monitor和Application Insights提供警报功能。可以基于指标(如失败请求率、异常数)或日志查询创建警报规则，并配置操作组来发送通知(邮件、短信、Webhook)或触发自动化。", "difficulty": "easy"},
    {"id": "q38", "domain": 3, "question": "在Azure Pipelines中使用多阶段YAML管道时，如何确保生产部署只在测试阶段成功后才执行？", "options": {"A": "使用dependsOn关键字", "B": "使用手动触发", "C": "使用条件变量", "D": "使用并行作业"}, "answer": "A", "answerType": "single", "explanation": "dependsOn关键字定义阶段或作业之间的依赖关系。例如，production阶段可以设置dependsOn: Test，确保只有Test阶段成功完成后才执行Production阶段。这创建了有序的部署流程。", "difficulty": "easy"},
    {"id": "q39", "domain": 4, "question": "为了遵循最小权限原则，需要限制服务连接只能被特定管道使用。应该配置什么？", "options": {"A": "管道授权", "B": "变量组", "C": "环境", "D": "代理池"}, "answer": "A", "answerType": "single", "explanation": "服务连接的安全设置中可以启用管道授权，指定只有特定管道或需要审批的管道才能使用该连接。这限制了访问范围，防止未经授权的管道使用敏感资源连接。", "difficulty": "medium"},
    {"id": "q40", "domain": 3, "question": "需要将Infrastructure as Code模板(如ARM/Bicep)纳入CI/CD流程。哪个任务最适合验证模板？", "options": {"A": "Azure CLI任务with what-if", "B": "PowerShell任务", "C": "Bash任务", "D": "Copy Files任务"}, "answer": "A", "answerType": "single", "explanation": "Azure CLI的what-if操作预览ARM/Bicep模板部署将产生的更改，而不实际执行部署。这允许在CI管道中验证模板语法和预期更改，在部署前发现潜在问题。", "difficulty": "medium"}
  ]
}
