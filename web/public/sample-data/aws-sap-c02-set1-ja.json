{
  "exam": {
    "id": "aws-sap-c02-set1-ja",
    "name": "AWS SAP-C02 模擬試験 #1",
    "code": "SAP-C02",
    "provider": "AWS",
    "language": "ja",
    "description": "AWS Solutions Architect Professional (SAP-C02) 認定模擬試験第1セット。複雑なアーキテクチャ設計、移行戦略、コスト最適化、組織の複雑性管理をカバーしています。",
    "totalQuestions": 40,
    "passingScore": 75,
    "examTime": 180,
    "domains": [
      {"id": 1, "name": "複雑な組織向けソリューション設計", "weight": 26},
      {"id": 2, "name": "新規ソリューション設計", "weight": 29},
      {"id": 3, "name": "既存ソリューションの継続的改善", "weight": 25},
      {"id": 4, "name": "ワークロード移行とモダナイゼーションの加速", "weight": 20}
    ],
    "tags": ["AWS", "SAP-C02", "Professional", "Architecture"]
  },
  "questions": [
    {
      "id": 1,
      "domain": 1,
      "question": "多国籍企業がAWS Organizationsで200以上のアカウントを持っています。セキュリティチームは、すべてのアカウントのS3バケットでデフォルト暗号化が有効になり、パブリックアクセスがブロックされていることを確認する必要があります。最小の運用オーバーヘッドでこれを実現するにはどうすればよいですか？",
      "options": {
        "A": "AWS Configルールで非準拠バケットを検出し、Lambda関数で自動修復する",
        "B": "Service Control Policies (SCPs)を使用して、暗号化されていないまたはパブリックなバケットの作成をブロックする",
        "C": "各アカウントにCloudFormation StackSetsをデプロイしてS3バケットポリシーを設定する",
        "D": "AWS Control Towerの強制ガードレールを使用してこれらのコントロールを実施する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Service Control Policies (SCPs)は組織レベルでポリシーを強制し、セキュリティ要件を満たさないリソースの作成をブロックできます。APIレベルで非準拠操作をブロックするため、最小の運用オーバーヘッドで実現できます。",
      "difficulty": "hard"
    },
    {
      "id": 2,
      "domain": 1,
      "question": "企業がマルチアカウント戦略を実装しており、すべてのアカウントのVPCネットワーク接続を一元管理する必要があります。50以上のVPCが相互通信し、オンプレミスデータセンターにも接続する必要があります。最適なアーキテクチャソリューションは何ですか？",
      "options": {
        "A": "VPCペア間にVPCピアリング接続を作成する",
        "B": "AWS Transit Gatewayを中央ハブとして使用し、すべてのVPCとオンプレミスネットワークを接続する",
        "C": "AWS PrivateLinkを使用してVPC間接続を確立する",
        "D": "各VPCにVPNゲートウェイをデプロイしてオンプレミスに接続する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "AWS Transit Gatewayは多数のVPCとオンプレミスネットワークを接続するための最適な選択です。中央ハブモデルを提供し、VPCピアリングの複雑なメッシュトポロジー（50のVPCには1225のピアリング接続が必要）を回避し、Direct ConnectとVPNの統合をサポートします。",
      "difficulty": "medium"
    },
    {
      "id": 3,
      "domain": 2,
      "question": "Eコマースプラットフォームがプロモーション期間中にトラフィックが10倍に増加する可能性があります。アプリケーションはAmazon RDS MySQLデータベースを使用しており、ピーク時にデータベースがボトルネックになります。読み書きパフォーマンスを保証しながらコストを制御する必要があります。最適なソリューションは何ですか？",
      "options": {
        "A": "RDSインスタンスを最大スペックにアップグレードする",
        "B": "Amazon Aurora MySQLに移行し、リードレプリカとAurora Serverless v2を使用する",
        "C": "RDSの前にElastiCacheキャッシュ層を追加する",
        "D": "RDS Multi-AZデプロイメントを使用してパフォーマンスを向上させる"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Amazon AuroraはMySQLより高いパフォーマンス（最大5倍）を提供し、Aurora Serverless v2は負荷に応じて自動的にコンピューティング容量をスケーリングでき、リードレプリカは読み取り負荷を分散できます。この組み合わせはピーク負荷を処理しながら、低負荷時のコストを制御できます。",
      "difficulty": "hard"
    },
    {
      "id": 4,
      "domain": 2,
      "question": "企業がリアルタイムデータ分析プラットフォームを構築する必要があり、毎秒100万件以上のイベントレコードを受信します。データはリアルタイムで処理し、後続の分析のために保存する必要があります。最適なアーキテクチャは何ですか？",
      "options": {
        "A": "Amazon SQS -> Lambda -> DynamoDB",
        "B": "Amazon Kinesis Data Streams -> Kinesis Data Analytics -> S3 + Redshift",
        "C": "Amazon MSK -> EC2コンシューマー -> RDS",
        "D": "API Gateway -> Lambda -> Aurora"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Kinesis Data Streamsは大規模なリアルタイムデータ取り込み用に設計されており、毎秒数百万レコードを処理できます。Kinesis Data AnalyticsはリアルタイムSQL分析を提供し、S3は永続ストレージ、Redshiftは複雑な分析クエリに使用されます。これはAWSネイティブのリアルタイム分析アーキテクチャです。",
      "difficulty": "medium"
    },
    {
      "id": 5,
      "domain": 3,
      "question": "アプリケーションがS3からのファイルを処理するためにLambda関数を使用しており、各ファイルの処理に10分かかります。処理中にタイムアウトで頻繁に失敗します。このアーキテクチャをどのように改善しますか？",
      "options": {
        "A": "Lambda関数のメモリ設定を増やす",
        "B": "Lambdaのプロビジョニングされた同時実行を使用する",
        "C": "処理ロジックをAWS Step Functionsと複数の短時間Lambda関数に移行する",
        "D": "Lambdaの非同期呼び出しモードを使用する"
      },
      "answer": "C",
      "answerType": "single",
      "explanation": "Lambdaの最大実行時間は15分で、10分の処理時間は制限に近く、エラー許容がありません。Step Functionsを使用して長時間実行ワークフローを複数の短いLambda関数に分解し、より良いエラー処理、リトライメカニズム、状態管理を提供します。",
      "difficulty": "medium"
    },
    {
      "id": 6,
      "domain": 4,
      "question": "企業がオンプレミスのVMware仮想化環境から500台の仮想マシンをAWSに移行する計画です。ダウンタイムと移行リスクを最小化する必要があります。推奨される移行戦略は何ですか？",
      "options": {
        "A": "AWS Application Migration Service (MGN)を使用して継続的なレプリケーションとカットオーバーを行う",
        "B": "VM Import/Exportを使用してVMDKをエクスポートしAWSにインポートする",
        "C": "CloudEndure Migrationを使用して移行する",
        "D": "AWS上ですべてのアプリケーションを手動で再構築する"
      },
      "answer": "A",
      "answerType": "single",
      "explanation": "AWS Application Migration Service (MGN)は推奨される移行ツールで、継続的なブロックレベルレプリケーションを提供し、最小のダウンタイムで移行を完了できます。自動化されたカットオーバープロセスをサポートし、カットオーバー前にテストできるため、移行リスクを軽減します。",
      "difficulty": "medium"
    },
    {
      "id": 7,
      "domain": 1,
      "question": "企業がAWS Organizationsを使用して複数のビジネスユニットのアカウントを管理しています。各部門が独自のリソースを独立して管理しながら、特定のコアサービス（Directory Serviceなど）を共有する必要があります。どのように設計しますか？",
      "options": {
        "A": "各アカウントに同じコアサービスをデプロイする",
        "B": "AWS Resource Access Manager (RAM)を使用してアカウント間でリソースを共有する",
        "C": "すべてのリソースを中央アカウントに配置する",
        "D": "VPCピアリングを使用してすべてのアカウントが中央サービスにアクセスできるようにする"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "AWS Resource Access Manager (RAM)を使用すると、AWS Organizations内のアカウント間でサブネット、Transit Gateway、License Manager設定などのリソースを安全に共有できます。これにより、各部門の独立性を維持しながら、コアサービスの一元管理とコスト最適化を実現できます。",
      "difficulty": "medium"
    },
    {
      "id": 8,
      "domain": 2,
      "question": "グローバルアプリケーションを複数のAWSリージョンにデプロイする必要があり、RPO < 1分、RTO < 5分が要件です。アプリケーションはPostgreSQLデータベースを使用しています。最適なアーキテクチャは何ですか？",
      "options": {
        "A": "RDS Multi-AZデプロイメントを使用する",
        "B": "Aurora Global Databaseを使用してクロスリージョンレプリケーションを実現する",
        "C": "データベースレプリケーションソフトウェアを使用して手動でクロスリージョンレプリケーションを設定する",
        "D": "DynamoDB Global Tablesを使用する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Aurora Global Databaseはクロスリージョンレプリケーションを提供し、レプリケーション遅延は通常1秒未満（RPO < 1分を満たす）で、災害発生時にセカンダリリージョンをプライマリに迅速に昇格できます（RTO < 5分を満たす）。PostgreSQLおよびMySQL互換ワークロード用に設計されています。",
      "difficulty": "hard"
    },
    {
      "id": 9,
      "domain": 3,
      "question": "企業のAWS請求額が毎月20%増加しており、CFOがコスト最適化を要求しています。現在、主にオンデマンドEC2インスタンスで本番ワークロードを実行しています。最も効果的なコスト最適化戦略は何ですか？（2つ選択）",
      "options": {
        "A": "安定したベースライン負荷にSavings Plansまたはリザーブドインスタンスを購入する",
        "B": "すべてのワークロードをSpotインスタンスに移行する",
        "C": "AWS Compute Optimizerを使用して過剰プロビジョニングされたリソースを特定する",
        "D": "すべてのインスタンスタイプを最新世代にアップグレードする"
      },
      "answer": ["A", "C"],
      "answerType": "multiple",
      "explanation": "Savings Plansまたはリザーブドインスタンスは安定したワークロードで最大72%のコスト削減を実現できます。Compute Optimizerは使用パターンを分析し、過剰プロビジョニングされたリソースを特定します。Spotインスタンスは中断される可能性があり、すべての本番ワークロードに適していません。最新世代へのアップグレードは役立つ場合がありますが、最も直接的なコスト最適化対策ではありません。",
      "difficulty": "medium"
    },
    {
      "id": 10,
      "domain": 4,
      "question": "企業が従来のモノリシックアプリケーションをマイクロサービスアーキテクチャにモダナイズしています。アプリケーションは現在EC2上で実行され、Oracleデータベースを使用しています。段階的なモダナイゼーションをどのように実現しますか？",
      "options": {
        "A": "アプリケーション全体を一度にマイクロサービスとして書き直す",
        "B": "Strangler Figパターンを使用して機能モジュールを段階的にマイクロサービスとして抽出する",
        "C": "モノリシックアーキテクチャを維持し、データベースのみをクラウドに移行する",
        "D": "モノリシックアプリケーションをコンテナ化してから分割する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Strangler Figパターンにより、既存の機能が正常に動作し続けながら、モノリシックアプリケーションの機能を独立したマイクロサービスとして段階的に抽出できます。この段階的なアプローチはリスクを軽減し、チームが学習して適応できるようにし、プロセス全体を通じてビジネス継続性を維持します。",
      "difficulty": "medium"
    },
    {
      "id": 11,
      "domain": 1,
      "question": "金融会社がコンプライアンス要件を満たすために、すべてのAPI呼び出しを7年間記録・保持する必要があります。APIはAmazon API GatewayとLambdaを使用しています。最適な実装方法は何ですか？",
      "options": {
        "A": "API Gatewayアクセスログを有効にし、CloudWatch Logsに送信して7年間の保持期間を設定する",
        "B": "Lambda関数ですべてのリクエストをログに記録し、S3に保存する",
        "C": "AWS CloudTrailを使用してすべてのAPI Gateway呼び出しを記録し、S3へのログアーカイブを有効にする",
        "D": "Kinesis Data Firehoseを使用してログをS3に送信し、ライフサイクルポリシーを設定する"
      },
      "answer": "D",
      "answerType": "single",
      "explanation": "Kinesis Data Firehoseは大量のログデータを確実にS3にストリーミングでき、S3ライフサイクルポリシーでデータをGlacierなどの低コストストレージに移行して長期保持を実現できます。このソリューションはコスト効率が高くスケーラブルです。CloudWatch Logsの長期保存はコストが高くなります。",
      "difficulty": "hard"
    },
    {
      "id": 12,
      "domain": 2,
      "question": "企業が機械学習推論エンドポイントを構築する必要があり、低レイテンシー応答（< 100ms）が必要で、トラフィックが大きく変動します（毎秒10リクエストから10000リクエスト）。最適なソリューションは何ですか？",
      "options": {
        "A": "EC2インスタンスで推論サービスを実行し、Auto Scalingを設定する",
        "B": "SageMakerリアルタイムエンドポイントとAuto Scalingを使用する",
        "C": "Lambda関数で推論を行う",
        "D": "SageMaker Serverless推論エンドポイントを使用する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "SageMakerリアルタイムエンドポイントは低レイテンシー推論用に設計されており、Auto Scalingと組み合わせてトラフィックの変動に対応できます。Serverless推論はコールドスタートの問題があり、低レイテンシー要件には適していません。Lambdaはデプロイパッケージサイズとランタイムの制限があり、複雑なモデルには適していません。",
      "difficulty": "hard"
    },
    {
      "id": 13,
      "domain": 3,
      "question": "アプリケーションがAmazon DynamoDBを使用しており、最近クエリのレイテンシーが増加しています。分析の結果、特定のパーティションキーへのアクセスが他のキーよりもはるかに多いことがわかりました（ホットパーティション問題）。どのように解決しますか？",
      "options": {
        "A": "DynamoDBテーブルのプロビジョニング容量を増やす",
        "B": "DynamoDB Auto Scalingを有効にする",
        "C": "アクセスパターンをより均等に分散するためにパーティションキーを再設計する",
        "D": "RDSデータベースに移行する"
      },
      "answer": "C",
      "answerType": "single",
      "explanation": "ホットパーティション問題はアクセスパターンが不均等であることが原因です。容量を増やしたりAuto Scalingを有効にしても、パーティションレベルのホットスポット問題は解決しません。正しいソリューションはパーティションキーを再設計することで、複合キーを使用するか、ランダムサフィックスを追加してデータとアクセスをより均等に分散することです。",
      "difficulty": "hard"
    },
    {
      "id": 14,
      "domain": 4,
      "question": "企業がオンプレミスデータセンターから1PBのデータをAmazon S3に移行する必要があります。ネットワーク帯域幅は限られており（1 Gbps）、30日以内に移行を完了する必要があります。最適な方法は何ですか？",
      "options": {
        "A": "AWS DataSyncを使用してインターネット経由で転送する",
        "B": "AWS Direct Connectを設定してからDataSyncを使用する",
        "C": "複数のAWS Snowball Edgeデバイスを並行して使用する",
        "D": "S3 Transfer Accelerationを使用する"
      },
      "answer": "C",
      "answerType": "single",
      "explanation": "1 Gbps帯域幅での理論上の最大転送量は約10TB/日で、1PBには100日必要となり、30日の要件を満たせません。Snowball Edgeは1台あたり80TBを保存でき、15〜20台のSnowball Edgeを並行して使用すれば30日以内に完了できます。Direct Connectの設定自体に数週間かかります。",
      "difficulty": "medium"
    },
    {
      "id": 15,
      "domain": 1,
      "question": "企業がAWS上で機密性の高い医療健康データをホストする必要があり、HIPAAコンプライアンス要件を満たす必要があります。どの対策が必要ですか？（2つ選択）",
      "options": {
        "A": "AWSとBusiness Associate Agreement (BAA)を締結する",
        "B": "米国リージョンのAWSサービスのみを使用する",
        "C": "すべてのデータを静止時および転送中に暗号化する",
        "D": "専用ホストインスタンスを使用する"
      },
      "answer": ["A", "C"],
      "answerType": "multiple",
      "explanation": "HIPAAコンプライアンスには以下が必要です：1) AWSとBAAを締結し、両者の責任を明確にする；2) PHI（保護された健康情報）を暗号化する。HIPAAは米国リージョンのみの使用や専用ホストを必須としませんが、HIPAA対象サービスリストのサービスを使用する必要があります。",
      "difficulty": "medium"
    },
    {
      "id": 16,
      "domain": 2,
      "question": "ビデオストリーミングプラットフォームがグローバルユーザーに低レイテンシーのビデオ再生体験を提供する必要があります。ビデオファイルはS3に保存されています。最適な配信アーキテクチャは何ですか？",
      "options": {
        "A": "S3クロスリージョンレプリケーションを使用して複数のリージョンにレプリケートする",
        "B": "CloudFrontをCDNとして使用し、S3をオリジンとする",
        "C": "各リージョンにビデオをキャッシュするEC2インスタンスをデプロイする",
        "D": "Global Acceleratorを使用してS3アクセスを高速化する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Amazon CloudFrontはAWSのCDNサービスで、世界中に400以上のエッジロケーションがあり、ビデオコンテンツをユーザーに近い場所にキャッシュしてレイテンシーを大幅に削減できます。S3とネイティブに統合され、ライブおよびオンデマンドビデオストリーミングをサポートします。",
      "difficulty": "easy"
    },
    {
      "id": 17,
      "domain": 3,
      "question": "Lambda関数が時々コールドスタートの問題を起こし、応答時間が不安定になっています。関数はJavaランタイムを使用し、時間に敏感なトランザクションリクエストを処理しています。どのように最適化しますか？（2つ選択）",
      "options": {
        "A": "プロビジョニングされた同時実行を使用する",
        "B": "デプロイパッケージサイズを削減し、不要な依存関係を削除する",
        "C": "関数のメモリ設定を増やす",
        "D": "ランタイムをPythonに変更する"
      },
      "answer": ["A", "B"],
      "answerType": "multiple",
      "explanation": "プロビジョニングされた同時実行は、指定された数の関数インスタンスが常に初期化された状態を維持し、コールドスタートを排除します。デプロイパッケージを小さくすると初期化が速くなります。Javaランタイムのコールドスタートが遅いことは既知の問題ですが、言語変更は現実的でない場合があります。メモリ増加は主に実行パフォーマンスに影響し、コールドスタートへの効果は限定的です。",
      "difficulty": "medium"
    },
    {
      "id": 18,
      "domain": 4,
      "question": "企業がOracleデータベースを使用しており、AWSへの移行を計画しています。データベースには多くのストアドプロシージャとトリガーが含まれています。最も適切な移行戦略は何ですか？",
      "options": {
        "A": "AWS DMSを使用してAurora PostgreSQLに直接移行する",
        "B": "AWS SCTで移行の複雑さを評価し、その後DMSで移行する",
        "C": "まずRDS for Oracleに移行し、後で変換を検討する",
        "D": "DynamoDBを使用するようにアプリケーションを完全に書き直す"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "AWS Schema Conversion Tool (SCT)は、Oracleデータベースのストアドプロシージャ、トリガーなどのオブジェクトを分析し、ターゲットデータベースへの移行の複雑さを評価し、コードの大部分を自動的に変換できます。DMSはデータ移行を担当します。これは複雑なデータベース移行のベストプラクティスです。",
      "difficulty": "medium"
    },
    {
      "id": 19,
      "domain": 1,
      "question": "企業が複数のAWSアカウントにわたる集中ログ管理を実装する必要があります。セキュリティチームはすべてのアカウントのCloudTrailとVPC Flow Logsを検索・分析できる必要があります。最適なソリューションは何ですか？",
      "options": {
        "A": "各アカウントでCloudWatch Logsを設定し、クロスアカウントアクセスを使用する",
        "B": "組織レベルのCloudTrailを作成し、すべてのログを中央S3バケットに送信し、OpenSearchで分析する",
        "C": "AWS Security Hubを使用してすべてのログを集約する",
        "D": "各アカウントにSIEMソリューションをデプロイする"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "組織レベルのCloudTrailはすべてのメンバーアカウントのAPIアクティビティを自動的に収集できます。ログを1つのS3バケットに集約することで管理とコスト最適化が容易になります。OpenSearch（旧Elasticsearch）は強力なログ検索と可視化機能を提供します。",
      "difficulty": "hard"
    },
    {
      "id": 20,
      "domain": 2,
      "question": "IoTプラットフォームが100万台のデバイスからのデータを処理する必要があり、各デバイスは毎秒1メッセージを送信します。これらのデータをリアルタイムで処理し永続化する必要があります。最適なアーキテクチャは何ですか？",
      "options": {
        "A": "AWS IoT Core -> Lambda -> DynamoDB",
        "B": "AWS IoT Core -> IoT Rules -> Kinesis Data Streams -> Lambda -> S3/DynamoDB",
        "C": "MQTTを使用してEC2クラスターに直接送信する",
        "D": "AWS IoT Core -> SQS -> EC2コンシューマー"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "毎秒100万メッセージには高スループットアーキテクチャが必要です。IoT Coreはデバイス接続とメッセージルーティングを処理し、Kinesis Data Streamsは高スループットのデータバッファリングを提供し、Lambdaで処理してS3またはDynamoDBに保存します。Lambdaを直接使用すると同時実行制限に遭遇する可能性があります。",
      "difficulty": "hard"
    },
    {
      "id": 21,
      "domain": 3,
      "question": "アプリケーションがECS on Fargateでコンテナ化されたワークロードを実行しています。コンテナはRDSデータベースとS3バケットにアクセスする必要があります。アクセス権限を安全に設定するにはどうすればよいですか？",
      "options": {
        "A": "データベース資格情報を環境変数としてコンテナに渡す",
        "B": "ECSタスクロールでS3アクセス権限を付与し、Secrets Managerでデータベース資格情報を管理する",
        "C": "資格情報をアプリケーションコードにハードコードする",
        "D": "IAMユーザーのアクセスキーを使用する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "ECSタスクロールはコンテナにAWSサービスアクセス権限を付与するためのベストプラクティスです。Secrets Managerはデータベース資格情報を安全に保存し、自動的にローテーションできます。機密情報を環境変数に保存することは避けてください。ログに露出する可能性があります。",
      "difficulty": "medium"
    },
    {
      "id": 22,
      "domain": 4,
      "question": "企業がWindows Serverアプリケーションを AWSに移行する必要があります。アプリケーションはユーザーデータを保存するためにWindowsファイル共有を使用しています。AWSで同等の機能を実現するにはどうすればよいですか？",
      "options": {
        "A": "EBSボリュームでデータを保存し、EC2インスタンス間で共有する",
        "B": "Amazon FSx for Windows File Serverを使用する",
        "C": "S3とS3 File Gatewayを使用する",
        "D": "EFSファイルシステムを使用する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "Amazon FSx for Windows File Serverは、SMBプロトコル、NTFS、Active Directory統合、DFS名前空間をサポートする完全マネージドのWindowsネイティブファイルシステムを提供します。これはWindowsファイル共有の移行に最適な選択肢です。EFSはLinuxファイルシステムで、Windowsをサポートしていません。",
      "difficulty": "easy"
    },
    {
      "id": 23,
      "domain": 1,
      "question": "企業のセキュリティポリシーでは、すべてのデータベース接続を暗号化し、特定のアプリケーションサーバーからのみアクセスできるようにする必要があります。RDSでこの要件をどのように実現しますか？（2つ選択）",
      "options": {
        "A": "RDSのSSL/TLS暗号化を有効にし、パラメータグループでrequire_sslを設定する",
        "B": "セキュリティグループを設定して、アプリケーションサーバーのIPのみがデータベースポートにアクセスできるようにする",
        "C": "RDS Proxyを使用して接続を管理する",
        "D": "データベースをパブリックサブネットにデプロイする"
      },
      "answer": ["A", "B"],
      "answerType": "multiple",
      "explanation": "RDSはSSL/TLSで転送中のデータを暗号化をサポートし、パラメータグループですべての接続にSSLを強制できます。セキュリティグループは仮想ファイアウォールとして機能し、特定のソースのみがデータベースにアクセスできるように制限できます。RDS Proxyは主に接続プーリング管理用で、セキュリティ制御の主な手段ではありません。",
      "difficulty": "medium"
    },
    {
      "id": 24,
      "domain": 2,
      "question": "SaaSアプリケーションがマルチテナントアーキテクチャをサポートする必要があり、各テナントのデータは完全に分離される必要があります。アプリケーションはDynamoDBでデータを保存しています。最適な設計ソリューションは何ですか？",
      "options": {
        "A": "各テナントに個別のDynamoDBテーブルを作成する",
        "B": "テナントIDをパーティションキーのプレフィックスとして使用してデータを分離する",
        "C": "各テナントに個別のAWSアカウントを作成する",
        "D": "DynamoDBの条件式を使用してアプリケーション層で分離する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "テナントIDをパーティションキープレフィックスとして使用することは、DynamoDBマルチテナンシーのベストプラクティスです。これにより、単一テーブルでデータ分離を実現しながら、管理のシンプルさとコスト効率を維持できます。テナントごとに1テーブルは管理オーバーヘッドが増え、テナントごとに1アカウントはほとんどのシナリオで過剰に複雑です。",
      "difficulty": "hard"
    },
    {
      "id": 25,
      "domain": 3,
      "question": "アプリケーションがロードバランシングにALBを使用しており、リクエストのHTTPヘッダーに基づいてトラフィックを異なるターゲットグループにルーティングする必要があります。どのように設定しますか？",
      "options": {
        "A": "ALBのパスベースルーティングを使用する",
        "B": "ALBのホストベースルーティングを使用する",
        "C": "ALBの高度なリクエストルーティング（HTTPヘッダー条件に基づく）を使用する",
        "D": "ALBの代わりにNLBを使用する"
      },
      "answer": "C",
      "answerType": "single",
      "explanation": "ALBはHTTPヘッダー、クエリ文字列、ソースIPなどの条件に基づく高度なリクエストルーティングをサポートしています。特定のHTTPヘッダー値をチェックするルールを作成し、一致するリクエストを対応するターゲットグループにルーティングできます。",
      "difficulty": "easy"
    },
    {
      "id": 26,
      "domain": 4,
      "question": "企業が.NET FrameworkアプリケーションをAWSに移行しています。アプリケーションはWindows Server環境が必要ですが、サーバー管理作業を減らしたいと考えています。推奨されるコンピューティングオプションは何ですか？",
      "options": {
        "A": "EC2 Windowsインスタンスを使用する",
        "B": "AWS App Runnerを使用する",
        "C": "Elastic BeanstalkのWindows Serverプラットフォームを使用する",
        "D": "Lambdaを使用する"
      },
      "answer": "C",
      "answerType": "single",
      "explanation": "Elastic Beanstalkは、.NET Frameworkアプリケーションをサポートする完全マネージドのWindows Server環境を提供し、サーバー管理作業を削減します。容量プロビジョニング、ロードバランシング、オートスケーリング、アプリケーションヘルスモニタリングを処理します。App RunnerはWindowsをサポートせず、Lambdaは完全なWindows環境を必要とするアプリケーションには適していません。",
      "difficulty": "medium"
    },
    {
      "id": 27,
      "domain": 1,
      "question": "企業がAWSリソースにタグポリシーを実施し、すべてのリソースにコストセンターと環境タグが付いていることを確認する必要があります。どのように強制しますか？",
      "options": {
        "A": "AWS Configルールを使用してタグなしリソースを検出する",
        "B": "AWS Organizationsのタグポリシーを使用する",
        "C": "IAMポリシーでリソース作成時にタグを必須にする",
        "D": "上記すべてを組み合わせて使用する"
      },
      "answer": "D",
      "answerType": "single",
      "explanation": "ベストプラクティスは組み合わせて使用することです：1) Organizationsタグポリシーで標準タグ形式を定義；2) IAMポリシーで作成時にタグを強制（aws:RequestTag条件）；3) AWS Configで非準拠リソースを継続的に検出。これにより予防的および検出的コントロールの組み合わせが提供されます。",
      "difficulty": "medium"
    },
    {
      "id": 28,
      "domain": 2,
      "question": "Webアプリケーションがユーザーセッションデータを保存する必要があり、高可用性と低レイテンシー（< 5ms）が必要です。数百万の同時ユーザーが予想されます。最適なストレージソリューションは何ですか？",
      "options": {
        "A": "Amazon RDS Multi-AZ",
        "B": "Amazon ElastiCache for Redis（クラスターモード）",
        "C": "Amazon S3",
        "D": "Amazon EBS"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "ElastiCache for Redisはサブミリ秒のレイテンシーでインメモリデータストレージを提供し、クラスターモードは数百万の同時ユーザーを処理するために水平スケーリングをサポートします。Redisは自動フェイルオーバーをサポートし、高可用性を確保します。セッションストレージに最適な選択肢です。",
      "difficulty": "medium"
    },
    {
      "id": 29,
      "domain": 3,
      "question": "アプリケーションが複数のEC2インスタンスで実行されており、スティッキーセッションを使用しています。ユーザーエクスペリエンスに影響を与えずにローリングデプロイメントを実行する必要があります。どのように実現しますか？",
      "options": {
        "A": "セッションデータを外部ストレージ（ElastiCacheなど）に移行し、ALBの接続ドレインを使用する",
        "B": "デプロイメント中にスティッキーセッションを無効にする",
        "C": "すべての古いインスタンスを同時に終了する",
        "D": "ALBの代わりにNLBを使用する"
      },
      "answer": "A",
      "answerType": "single",
      "explanation": "セッションをElastiCacheに外部化すると、セッションが特定のインスタンスに依存しなくなり、これはステートレスアプリケーションのベストプラクティスです。ALBの接続ドレイン機能により、処理中のリクエストを完了しながら、終了予定のインスタンスへの新しいリクエストの送信を停止し、スムーズな移行を確保します。",
      "difficulty": "hard"
    },
    {
      "id": 30,
      "domain": 4,
      "question": "企業がデータセンターアプリケーションをAWSに移行する際の総所有コスト（TCO）を評価する必要があります。どのAWSツールを使用すべきですか？",
      "options": {
        "A": "AWS Pricing Calculator",
        "B": "AWS Migration Evaluator",
        "C": "AWS Cost Explorer",
        "D": "AWS Budgets"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "AWS Migration Evaluator（旧TSO Logic）は、移行のビジネスケースを評価するために特別に設計されたツールです。オンプレミス環境の実際の使用データを分析し、TCO分析と移行推奨事項を生成します。Pricing CalculatorはAWSコストのみを見積もり、現在のオンプレミスコストは考慮しません。",
      "difficulty": "easy"
    },
    {
      "id": 31,
      "domain": 1,
      "question": "企業がAWS Control Towerを使用してマルチアカウント環境を管理しています。すべてのアカウントでルートユーザーのアクセスを禁止する必要があります。どのように実現しますか？",
      "options": {
        "A": "すべてのアカウントのルートユーザーを削除する",
        "B": "Control Towerの強制ガードレールを使用してルートユーザー操作を禁止する",
        "C": "各アカウントでルートユーザーを手動で無効にする",
        "D": "SCPを使用してルートユーザーのすべての操作をブロックする"
      },
      "answer": "D",
      "answerType": "single",
      "explanation": "Service Control Policies (SCPs)はルートユーザーの操作を制限できます（ルートユーザーのログインを完全に禁止することはできませんが、ほとんどの操作をブロックできます）。Control Towerのガードレールも実際にはSCPsを通じて実装されています。ルートユーザーは削除または無効化できませんが、その権限はSCPで制限できます。",
      "difficulty": "hard"
    },
    {
      "id": 32,
      "domain": 2,
      "question": "分析プラットフォームがPBレベルのデータを処理し、複雑なSQLクエリを実行する必要があります。データは主に履歴データで、クエリ頻度は高くありませんが、各クエリは大量のデータをスキャンする可能性があります。最適なソリューションは何ですか？",
      "options": {
        "A": "Amazon RDS with read replicas",
        "B": "Amazon Redshift with RA3 nodes",
        "C": "Amazon Athena with S3 data lake",
        "D": "Amazon Aurora"
      },
      "answer": "C",
      "answerType": "single",
      "explanation": "PBレベルのデータと頻繁でないクエリの場合、Athena + S3データレイクが最もコスト効率の良いソリューションです。Athenaはサーバーレスで、スキャンしたデータ量に応じて課金され、インフラストラクチャのプロビジョニングは不要です。S3は低コストの大規模ストレージを提供します。Redshiftは頻繁な分析クエリシナリオにより適しています。",
      "difficulty": "medium"
    },
    {
      "id": 33,
      "domain": 3,
      "question": "アプリケーションがAPI Gateway + Lambdaアーキテクチャを使用しており、API応答時間が突然遅くなりました。CloudWatchはLambda同時実行数がアカウント制限に近づいていることを示しています。どのように解決しますか？",
      "options": {
        "A": "Lambda同時実行制限の引き上げをリクエストする",
        "B": "重要な関数に予約済み同時実行を設定し、アカウント制限の引き上げをリクエストする",
        "C": "Lambda関数のタイムアウト時間を短縮する",
        "D": "LambdaをEC2インスタンスに置き換える"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "予約済み同時実行は、重要な関数が常に利用可能な同時実行容量を持つことを確保し、他の関数によって枯渇されないようにします。同時にアカウントの同時実行制限の引き上げをリクエストして成長をサポートします。制限を増やすだけでは不十分な場合があります。他の関数がまだリソースを奪い合う可能性があるためです。",
      "difficulty": "medium"
    },
    {
      "id": 34,
      "domain": 4,
      "question": "企業がクラウドに移行する前にオンプレミスでAWS互換のコンテナワークロードをテストしたいと考えています。推奨されるソリューションは何ですか？",
      "options": {
        "A": "オンプレミスにDockerをインストールする",
        "B": "AWS Outpostsを使用する",
        "C": "Amazon ECS AnywhereまたはEKS Anywhereを使用する",
        "D": "LocalStackを使用する"
      },
      "answer": "C",
      "answerType": "single",
      "explanation": "ECS AnywhereとEKS Anywhereにより、オンプレミスデータセンターでAWSと同じコンテナオーケストレーションプラットフォームを実行できます。これによりクラウド環境との一貫性が確保され、将来の移行が容易になります。同じAPI、ツール、ワークフローを使用します。",
      "difficulty": "medium"
    },
    {
      "id": 35,
      "domain": 1,
      "question": "企業がIAMユーザーに対して、作成後90日以内にパスワードを変更し、最近5つのパスワードを再利用できないようにする必要があります。どのように設定しますか？",
      "options": {
        "A": "IAMパスワードポリシーでこれらの要件を設定する",
        "B": "Lambda関数を使用してパスワードの有効期限を定期的にチェックし、強制的に変更する",
        "C": "AWS Configルールを使用してパスワードの有効期限を監視する",
        "D": "SCPでパスワードポリシーを定義する"
      },
      "answer": "A",
      "answerType": "single",
      "explanation": "IAMパスワードポリシーは、パスワードの有効期限（最大パスワード有効期間）とパスワード再利用防止（記憶するパスワード数）を設定する組み込み機能を提供します。これはカスタム開発を必要としない、最もシンプルで直接的なソリューションです。",
      "difficulty": "easy"
    },
    {
      "id": 36,
      "domain": 2,
      "question": "アプリケーションがバースト性の画像処理タスクを処理する必要があります。タスクは遅延を許容できますが、確実に完了する必要があります。各タスクの処理時間は約5分です。最適なアーキテクチャは何ですか？",
      "options": {
        "A": "API Gateway + Lambda",
        "B": "SQS + Lambda（またはECS）",
        "C": "SNS + Lambda",
        "D": "Kinesis + Lambda"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "SQSは信頼性の高いメッセージキューを提供し、タスクが失われないことを保証します。LambdaまたはECSはキューからメッセージを消費して処理できます。SQSの可視性タイムアウトとデッドレターキュー機能により、タスクが最終的に完了することが保証されます。5分の処理時間はLambdaの制限内ですが、より長い時間が必要な場合はECSを使用できます。",
      "difficulty": "medium"
    },
    {
      "id": 37,
      "domain": 3,
      "question": "CloudWatchアラームがEC2インスタンスのCPU使用率が持続的に低い（< 5%）ことを示していますが、メモリ使用率は高いです。問題をどのように診断しますか？",
      "options": {
        "A": "CPU使用率が低いということはインスタンスが過剰にプロビジョニングされているので、サイズを縮小すべき",
        "B": "CloudWatch Agentをインストールしてメモリメトリクスを収集し、詳細な分析を行う必要がある",
        "C": "メモリ最適化インスタンスに直接アップグレードする",
        "D": "これは正常であり、対処は不要"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "EC2はデフォルトではCloudWatchにメモリ使用率を報告しません。問題文でメモリ使用率データが言及されている場合、CloudWatch Agentがすでにインストールされていることを意味します。次のステップはメモリ使用パターンを詳細に分析し、アプリケーションのメモリリークなのか、本当により多くのメモリが必要なのかを判断することです。",
      "difficulty": "medium"
    },
    {
      "id": 38,
      "domain": 4,
      "question": "企業のオンプレミスActive Directoryには10,000人のユーザーがおり、AWSへの移行後も既存のIDを使用してAWSサービスの認証を続ける必要があります。最適なソリューションは何ですか？",
      "options": {
        "A": "IAMで各ユーザーに対応するIAMユーザーを作成する",
        "B": "AWS Directory ServiceのAD Connectorを使用してオンプレミスADに接続する",
        "C": "すべてのユーザーをAmazon Cognitoにインポートする",
        "D": "AWS SSO（IAM Identity Center）を使用してオンプレミスADと統合する"
      },
      "answer": "D",
      "answerType": "single",
      "explanation": "AWS IAM Identity Center（旧AWS SSO）はオンプレミスActive Directoryと統合でき、ユーザーが既存の企業資格情報を使用してAWSアカウントとアプリケーションにアクセスできるようにします。集中アクセス管理とシングルサインオンを提供し、エンタープライズレベルのID連携に最適な選択肢です。",
      "difficulty": "medium"
    },
    {
      "id": 39,
      "domain": 1,
      "question": "企業がAWSとAzure間でプライベートネットワーク接続を確立する必要があります。どのソリューションを使用すべきですか？",
      "options": {
        "A": "パブリックインターネット経由でVPNを使用する",
        "B": "AWS Direct ConnectとAzure ExpressRouteを使用して同じコロケーション施設に接続する",
        "C": "AWS Transit Gatewayを使用してAzureに直接接続する",
        "D": "AWS PrivateLinkを使用してAzureに接続する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "AWSとAzure間でプライベート接続を確立するには、両方のクラウドプロバイダーをサポートするコロケーション施設（Equinixなど）でDirect ConnectとExpressRoute接続を確立し、その施設を経由してトラフィックをルーティングできます。これにより低レイテンシーのプライベート接続が提供されます。",
      "difficulty": "hard"
    },
    {
      "id": 40,
      "domain": 2,
      "question": "モバイルアプリバックエンドがオフラインデータ同期機能を提供する必要があります。ユーザーはオフライン状態でデータを変更でき、オンラインになったら自動的に同期して競合を解決する必要があります。推奨されるソリューションは何ですか？",
      "options": {
        "A": "DynamoDBとカスタム同期ロジックを使用する",
        "B": "AWS AppSyncとAmplify DataStoreを使用する",
        "C": "Amazon Cognito Syncを使用する",
        "D": "S3を使用してユーザーデータを保存する"
      },
      "answer": "B",
      "answerType": "single",
      "explanation": "AWS AppSyncはGraphQL APIを提供し、Amplify DataStoreと組み合わせてオフラインファーストのデータ同期を実現できます。DataStoreはオフラインストレージ、ネットワーク検出、データ同期、競合解決を自動的に処理します。Cognito Syncは廃止されており、新しいアプリケーションには推奨されません。",
      "difficulty": "hard"
    }
  ]
}
