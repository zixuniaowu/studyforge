{
  "exam": {
    "id": "aws-ans-c01-set2-ja",
    "name": "AWS ANS-C01 模擬試験 #2",
    "code": "ANS-C01",
    "provider": "AWS",
    "language": "ja",
    "description": "AWS高度なネットワーキング専門認定試験模擬問題 - 第2セット",
    "totalQuestions": 40,
    "passingScore": 75,
    "examTime": 170,
    "domains": [
      {"id": 1, "name": "ネットワーク設計", "weight": 30},
      {"id": 2, "name": "ネットワーク実装", "weight": 26},
      {"id": 3, "name": "ネットワーク管理と運用", "weight": 20},
      {"id": 4, "name": "ネットワークセキュリティ、コンプライアンス、ガバナンス", "weight": 24}
    ],
    "tags": ["AWS", "Networking", "ANS", "認定試験", "専門級"]
  },
  "questions": [
    {"id": "q1", "domain": 1, "question": "会社が複数のVPCをオンプレミスデータセンターに接続し、すべてのVPC間でも通信が必要です。最適なソリューションは何ですか？", "options": {"A": "各VPCに個別のVPN接続を作成", "B": "Transit Gatewayを使用してすべてのVPCとオンプレミスネットワークを接続", "C": "VPC Peeringですべてのポイントを接続", "D": "各VPCにDirect Connectを設定"}, "answer": "B", "explanation": "Transit Gatewayは中央ハブとして機能し、複数のVPCとオンプレミスネットワークを接続して推移的ルーティングをサポートします。"},
    {"id": "q2", "domain": 1, "question": "ネットワークアーキテクチャでアプリケーション層とデータベース層間のトラフィックを特定のポートのみに制限する必要があります。最も細かい制御を実現する方法は？", "options": {"A": "セキュリティグループのみ使用", "B": "ネットワークACLのみ使用", "C": "セキュリティグループでインスタンスレベル、ネットワークACLでサブネットレベルの制御を組み合わせ", "D": "AWS WAFを使用"}, "answer": "C", "explanation": "セキュリティグループはステートフルなインスタンスレベル制御、ネットワークACLはステートレスなサブネットレベル制御を提供し、多層防御を実現します。"},
    {"id": "q3", "domain": 1, "question": "複数のAWSリージョン間で低レイテンシ、高帯域幅のプライベート接続が必要です。最適な方法は何ですか？", "options": {"A": "パブリックインターネットを使用", "B": "VPN over Internet", "C": "AWS Global Acceleratorを使用", "D": "Inter-Region VPC Peeringを使用"}, "answer": "D", "explanation": "Inter-Region VPC PeeringはAWSバックボーンネットワークを使用してリージョン間でプライベート接続を提供し、低レイテンシと高帯域幅を実現します。"},
    {"id": "q4", "domain": 2, "question": "オンプレミスから複数のVPCのプライベートリソースにDirect Connectでアクセスする必要があります。最も効率的な方法は何ですか？", "options": {"A": "各VPCに個別のプライベートVIFを作成", "B": "Direct Connect Gatewayを使用して複数のVPCを関連付け", "C": "パブリックVIFを使用", "D": "VPNをバックアップとして使用"}, "answer": "B", "explanation": "Direct Connect Gatewayは単一のDirect Connect接続を複数のVPC（同一または異なるアカウント）に関連付けることができ、管理を簡素化します。"},
    {"id": "q5", "domain": 2, "question": "VPN接続のトンネルが頻繁に切断されます。最も可能性の高い原因と解決策は何ですか？", "options": {"A": "VPN帯域幅を増加", "B": "DPD（Dead Peer Detection）設定とキープアライブ設定を確認・調整", "C": "VPNデバイスを交換", "D": "より大きなインスタンスタイプを使用"}, "answer": "B", "explanation": "トンネルの不安定性は通常DPD設定とキープアライブ設定に関連し、両端のタイムアウト設定の互換性を確保する必要があります。"},
    {"id": "q6", "domain": 2, "question": "Route 53 Resolverでオンプレミスネットワークからのクエリを受け入れてAWSプライベートホストゾーンのDNSレコードを解決するには何が必要ですか？", "options": {"A": "Route 53パブリックホストゾーン", "B": "Route 53 Resolverインバウンドエンドポイント", "C": "Route 53 Resolverアウトバウンドエンドポイント", "D": "Route 53ヘルスチェック"}, "answer": "B", "explanation": "インバウンドエンドポイントはオンプレミスネットワークからのDNSクエリをRoute 53 Resolverに転送し、VPC内のプライベートDNSレコードを解決できるようにします。"},
    {"id": "q7", "domain": 3, "question": "VPC内のすべてのネットワークインターフェースのトラフィックを監視してセキュリティ分析を行う最適な方法は何ですか？", "options": {"A": "CloudWatch Logsを使用", "B": "VPC Flow LogsをS3またはCloudWatch Logsに送信するよう設定", "C": "AWS Configを使用", "D": "CloudTrailを使用"}, "answer": "B", "explanation": "VPC Flow Logsはネットワークインターフェースを通過するIPトラフィック情報をキャプチャし、S3またはCloudWatch Logsに送信して分析できます。"},
    {"id": "q8", "domain": 3, "question": "Transit Gatewayルートテーブルに同じ宛先への複数のルートがある場合、AWSはどのようにルートを選択しますか？", "options": {"A": "ランダムに選択", "B": "ルート追加順に選択", "C": "最長プレフィックスマッチを選択、同じプレフィックスの場合は静的ルートが伝播ルートより優先", "D": "負荷分散"}, "answer": "C", "explanation": "Transit Gatewayは最長プレフィックスマッチを使用し、同じプレフィックス長の場合は静態ルートが伝播ルートより優先されます。"},
    {"id": "q9", "domain": 3, "question": "VPCネットワーク設定の変更を監査してコンプライアンスチェックを行う最適なサービスは何ですか？", "options": {"A": "CloudWatch", "B": "AWS Config", "C": "VPC Flow Logs", "D": "CloudTrail"}, "answer": "B", "explanation": "AWS Configはリソース設定履歴を記録し、設定が必要な要件に準拠しているかどうかを評価し、変更時に通知を送信できます。"},
    {"id": "q10", "domain": 4, "question": "VPC内で特定のIPアドレス範囲からのすべての受信トラフィックをブロックする最も効果的な方法は何ですか？", "options": {"A": "すべてのセキュリティグループを更新", "B": "ネットワークACLの拒否ルールを使用", "C": "AWS WAFを使用", "D": "Route 53を使用"}, "answer": "B", "explanation": "ネットワークACLは明示的な拒否ルールをサポートし、サブネット境界で特定のIP範囲からのトラフィックを効率的にブロックできます。"},
    {"id": "q11", "domain": 4, "question": "VPCエンドポイントを特定のIAMユーザーまたはロールのみがアクセスできるようにするには何を使用しますか？", "options": {"A": "セキュリティグループ", "B": "ネットワークACL", "C": "VPCエンドポイントポリシー", "D": "S3バケットポリシー"}, "answer": "C", "explanation": "VPCエンドポイントポリシーはIAMリソースポリシーであり、どのプリンシパルがエンドポイントを介してサービスにアクセスできるかを制御できます。"},
    {"id": "q12", "domain": 1, "question": "プライベートサブネットのインスタンスがインターネットに露出せずにS3にアクセスできるようにする最適な方法は何ですか？", "options": {"A": "NAT Gatewayを使用", "B": "S3 Gatewayエンドポイントを使用", "C": "Internet Gatewayを使用", "D": "VPNを使用"}, "answer": "B", "explanation": "S3 GatewayエンドポイントはVPC内のリソースがプライベート接続でS3にアクセスすることを許可し、トラフィックはインターネットを経由しません。NAT Gatewayも不要です。"},
    {"id": "q13", "domain": 1, "question": "会社に複数のAWSアカウントがあり、クロスアカウントネットワーク接続を一元管理する必要があります。最適な方法は何ですか？", "options": {"A": "VPC Peeringを使用", "B": "AWS RAMでTransit Gatewayを共有", "C": "各アカウントに独立したネットワークを作成", "D": "PrivateLinkを使用"}, "answer": "B", "explanation": "AWS Resource Access ManagerでTransit Gatewayを共有することで、複数アカウントのネットワーク接続を一元管理できます。"},
    {"id": "q14", "domain": 2, "question": "Direct Connectでプライマリ/バックアップ高可用性を実装する最適な方法は何ですか？", "options": {"A": "単一接続の2つのVIFを使用", "B": "異なるロケーションに2つの独立したDirect Connect接続を設定", "C": "Link Aggregation Groupを使用", "D": "VPNバックアップのみ使用"}, "answer": "B", "explanation": "異なるDirect Connectロケーションで接続を設定することで単一障害点を回避し、真の高可用性を実現します。"},
    {"id": "q15", "domain": 2, "question": "オンプレミスのBGPルートを複数のVPCにアドバタイズする必要があります。Direct Connect使用時にどのように設定しますか？", "options": {"A": "各VPCに個別のBGPセッションを設定", "B": "Transit VIFを使用してTransit Gatewayに接続", "C": "パブリックVIFを使用", "D": "BGPを無効化"}, "answer": "B", "explanation": "Transit VIFはTransit Gatewayに接続し、BGPルートを関連付けられたすべてのVPCに伝播できます。"},
    {"id": "q16", "domain": 3, "question": "CloudWatchでNAT GatewayのErrorPortAllocationメトリクスが上昇しています。考えられる原因は何ですか？", "options": {"A": "NAT Gateway帯域幅不足", "B": "宛先IP/ポートの組み合わせが多すぎてポートが枯渇", "C": "セキュリティグループ設定エラー", "D": "サブネットルート設定エラー"}, "answer": "B", "explanation": "各宛先IP:ポートの組み合わせには55000同時接続の制限があり、接続が多すぎるとポートが枯渇します。複数のNAT Gatewayの使用を検討してください。"},
    {"id": "q17", "domain": 3, "question": "VPC内のネットワーク異常（ポートスキャンや不審なアウトバウンド接続など）を検出する最適なサービスは何ですか？", "options": {"A": "VPC Flow Logs", "B": "Amazon GuardDuty", "C": "AWS Config", "D": "CloudTrail"}, "answer": "B", "explanation": "GuardDutyは機械学習を使用してVPC Flow Logs、DNSログ、CloudTrailを分析し、ネットワークの脅威と異常な動作を自動検出します。"},
    {"id": "q18", "domain": 4, "question": "Transit Gateway上のすべてのトラフィックを暗号化する方法は何ですか？", "options": {"A": "Transit Gatewayはデフォルトで暗号化", "B": "VPCアタッチメントの代わりにVPNアタッチメントを使用", "C": "PrivateLinkを使用", "D": "TLSを使用"}, "answer": "B", "explanation": "Transit Gateway VPNアタッチメントはIPsec暗号化を提供しますが、VPCアタッチメント自体はトラフィックを暗号化しません。"},
    {"id": "q19", "domain": 1, "question": "ハイブリッドDNSソリューションを設計する必要があります。オンプレミスサーバーがAWSプライベートDNSを解決でき、AWSリソースもオンプレミスDNSを解決できる必要があります。必要なコンポーネントは何ですか？", "options": {"A": "Route 53パブリックホストゾーンのみ", "B": "Route 53 Resolverインバウンドおよびアウトバウンドエンドポイント", "C": "Route 53 Resolverインバウンドエンドポイントのみ", "D": "Route 53 Resolverアウトバウンドエンドポイントのみ"}, "answer": "B", "explanation": "インバウンドエンドポイントはオンプレミスからのAWS DNS解決を許可し、アウトバウンドエンドポイントはAWSからオンプレミスDNSへの解決を許可し、双方向解決を実現します。"},
    {"id": "q20", "domain": 2, "question": "Site-to-Site VPN接続でトンネルステータスがDOWNと表示されています。最初に何を確認すべきですか？", "options": {"A": "AWSの請求", "B": "カスタマーゲートウェイデバイスのIKEおよびIPsec設定、ファイアウォールルール", "C": "EC2インスタンスのステータス", "D": "Route 53設定"}, "answer": "B", "explanation": "VPNトンネルの問題は通常、IKE/IPsecパラメータの不一致またはファイアウォールがUDP 500/4500ポートをブロックしていることに関連しています。"},
    {"id": "q21", "domain": 3, "question": "複数のVPCに集中型のインターネット出口アクセスを設定する必要があります。最適なアーキテクチャは何ですか？", "options": {"A": "各VPCにNAT Gatewayを設定", "B": "Transit Gatewayと集中型出口VPCを使用", "C": "VPC Peeringを使用", "D": "PrivateLinkを使用"}, "answer": "B", "explanation": "集中型出口VPCにはNAT Gateway/ファイアウォールが含まれ、他のVPCはTransit Gateway経由でアウトバウンドトラフィックをルーティングし、管理とコスト最適化が容易になります。"},
    {"id": "q22", "domain": 4, "question": "特定のVPCからのリクエストのみが特定のAWSサービスにアクセスできるようにする方法は何ですか？", "options": {"A": "セキュリティグループを使用", "B": "サービスのリソースポリシーでaws:SourceVpc条件を使用", "C": "ネットワークACLを使用", "D": "WAFを使用"}, "answer": "B", "explanation": "VPCエンドポイントをサポートするサービスは、リソースポリシーでaws:SourceVpcまたはaws:SourceVpce条件を使用してアクセス元を制限できます。"},
    {"id": "q23", "domain": 1, "question": "会社は数百のVPCを接続し、クロスリージョン通信も必要です。最もスケーラブルな方法は何ですか？", "options": {"A": "VPC Peeringメッシュ", "B": "Transit Gatewayを使用してクロスリージョンピアリングを設定", "C": "VPN Hubを使用", "D": "各VPCにDirect Connectを使用"}, "answer": "B", "explanation": "Transit Gatewayは数千のVPC接続をサポートし、クロスリージョンピアリングは異なるリージョンのTransit Gatewayを相互接続できます。"},
    {"id": "q24", "domain": 2, "question": "Direct Connect経由でパブリックAWSサービス（S3のパブリックエンドポイントなど）にアクセスするには、どのタイプのVIFが必要ですか？", "options": {"A": "プライベートVIF", "B": "パブリックVIF", "C": "Transit VIF", "D": "ホステッドVIF"}, "answer": "B", "explanation": "パブリックVIFはDirect Connect経由ですべてのAWSパブリックサービスのパブリックエンドポイントにアクセスできます。"},
    {"id": "q25", "domain": 3, "question": "VPC Flow Logsの分析を自動化してセキュリティイベントを検出する最適な方法は何ですか？", "options": {"A": "手動分析", "B": "AthenaでS3内のログをクエリし、CloudWatchアラームと組み合わせ", "C": "CloudWatch Logsのみ使用", "D": "AWS Configを使用"}, "answer": "B", "explanation": "Flow LogsをS3に送信し、Athenaを使用してSQL分析を行い、CloudWatchアラームはクエリ結果に基づいて通知をトリガーできます。"},
    {"id": "q26", "domain": 4, "question": "異なるVPC間でアプリケーションサービスを安全に共有する必要がありますが、IPアドレス範囲が重複するVPCではVPC Peeringを使用できません。最適な方法は何ですか？", "options": {"A": "IPアドレスを再計画", "B": "AWS PrivateLinkを使用", "C": "パブリックインターネットを使用", "D": "NATを使用"}, "answer": "B", "explanation": "PrivateLinkはNetwork Load Balancer経由でサービスを公開し、コンシューマーVPCはインターフェースエンドポイント経由でアクセスし、IPアドレスの重複は問題になりません。"},
    {"id": "q27", "domain": 1, "question": "EC2インスタンスが安全にインターネットにアクセスでき、インバウンドトラフィックには完全にクローズドであるようにサブネットを設計する方法は？", "options": {"A": "すべてのインスタンスをパブリックサブネットに配置", "B": "インスタンスをプライベートサブネットに配置し、NAT Gateway経由でインターネットにアクセス", "C": "インスタンスをパブリックサブネットに配置してパブリックIPを削除", "D": "VPNを使用"}, "answer": "B", "explanation": "プライベートサブネットのインスタンスにはパブリックIPがなく、NAT Gateway経由でアウトバウンド接続を開始できますが、インターネットからのインバウンド接続は受け付けません。"},
    {"id": "q28", "domain": 2, "question": "帯域幅を増やすために同じ仮想プライベートゲートウェイに複数のVPN接続を設定する必要があります。どのように実装しますか？", "options": {"A": "同じVGWへの複数のVPNはサポートされていない", "B": "ECMP負荷分散を設定", "C": "Link Aggregationを使用", "D": "Transit Gatewayで複数のVPNアタッチメントを使用し、ECMPを有効化"}, "answer": "D", "explanation": "Transit GatewayはECMP（等コストマルチパスルーティング）をサポートし、複数のVPN接続間でトラフィックを分散して帯域幅を増加できます。"},
    {"id": "q29", "domain": 3, "question": "複数のアカウントにまたがるVPCネットワーク接続の問題を分析する最適なツールは何ですか？", "options": {"A": "VPC Flow Logs", "B": "VPC Reachability Analyzer", "C": "AWS Config", "D": "CloudTrail"}, "answer": "B", "explanation": "VPC Reachability AnalyzerはVPC設定を分析し、2つのエンドポイント間のネットワーク接続の到達可能性を検証できます。クロスアカウントシナリオも含みます。"},
    {"id": "q30", "domain": 4, "question": "Network Load Balancerを通過するトラフィックのTLS終端を行う必要があります。NLBはどのTLS機能をサポートしていますか？", "options": {"A": "NLBはTLS終端をサポートしていない", "B": "NLBはTLS終端をサポートし、ACM証明書を使用", "C": "ALBを使用する必要がある", "D": "ターゲットでTLSを終端する必要がある"}, "answer": "B", "explanation": "NLBはTLSリスナーをサポートし、ACM証明書を使用してTLS終端を行い、バックエンドインスタンスの暗号化負荷を軽減できます。"},
    {"id": "q31", "domain": 1, "question": "グローバルユーザーに最適なパフォーマンスでアプリケーションアクセスを提供するにはどうすればよいですか？ネットワークパスを最適化する方法は？", "options": {"A": "単一リージョンデプロイを使用", "B": "AWS Global Acceleratorを使用", "C": "インスタンスサイズを増加", "D": "より多くのアベイラビリティゾーンを使用"}, "answer": "B", "explanation": "Global AcceleratorはAWSグローバルネットワークとエニーキャストIPを使用して、ユーザートラフィックを最も近い健全なエンドポイントにルーティングし、レイテンシを削減します。"},
    {"id": "q32", "domain": 2, "question": "Direct Connect接続確立後、BGPセッションが正常に機能しているかどうかを確認する方法は何ですか？", "options": {"A": "AWSコンソールでVIFステータスを確認", "B": "BGPステータスとルート交換を確認し、CloudWatch BGPメトリクスも確認", "C": "pingテスト", "D": "請求を確認"}, "answer": "B", "explanation": "BGPセッションの検証には、両端のBGPネイバーステータス、受信およびアドバタイズされたルートプレフィックスを確認する必要があります。CloudWatchはBGPステータスメトリクスを提供します。"},
    {"id": "q33", "domain": 3, "question": "Transit Gatewayアタッチメントが特定のルートテーブルにのみ関連付けられるように制限する方法は何ですか？", "options": {"A": "セキュリティグループを使用", "B": "IAMポリシーで関連付け操作を制限", "C": "ネットワークACLを使用", "D": "この機能はサポートされていない"}, "answer": "B", "explanation": "IAMポリシーは条件を使用して、ユーザーがアタッチメントを特定のTransit Gatewayルートテーブルにのみ関連付けることを制限できます。"},
    {"id": "q34", "domain": 4, "question": "DDoS攻撃からVPC内のアプリケーションを保護するために、AWS Shield以外に何を設定すべきですか？", "options": {"A": "インスタンスを増加", "B": "Auto Scaling、CloudFront、WAFを設定", "C": "より大きなインスタンスタイプを使用", "D": "パブリックIPを無効化"}, "answer": "B", "explanation": "Auto Scalingは弾力性を提供し、CloudFrontはエッジでトラフィックを吸収し、WAFは悪意のあるリクエストをフィルタリングし、ShieldとともにDDoS保護を提供します。"},
    {"id": "q35", "domain": 1, "question": "複数のAZ間でアプリケーションの高可用性を実現しながら、クロスAZデータ転送コストを最小化するにはどうすればよいですか？", "options": {"A": "すべてのインスタンスを1つのAZに配置", "B": "アプリケーションレベルのAZアフィニティを使用して、同じAZのリソースを優先的に使用", "C": "単一の大きなインスタンスを使用", "D": "クロスAZ通信を無効化"}, "answer": "B", "explanation": "アプリケーションは同じAZのリソース（データベースリードレプリカなど）を優先的に使用するように設計でき、クロスAZトラフィックを削減しながら高可用性を維持できます。"},
    {"id": "q36", "domain": 2, "question": "オンプレミスネットワークの複数のVLANをAWSにマッピングする必要があります。Direct Connectを使用してどのように実装しますか？", "options": {"A": "複数の物理接続を作成", "B": "同じ物理接続上に複数のVIFを作成し、各VIFに異なるVLAN IDを使用", "C": "VPNを使用", "D": "VLANマッピングはサポートされていない"}, "answer": "B", "explanation": "単一のDirect Connect接続で複数のVIFを作成でき、各VIFは異なるVLAN IDとBGPピアリングを設定できます。"},
    {"id": "q37", "domain": 3, "question": "VPC内のインスタンスがプライベートホストゾーンのDNSレコードを解決できません。考えられる原因は何ですか？", "options": {"A": "インスタンスにパブリックIPがない", "B": "VPCがプライベートホストゾーンに関連付けられていない、またはenableDnsHostnames/enableDnsSupportが有効になっていない", "C": "セキュリティグループがブロック", "D": "ネットワークACLがブロック"}, "answer": "B", "explanation": "プライベートホストゾーンはVPCに関連付ける必要があり、VPCはDNSサポートとDNSホスト名を有効にしてプライベートDNSを解決できるようにする必要があります。"},
    {"id": "q38", "domain": 4, "question": "すべてのAWSサービスへのAPI呼び出しがVPCエンドポイント経由で行われることを強制する方法は何ですか？", "options": {"A": "セキュリティグループを使用", "B": "サービスリソースポリシーでaws:SourceVpce条件を使用して非VPCエンドポイントリクエストを拒否", "C": "ネットワークACLを使用", "D": "IAMポリシーを使用"}, "answer": "B", "explanation": "サービスリソースポリシー（S3バケットポリシーなど）は条件を使用して、指定されたVPCエンドポイントからではないリクエストを拒否できます。"},
    {"id": "q39", "domain": 1, "question": "オンプレミスとAWS間でワークロードをシームレスに移行するネットワークアーキテクチャを設計する必要があります。主な考慮事項は何ですか？", "options": {"A": "パブリックIPを使用", "B": "一貫したIPアドレス計画、DNS、ハイブリッド接続（Direct Connect/VPN）を使用", "C": "NATを使用", "D": "アプリケーションを再設計"}, "answer": "B", "explanation": "一貫したIP計画は競合を回避し、ハイブリッドDNSはサービス検出を確保し、信頼性の高い接続（Direct Connect優先）はネットワーク到達性を確保します。"},
    {"id": "q40", "domain": 4, "question": "Network Firewallを通過するすべてのトラフィックを監視して記録し、コンプライアンス要件を満たす必要があります。どのように設定しますか？", "options": {"A": "VPC Flow Logsを使用", "B": "Network Firewallのログ記録をS3、CloudWatch Logs、またはKinesisに送信するよう設定", "C": "CloudTrailを使用", "D": "手動監査"}, "answer": "B", "explanation": "AWS Network Firewallはアラートログとフローログの送信をサポートし、S3、CloudWatch Logs、またはKinesis Data Firehoseに送信して保存と分析ができます。"}
  ]
}
