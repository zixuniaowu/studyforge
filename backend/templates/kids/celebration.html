<!DOCTYPE html>
<html lang="{{ language }}">
<head>
    <meta charset="UTF-8">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700;900&family=Noto+Sans+JP:wght@400;700;900&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Noto Sans SC', 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, #FFE66D 0%, #FF6B6B 50%, #4ECDC4 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .container {
            width: 1920px;
            height: 1080px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Confetti animation */
        .confetti {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .confetti-piece {
            position: absolute;
            font-size: 60px;
            animation: fall 3s linear infinite;
        }

        .confetti-piece:nth-child(1) { left: 5%; animation-delay: 0s; }
        .confetti-piece:nth-child(2) { left: 15%; animation-delay: 0.2s; }
        .confetti-piece:nth-child(3) { left: 25%; animation-delay: 0.4s; }
        .confetti-piece:nth-child(4) { left: 35%; animation-delay: 0.6s; }
        .confetti-piece:nth-child(5) { left: 45%; animation-delay: 0.8s; }
        .confetti-piece:nth-child(6) { left: 55%; animation-delay: 1s; }
        .confetti-piece:nth-child(7) { left: 65%; animation-delay: 1.2s; }
        .confetti-piece:nth-child(8) { left: 75%; animation-delay: 1.4s; }
        .confetti-piece:nth-child(9) { left: 85%; animation-delay: 1.6s; }
        .confetti-piece:nth-child(10) { left: 95%; animation-delay: 1.8s; }

        @keyframes fall {
            0% { top: -10%; transform: rotate(0deg); opacity: 1; }
            100% { top: 110%; transform: rotate(720deg); opacity: 0.5; }
        }

        .celebration-card {
            background: white;
            border-radius: 60px;
            padding: 80px 120px;
            text-align: center;
            box-shadow: 0 40px 100px rgba(0,0,0,0.3);
            position: relative;
            z-index: 10;
        }

        .trophy {
            font-size: 200px;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .title {
            font-size: 72px;
            font-weight: 900;
            background: linear-gradient(135deg, #FF6B6B, #FFE66D, #4ECDC4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 30px 0;
        }

        .message {
            font-size: 36px;
            color: #6b7280;
            margin-bottom: 40px;
        }

        .stars-earned {
            display: inline-flex;
            align-items: center;
            gap: 20px;
            background: linear-gradient(135deg, #FFE66D, #FF8E53);
            padding: 24px 60px;
            border-radius: 50px;
            font-size: 42px;
            font-weight: bold;
            color: white;
            box-shadow: 0 10px 30px rgba(255,142,83,0.4);
        }

        .stars-earned .icon {
            font-size: 48px;
        }

        .next-lesson {
            margin-top: 40px;
            font-size: 28px;
            color: #9ca3af;
        }

        .next-lesson-title {
            color: #4f46e5;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="confetti">
            <span class="confetti-piece">üéâ</span>
            <span class="confetti-piece">‚≠ê</span>
            <span class="confetti-piece">üéä</span>
            <span class="confetti-piece">‚ú®</span>
            <span class="confetti-piece">üåü</span>
            <span class="confetti-piece">üéâ</span>
            <span class="confetti-piece">‚≠ê</span>
            <span class="confetti-piece">üéä</span>
            <span class="confetti-piece">‚ú®</span>
            <span class="confetti-piece">üåü</span>
        </div>

        <div class="celebration-card">
            <div class="trophy">üèÜ</div>
            <h1 class="title">{{ title }}</h1>
            <p class="message">{{ message }}</p>
            <div class="stars-earned">
                <span class="icon">‚≠ê</span>
                <span>+{{ stars }} {{ stars_label }}</span>
            </div>
            {% if next_lesson %}
            <p class="next-lesson">
                {{ next_label }} <span class="next-lesson-title">{{ next_lesson }}</span>
            </p>
            {% endif %}
        </div>
    </div>
</body>
</html>
